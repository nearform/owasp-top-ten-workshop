function Bn(t,n){const s=Object.create(null),o=t.split(",");for(let l=0;l<o.length;l++)s[o[l]]=!0;return n?l=>!!s[l.toLowerCase()]:l=>!!s[l]}function st(t){if(pe(t)){const n={};for(let s=0;s<t.length;s++){const o=t[s],l=Me(o)?lu(o):st(o);if(l)for(const r in l)n[r]=l[r]}return n}else{if(Me(t))return t;if(Se(t))return t}}const nu=/;(?![^(]*\))/g,su=/:([^]+)/,ou=/\/\*.*?\*\//gs;function lu(t){const n={};return t.replace(ou,"").split(nu).forEach(s=>{if(s){const o=s.split(su);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function He(t){let n="";if(Me(t))n=t;else if(pe(t))for(let s=0;s<t.length;s++){const o=He(t[s]);o&&(n+=o+" ")}else if(Se(t))for(const s in t)t[s]&&(n+=s+" ");return n.trim()}function Y(t){if(!t)return null;let{class:n,style:s}=t;return n&&!Me(n)&&(t.class=He(n)),s&&(t.style=st(s)),t}const ru="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",au="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",iu=Bn(ru),cu=Bn(au),pu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uu=Bn(pu);function Ni(t){return!!t||t===""}const Kn=t=>Me(t)?t:t==null?"":pe(t)||Se(t)&&(t.toString===Vi||!fe(t.toString))?JSON.stringify(t,ji,2):String(t),ji=(t,n)=>n&&n.__v_isRef?ji(t,n.value):Mn(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[o,l])=>(s[`${o} =>`]=l,s),{})}:Ui(n)?{[`Set(${n.size})`]:[...n.values()]}:Se(n)&&!pe(n)&&!Wi(n)?String(n):n,Oe=Object.freeze({}),fs=Object.freeze([]),ft=()=>{},Hi=()=>!1,du=/^on[^a-z]/,ao=t=>du.test(t),Fo=t=>t.startsWith("onUpdate:"),Ne=Object.assign,ur=(t,n)=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)},fu=Object.prototype.hasOwnProperty,Ae=(t,n)=>fu.call(t,n),pe=Array.isArray,Mn=t=>Go(t)==="[object Map]",Ui=t=>Go(t)==="[object Set]",fe=t=>typeof t=="function",Me=t=>typeof t=="string",dr=t=>typeof t=="symbol",Se=t=>t!==null&&typeof t=="object",fr=t=>Se(t)&&fe(t.then)&&fe(t.catch),Vi=Object.prototype.toString,Go=t=>Vi.call(t),hr=t=>Go(t).slice(8,-1),Wi=t=>Go(t)==="[object Object]",yr=t=>Me(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Do=Bn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hu=Bn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Qo=t=>{const n=Object.create(null);return s=>n[s]||(n[s]=t(s))},yu=/-(\w)/g,Vt=Qo(t=>t.replace(yu,(n,s)=>s?s.toUpperCase():"")),mu=/\B([A-Z])/g,on=Qo(t=>t.replace(mu,"-$1").toLowerCase()),Yn=Qo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Tn=Qo(t=>t?`on${Yn(t)}`:""),zs=(t,n)=>!Object.is(t,n),mn=(t,n)=>{for(let s=0;s<t.length;s++)t[s](n)},Oo=(t,n,s)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:s})},Ks=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let ta;const zi=()=>ta||(ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Io(t,...n){console.warn(`[Vue warn] ${t}`,...n)}let mt;class Ki{constructor(n=!1){this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=mt,!n&&mt&&(this.index=(mt.scopes||(mt.scopes=[])).push(this)-1)}run(n){if(this.active){const s=mt;try{return mt=this,n()}finally{mt=s}}else Io("cannot run an inactive effect scope.")}on(){mt=this}off(){mt=this.parent}stop(n){if(this.active){let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.scopes)for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this.active=!1}}}function R7(t){return new Ki(t)}function gu(t,n=mt){n&&n.active&&n.effects.push(t)}function vu(){return mt}function _u(t){mt?mt.cleanups.push(t):Io("onScopeDispose() is called when there is no active effect scope to be associated with.")}const mr=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Yi=t=>(t.w&En)>0,Gi=t=>(t.n&En)>0,Au=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=En},wu=t=>{const{deps:n}=t;if(n.length){let s=0;for(let o=0;o<n.length;o++){const l=n[o];Yi(l)&&!Gi(l)?l.delete(t):n[s++]=l,l.w&=~En,l.n&=~En}n.length=s}},$l=new WeakMap;let Is=0,En=1;const Tl=30;let ct;const qn=Symbol("iterate"),Pl=Symbol("Map key iterate");class gr{constructor(n,s=null,o){this.fn=n,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,gu(this,o)}run(){if(!this.active)return this.fn();let n=ct,s=vn;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=ct,ct=this,vn=!0,En=1<<++Is,Is<=Tl?Au(this):na(this),this.fn()}finally{Is<=Tl&&wu(this),En=1<<--Is,ct=this.parent,vn=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ct===this?this.deferStop=!0:this.active&&(na(this),this.onStop&&this.onStop(),this.active=!1)}}function na(t){const{deps:n}=t;if(n.length){for(let s=0;s<n.length;s++)n[s].delete(t);n.length=0}}let vn=!0;const Qi=[];function Xn(){Qi.push(vn),vn=!1}function es(){const t=Qi.pop();vn=t===void 0?!0:t}function _t(t,n,s){if(vn&&ct){let o=$l.get(t);o||$l.set(t,o=new Map);let l=o.get(s);l||o.set(s,l=mr()),Ji(l,{effect:ct,target:t,type:n,key:s})}}function Ji(t,n){let s=!1;Is<=Tl?Gi(t)||(t.n|=En,s=!Yi(t)):s=!t.has(ct),s&&(t.add(ct),ct.deps.push(t),ct.onTrack&&ct.onTrack(Object.assign({effect:ct},n)))}function ln(t,n,s,o,l,r){const a=$l.get(t);if(!a)return;let c=[];if(n==="clear")c=[...a.values()];else if(s==="length"&&pe(t)){const u=Ks(o);a.forEach((d,f)=>{(f==="length"||f>=u)&&c.push(d)})}else switch(s!==void 0&&c.push(a.get(s)),n){case"add":pe(t)?yr(s)&&c.push(a.get("length")):(c.push(a.get(qn)),Mn(t)&&c.push(a.get(Pl)));break;case"delete":pe(t)||(c.push(a.get(qn)),Mn(t)&&c.push(a.get(Pl)));break;case"set":Mn(t)&&c.push(a.get(qn));break}const p={target:t,type:n,key:s,newValue:o,oldValue:l,oldTarget:r};if(c.length===1)c[0]&&Fl(c[0],p);else{const u=[];for(const d of c)d&&u.push(...d);Fl(mr(u),p)}}function Fl(t,n){const s=pe(t)?t:[...t];for(const o of s)o.computed&&sa(o,n);for(const o of s)o.computed||sa(o,n)}function sa(t,n){(t!==ct||t.allowRecurse)&&(t.onTrigger&&t.onTrigger(Ne({effect:t},n)),t.scheduler?t.scheduler():t.run())}const bu=Bn("__proto__,__v_isRef,__isVue"),Zi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(dr)),Eu=Jo(),Du=Jo(!1,!0),ku=Jo(!0),Cu=Jo(!0,!0),oa=Bu();function Bu(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...s){const o=me(this);for(let r=0,a=this.length;r<a;r++)_t(o,"get",r+"");const l=o[n](...s);return l===-1||l===!1?o[n](...s.map(me)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...s){Xn();const o=me(this)[n].apply(this,s);return es(),o}}),t}function Jo(t=!1,n=!1){return function(o,l,r){if(l==="__v_isReactive")return!t;if(l==="__v_isReadonly")return t;if(l==="__v_isShallow")return n;if(l==="__v_raw"&&r===(t?n?rc:lc:n?oc:sc).get(o))return o;const a=pe(o);if(!t&&a&&Ae(oa,l))return Reflect.get(oa,l,r);const c=Reflect.get(o,l,r);return(dr(l)?Zi.has(l):bu(l))||(t||_t(o,"get",l),n)?c:Ce(c)?a&&yr(l)?c:c.value:Se(c)?t?jt(c):Xe(c):c}}const xu=Xi(),Su=Xi(!0);function Xi(t=!1){return function(s,o,l,r){let a=s[o];if(Dn(a)&&Ce(a)&&!Ce(l))return!1;if(!t&&(!Ro(l)&&!Dn(l)&&(a=me(a),l=me(l)),!pe(s)&&Ce(a)&&!Ce(l)))return a.value=l,!0;const c=pe(s)&&yr(o)?Number(o)<s.length:Ae(s,o),p=Reflect.set(s,o,l,r);return s===me(r)&&(c?zs(l,a)&&ln(s,"set",o,l,a):ln(s,"add",o,l)),p}}function $u(t,n){const s=Ae(t,n),o=t[n],l=Reflect.deleteProperty(t,n);return l&&s&&ln(t,"delete",n,void 0,o),l}function Tu(t,n){const s=Reflect.has(t,n);return(!dr(n)||!Zi.has(n))&&_t(t,"has",n),s}function Pu(t){return _t(t,"iterate",pe(t)?"length":qn),Reflect.ownKeys(t)}const ec={get:Eu,set:xu,deleteProperty:$u,has:Tu,ownKeys:Pu},tc={get:ku,set(t,n){return Io(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0},deleteProperty(t,n){return Io(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}},Fu=Ne({},ec,{get:Du,set:Su}),Ou=Ne({},tc,{get:Cu}),vr=t=>t,Zo=t=>Reflect.getPrototypeOf(t);function yo(t,n,s=!1,o=!1){t=t.__v_raw;const l=me(t),r=me(n);s||(n!==r&&_t(l,"get",n),_t(l,"get",r));const{has:a}=Zo(l),c=o?vr:s?Ar:Ys;if(a.call(l,n))return c(t.get(n));if(a.call(l,r))return c(t.get(r));t!==l&&t.get(n)}function mo(t,n=!1){const s=this.__v_raw,o=me(s),l=me(t);return n||(t!==l&&_t(o,"has",t),_t(o,"has",l)),t===l?s.has(t):s.has(t)||s.has(l)}function go(t,n=!1){return t=t.__v_raw,!n&&_t(me(t),"iterate",qn),Reflect.get(t,"size",t)}function la(t){t=me(t);const n=me(this);return Zo(n).has.call(n,t)||(n.add(t),ln(n,"add",t,t)),this}function ra(t,n){n=me(n);const s=me(this),{has:o,get:l}=Zo(s);let r=o.call(s,t);r?nc(s,o,t):(t=me(t),r=o.call(s,t));const a=l.call(s,t);return s.set(t,n),r?zs(n,a)&&ln(s,"set",t,n,a):ln(s,"add",t,n),this}function aa(t){const n=me(this),{has:s,get:o}=Zo(n);let l=s.call(n,t);l?nc(n,s,t):(t=me(t),l=s.call(n,t));const r=o?o.call(n,t):void 0,a=n.delete(t);return l&&ln(n,"delete",t,void 0,r),a}function ia(){const t=me(this),n=t.size!==0,s=Mn(t)?new Map(t):new Set(t),o=t.clear();return n&&ln(t,"clear",void 0,void 0,s),o}function vo(t,n){return function(o,l){const r=this,a=r.__v_raw,c=me(a),p=n?vr:t?Ar:Ys;return!t&&_t(c,"iterate",qn),a.forEach((u,d)=>o.call(l,p(u),p(d),r))}}function _o(t,n,s){return function(...o){const l=this.__v_raw,r=me(l),a=Mn(r),c=t==="entries"||t===Symbol.iterator&&a,p=t==="keys"&&a,u=l[t](...o),d=s?vr:n?Ar:Ys;return!n&&_t(r,"iterate",p?Pl:qn),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:c?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function cn(t){return function(...n){{const s=n[0]?`on key "${n[0]}" `:"";console.warn(`${Yn(t)} operation ${s}failed: target is readonly.`,me(this))}return t==="delete"?!1:this}}function Iu(){const t={get(r){return yo(this,r)},get size(){return go(this)},has:mo,add:la,set:ra,delete:aa,clear:ia,forEach:vo(!1,!1)},n={get(r){return yo(this,r,!1,!0)},get size(){return go(this)},has:mo,add:la,set:ra,delete:aa,clear:ia,forEach:vo(!1,!0)},s={get(r){return yo(this,r,!0)},get size(){return go(this,!0)},has(r){return mo.call(this,r,!0)},add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear"),forEach:vo(!0,!1)},o={get(r){return yo(this,r,!0,!0)},get size(){return go(this,!0)},has(r){return mo.call(this,r,!0)},add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear"),forEach:vo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=_o(r,!1,!1),s[r]=_o(r,!0,!1),n[r]=_o(r,!1,!0),o[r]=_o(r,!0,!0)}),[t,s,n,o]}const[Ru,Lu,Mu,qu]=Iu();function Xo(t,n){const s=n?t?qu:Mu:t?Lu:Ru;return(o,l,r)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?o:Reflect.get(Ae(s,l)&&l in o?s:o,l,r)}const Nu={get:Xo(!1,!1)},ju={get:Xo(!1,!0)},Hu={get:Xo(!0,!1)},Uu={get:Xo(!0,!0)};function nc(t,n,s){const o=me(s);if(o!==s&&n.call(t,o)){const l=hr(t);console.warn(`Reactive ${l} contains both the raw and reactive versions of the same object${l==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const sc=new WeakMap,oc=new WeakMap,lc=new WeakMap,rc=new WeakMap;function Vu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wu(t){return t.__v_skip||!Object.isExtensible(t)?0:Vu(hr(t))}function Xe(t){return Dn(t)?t:el(t,!1,ec,Nu,sc)}function zu(t){return el(t,!1,Fu,ju,oc)}function jt(t){return el(t,!0,tc,Hu,lc)}function us(t){return el(t,!0,Ou,Uu,rc)}function el(t,n,s,o,l){if(!Se(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(n&&t.__v_isReactive))return t;const r=l.get(t);if(r)return r;const a=Wu(t);if(a===0)return t;const c=new Proxy(t,a===2?o:s);return l.set(t,c),c}function Nn(t){return Dn(t)?Nn(t.__v_raw):!!(t&&t.__v_isReactive)}function Dn(t){return!!(t&&t.__v_isReadonly)}function Ro(t){return!!(t&&t.__v_isShallow)}function Lo(t){return Nn(t)||Dn(t)}function me(t){const n=t&&t.__v_raw;return n?me(n):t}function _r(t){return Oo(t,"__v_skip",!0),t}const Ys=t=>Se(t)?Xe(t):t,Ar=t=>Se(t)?jt(t):t;function wr(t){vn&&ct&&(t=me(t),Ji(t.dep||(t.dep=mr()),{target:t,type:"get",key:"value"}))}function br(t,n){t=me(t),t.dep&&Fl(t.dep,{target:t,type:"set",key:"value",newValue:n})}function Ce(t){return!!(t&&t.__v_isRef===!0)}function ae(t){return ac(t,!1)}function Wt(t){return ac(t,!0)}function ac(t,n){return Ce(t)?t:new Ku(t,n)}class Ku{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:me(n),this._value=s?n:Ys(n)}get value(){return wr(this),this._value}set value(n){const s=this.__v_isShallow||Ro(n)||Dn(n);n=s?n:me(n),zs(n,this._rawValue)&&(this._rawValue=n,this._value=s?n:Ys(n),br(this,n))}}function b(t){return Ce(t)?t.value:t}const Yu={get:(t,n,s)=>b(Reflect.get(t,n,s)),set:(t,n,s,o)=>{const l=t[n];return Ce(l)&&!Ce(s)?(l.value=s,!0):Reflect.set(t,n,s,o)}};function ic(t){return Nn(t)?t:new Proxy(t,Yu)}class Gu{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:o}=n(()=>wr(this),()=>br(this));this._get=s,this._set=o}get value(){return this._get()}set value(n){this._set(n)}}function cc(t){return new Gu(t)}function Qu(t){Lo(t)||console.warn("toRefs() expects a reactive object but received a plain one.");const n=pe(t)?new Array(t.length):{};for(const s in t)n[s]=Zu(t,s);return n}class Ju{constructor(n,s,o){this._object=n,this._key=s,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function Zu(t,n,s){const o=t[n];return Ce(o)?o:new Ju(t,n,s)}var pc;class Xu{constructor(n,s,o,l){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[pc]=!1,this._dirty=!0,this.effect=new gr(n,()=>{this._dirty||(this._dirty=!0,br(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const n=me(this);return wr(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}pc="__v_isReadonly";function ed(t,n,s=!1){let o,l;const r=fe(t);r?(o=t,l=()=>{console.warn("Write operation failed: computed value is readonly")}):(o=t.get,l=t.set);const a=new Xu(o,l,r||!l,s);return n&&!s&&(a.effect.onTrack=n.onTrack,a.effect.onTrigger=n.onTrigger),a}const jn=[];function ko(t){jn.push(t)}function Co(){jn.pop()}function L(t,...n){Xn();const s=jn.length?jn[jn.length-1].component:null,o=s&&s.appContext.config.warnHandler,l=td();if(o)sn(o,s,11,[t+n.join(""),s&&s.proxy,l.map(({vnode:r})=>`at <${cl(s,r.type)}>`).join(`
`),l]);else{const r=[`[Vue warn]: ${t}`,...n];l.length&&r.push(`
`,...nd(l)),console.warn(...r)}es()}function td(){let t=jn[jn.length-1];if(!t)return[];const n=[];for(;t;){const s=n[0];s&&s.vnode===t?s.recurseCount++:n.push({vnode:t,recurseCount:0});const o=t.component&&t.component.parent;t=o&&o.vnode}return n}function nd(t){const n=[];return t.forEach((s,o)=>{n.push(...o===0?[]:[`
`],...sd(s))}),n}function sd({vnode:t,recurseCount:n}){const s=n>0?`... (${n} recursive calls)`:"",o=t.component?t.component.parent==null:!1,l=` at <${cl(t.component,t.type,o)}`,r=">"+s;return t.props?[l,...od(t.props),r]:[l+r]}function od(t){const n=[],s=Object.keys(t);return s.slice(0,3).forEach(o=>{n.push(...uc(o,t[o]))}),s.length>3&&n.push(" ..."),n}function uc(t,n,s){return Me(n)?(n=JSON.stringify(n),s?n:[`${t}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?s?n:[`${t}=${n}`]:Ce(n)?(n=uc(t,me(n.value),!0),s?n:[`${t}=Ref<`,n,">"]):fe(n)?[`${t}=fn${n.name?`<${n.name}>`:""}`]:(n=me(n),s?n:[`${t}=`,n])}const Er={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function sn(t,n,s,o){let l;try{l=o?t(...o):t()}catch(r){tl(r,n,s)}return l}function kt(t,n,s,o){if(fe(t)){const r=sn(t,n,s,o);return r&&fr(r)&&r.catch(a=>{tl(a,n,s)}),r}const l=[];for(let r=0;r<t.length;r++)l.push(kt(t[r],n,s,o));return l}function tl(t,n,s,o=!0){const l=n?n.vnode:null;if(n){let r=n.parent;const a=n.proxy,c=Er[s];for(;r;){const u=r.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,a,c)===!1)return}r=r.parent}const p=n.appContext.config.errorHandler;if(p){sn(p,null,10,[t,a,c]);return}}ld(t,s,l,o)}function ld(t,n,s,o=!0){{const l=Er[n];if(s&&ko(s),L(`Unhandled error${l?` during execution of ${l}`:""}`),s&&Co(),o)throw t;console.error(t)}}let Gs=!1,Ol=!1;const nt=[];let qt=0;const hs=[];let Mt=null,fn=0;const dc=Promise.resolve();let Dr=null;const rd=100;function Ft(t){const n=Dr||dc;return t?n.then(this?t.bind(this):t):n}function ad(t){let n=qt+1,s=nt.length;for(;n<s;){const o=n+s>>>1;Qs(nt[o])<t?n=o+1:s=o}return n}function nl(t){(!nt.length||!nt.includes(t,Gs&&t.allowRecurse?qt+1:qt))&&(t.id==null?nt.push(t):nt.splice(ad(t.id),0,t),fc())}function fc(){!Gs&&!Ol&&(Ol=!0,Dr=dc.then(mc))}function id(t){const n=nt.indexOf(t);n>qt&&nt.splice(n,1)}function hc(t){pe(t)?hs.push(...t):(!Mt||!Mt.includes(t,t.allowRecurse?fn+1:fn))&&hs.push(t),fc()}function ca(t,n=Gs?qt+1:0){for(t=t||new Map;n<nt.length;n++){const s=nt[n];if(s&&s.pre){if(kr(t,s))continue;nt.splice(n,1),n--,s()}}}function yc(t){if(hs.length){const n=[...new Set(hs)];if(hs.length=0,Mt){Mt.push(...n);return}for(Mt=n,t=t||new Map,Mt.sort((s,o)=>Qs(s)-Qs(o)),fn=0;fn<Mt.length;fn++)kr(t,Mt[fn])||Mt[fn]();Mt=null,fn=0}}const Qs=t=>t.id==null?1/0:t.id,cd=(t,n)=>{const s=Qs(t)-Qs(n);if(s===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return s};function mc(t){Ol=!1,Gs=!0,t=t||new Map,nt.sort(cd);const n=s=>kr(t,s);try{for(qt=0;qt<nt.length;qt++){const s=nt[qt];if(s&&s.active!==!1){if(n(s))continue;sn(s,null,14)}}}finally{qt=0,nt.length=0,yc(t),Gs=!1,Dr=null,(nt.length||hs.length)&&mc(t)}}function kr(t,n){if(!t.has(n))t.set(n,1);else{const s=t.get(n);if(s>rd){const o=n.ownerInstance,l=o&&eo(o.type);return L(`Maximum recursive updates exceeded${l?` in component <${l}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else t.set(n,s+1)}}let _n=!1;const is=new Set;zi().__VUE_HMR_RUNTIME__={createRecord:dl(gc),rerender:dl(dd),reload:dl(fd)};const Gn=new Map;function pd(t){const n=t.type.__hmrId;let s=Gn.get(n);s||(gc(n,t.type),s=Gn.get(n)),s.instances.add(t)}function ud(t){Gn.get(t.type.__hmrId).instances.delete(t)}function gc(t,n){return Gn.has(t)?!1:(Gn.set(t,{initialDef:qs(n),instances:new Set}),!0)}function qs(t){return Kc(t)?t.__vccOpts:t}function dd(t,n){const s=Gn.get(t);!s||(s.initialDef.render=n,[...s.instances].forEach(o=>{n&&(o.render=n,qs(o.type).render=n),o.renderCache=[],_n=!0,o.update(),_n=!1}))}function fd(t,n){const s=Gn.get(t);if(!s)return;n=qs(n),pa(s.initialDef,n);const o=[...s.instances];for(const l of o){const r=qs(l.type);is.has(r)||(r!==s.initialDef&&pa(r,n),is.add(r)),l.appContext.optionsCache.delete(l.type),l.ceReload?(is.add(r),l.ceReload(n.styles),is.delete(r)):l.parent?nl(l.parent.update):l.appContext.reload?l.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}hc(()=>{for(const l of o)is.delete(qs(l.type))})}function pa(t,n){Ne(t,n);for(const s in t)s!=="__file"&&!(s in n)&&delete t[s]}function dl(t){return(n,s)=>{try{return t(n,s)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Nt,Rs=[],Il=!1;function io(t,...n){Nt?Nt.emit(t,...n):Il||Rs.push({event:t,args:n})}function vc(t,n){var s,o;Nt=t,Nt?(Nt.enabled=!0,Rs.forEach(({event:l,args:r})=>Nt.emit(l,...r)),Rs=[]):typeof window<"u"&&window.HTMLElement&&!(!((o=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||o===void 0)&&o.includes("jsdom"))?((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{vc(r,n)}),setTimeout(()=>{Nt||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Il=!0,Rs=[])},3e3)):(Il=!0,Rs=[])}function hd(t,n){io("app:init",t,n,{Fragment:xe,Text:fo,Comment:Qe,Static:Bo})}function yd(t){io("app:unmount",t)}const Rl=Cr("component:added"),_c=Cr("component:updated"),md=Cr("component:removed"),gd=t=>{Nt&&typeof Nt.cleanupBuffer=="function"&&!Nt.cleanupBuffer(t)&&md(t)};function Cr(t){return n=>{io(t,n.appContext.app,n.uid,n.parent?n.parent.uid:void 0,n)}}const vd=Ac("perf:start"),_d=Ac("perf:end");function Ac(t){return(n,s,o)=>{io(t,n.appContext.app,n.uid,n,s,o)}}function Ad(t,n,s){io("component:emit",t.appContext.app,t,n,s)}function wd(t,n,...s){if(t.isUnmounted)return;const o=t.vnode.props||Oe;{const{emitsOptions:d,propsOptions:[f]}=t;if(d)if(!(n in d))(!f||!(Tn(n)in f))&&L(`Component emitted event "${n}" but it is neither declared in the emits option nor as an "${Tn(n)}" prop.`);else{const h=d[n];fe(h)&&(h(...s)||L(`Invalid event arguments: event validation failed for event "${n}".`))}}let l=s;const r=n.startsWith("update:"),a=r&&n.slice(7);if(a&&a in o){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:h}=o[d]||Oe;h&&(l=s.map(m=>Me(m)?m.trim():m)),f&&(l=s.map(Ks))}Ad(t,n,l);{const d=n.toLowerCase();d!==n&&o[Tn(d)]&&L(`Event "${d}" is emitted in component ${cl(t,t.type)} but the handler is registered for "${n}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${on(n)}" instead of "${n}".`)}let c,p=o[c=Tn(n)]||o[c=Tn(Vt(n))];!p&&r&&(p=o[c=Tn(on(n))]),p&&kt(p,t,6,l);const u=o[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,kt(u,t,6,l)}}function wc(t,n,s=!1){const o=n.emitsCache,l=o.get(t);if(l!==void 0)return l;const r=t.emits;let a={},c=!1;if(!fe(t)){const p=u=>{const d=wc(u,n,!0);d&&(c=!0,Ne(a,d))};!s&&n.mixins.length&&n.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}return!r&&!c?(Se(t)&&o.set(t,null),null):(pe(r)?r.forEach(p=>a[p]=null):Ne(a,r),Se(t)&&o.set(t,a),a)}function sl(t,n){return!t||!ao(n)?!1:(n=n.slice(2).replace(/Once$/,""),Ae(t,n[0].toLowerCase()+n.slice(1))||Ae(t,on(n))||Ae(t,n))}let Ye=null,ol=null;function Mo(t){const n=Ye;return Ye=t,ol=t&&t.type.__scopeId||null,n}function L7(t){ol=t}function M7(){ol=null}function T(t,n=Ye,s){if(!n||t._n)return t;const o=(...l)=>{o._d&&Ea(-1);const r=Mo(n);let a;try{a=t(...l)}finally{Mo(r),o._d&&Ea(1)}return _c(n),a};return o._n=!0,o._c=!0,o._d=!0,o}let Ll=!1;function qo(){Ll=!0}function fl(t){const{type:n,vnode:s,proxy:o,withProxy:l,props:r,propsOptions:[a],slots:c,attrs:p,emit:u,render:d,renderCache:f,data:h,setupState:m,ctx:g,inheritAttrs:_}=t;let w,C;const D=Mo(t);Ll=!1;try{if(s.shapeFlag&4){const V=l||o;w=$t(d.call(V,V,f,r,m,h,g)),C=p}else{const V=n;p===r&&qo(),w=$t(V.length>1?V(r,{get attrs(){return qo(),p},slots:c,emit:u}):V(r,null)),C=n.props?p:Ed(p)}}catch(V){js.length=0,tl(V,t,1),w=X(Qe)}let B=w,S;if(w.patchFlag>0&&w.patchFlag&2048&&([B,S]=bd(w)),C&&_!==!1){const V=Object.keys(C),{shapeFlag:W}=B;if(V.length){if(W&7)a&&V.some(Fo)&&(C=Dd(C,a)),B=Ot(B,C);else if(!Ll&&B.type!==Qe){const H=Object.keys(p),N=[],ne=[];for(let re=0,de=H.length;re<de;re++){const J=H[re];ao(J)?Fo(J)||N.push(J[2].toLowerCase()+J.slice(3)):ne.push(J)}ne.length&&L(`Extraneous non-props attributes (${ne.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),N.length&&L(`Extraneous non-emits event listeners (${N.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return s.dirs&&(ua(B)||L("Runtime directive used on component with non-element root node. The directives will not function as intended."),B=Ot(B),B.dirs=B.dirs?B.dirs.concat(s.dirs):s.dirs),s.transition&&(ua(B)||L("Component inside <Transition> renders non-element root node that cannot be animated."),B.transition=s.transition),S?S(B):w=B,Mo(D),w}const bd=t=>{const n=t.children,s=t.dynamicChildren,o=bc(n);if(!o)return[t,void 0];const l=n.indexOf(o),r=s?s.indexOf(o):-1,a=c=>{n[l]=c,s&&(r>-1?s[r]=c:c.patchFlag>0&&(t.dynamicChildren=[...s,c]))};return[$t(o),a]};function bc(t){let n;for(let s=0;s<t.length;s++){const o=t[s];if(Qn(o)){if(o.type!==Qe||o.children==="v-if"){if(n)return;n=o}}else return}return n}const Ed=t=>{let n;for(const s in t)(s==="class"||s==="style"||ao(s))&&((n||(n={}))[s]=t[s]);return n},Dd=(t,n)=>{const s={};for(const o in t)(!Fo(o)||!(o.slice(9)in n))&&(s[o]=t[o]);return s},ua=t=>t.shapeFlag&7||t.type===Qe;function kd(t,n,s){const{props:o,children:l,component:r}=t,{props:a,children:c,patchFlag:p}=n,u=r.emitsOptions;if((l||c)&&_n||n.dirs||n.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?da(o,a,u):!!a;if(p&8){const d=n.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==o[h]&&!sl(u,h))return!0}}}else return(l||c)&&(!c||!c.$stable)?!0:o===a?!1:o?a?da(o,a,u):!0:!!a;return!1}function da(t,n,s){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let l=0;l<o.length;l++){const r=o[l];if(n[r]!==t[r]&&!sl(s,r))return!0}return!1}function Cd({vnode:t,parent:n},s){for(;n&&n.subTree===t;)(t=n.vnode).el=s,n=n.parent}const Ec=t=>t.__isSuspense;function Bd(t,n){n&&n.pendingBranch?pe(t)?n.effects.push(...t):n.effects.push(t):hc(t)}function gt(t,n){if(!Ke)L("provide() can only be used inside setup().");else{let s=Ke.provides;const o=Ke.parent&&Ke.parent.provides;o===s&&(s=Ke.provides=Object.create(o)),s[t]=n}}function x(t,n,s=!1){const o=Ke||Ye;if(o){const l=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(l&&t in l)return l[t];if(arguments.length>1)return s&&fe(n)?n.call(o.proxy):n;L(`injection "${String(t)}" not found.`)}else L("inject() can only be used inside setup() or functional components.")}function Es(t,n){return Br(t,null,n)}const Ao={};function qe(t,n,s){return fe(n)||L("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Br(t,n,s)}function Br(t,n,{immediate:s,deep:o,flush:l,onTrack:r,onTrigger:a}=Oe){n||(s!==void 0&&L('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&L('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const c=S=>{L("Invalid watch source: ",S,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},p=Ke;let u,d=!1,f=!1;if(Ce(t)?(u=()=>t.value,d=Ro(t)):Nn(t)?(u=()=>t,o=!0):pe(t)?(f=!0,d=t.some(S=>Nn(S)||Ro(S)),u=()=>t.map(S=>{if(Ce(S))return S.value;if(Nn(S))return Rn(S);if(fe(S))return sn(S,p,2);c(S)})):fe(t)?n?u=()=>sn(t,p,2):u=()=>{if(!(p&&p.isUnmounted))return h&&h(),kt(t,p,3,[m])}:(u=ft,c(t)),n&&o){const S=u;u=()=>Rn(S())}let h,m=S=>{h=D.onStop=()=>{sn(S,p,4)}},g;if(Xs)if(m=ft,n?s&&kt(n,p,3,[u(),f?[]:void 0,m]):u(),l==="sync"){const S=If();g=S.__watcherHandles||(S.__watcherHandles=[])}else return ft;let _=f?new Array(t.length).fill(Ao):Ao;const w=()=>{if(!!D.active)if(n){const S=D.run();(o||d||(f?S.some((V,W)=>zs(V,_[W])):zs(S,_)))&&(h&&h(),kt(n,p,3,[S,_===Ao?void 0:f&&_[0]===Ao?[]:_,m]),_=S)}else D.run()};w.allowRecurse=!!n;let C;l==="sync"?C=w:l==="post"?C=()=>Ze(w,p&&p.suspense):(w.pre=!0,p&&(w.id=p.uid),C=()=>nl(w));const D=new gr(u,C);D.onTrack=r,D.onTrigger=a,n?s?w():_=D.run():l==="post"?Ze(D.run.bind(D),p&&p.suspense):D.run();const B=()=>{D.stop(),p&&p.scope&&ur(p.scope.effects,D)};return g&&g.push(B),B}function xd(t,n,s){const o=this.proxy,l=Me(t)?t.includes(".")?Dc(o,t):()=>o[t]:t.bind(o,o);let r;fe(n)?r=n:(r=n.handler,s=n);const a=Ke;_s(this);const c=Br(l,r.bind(o),s);return a?_s(a):Un(),c}function Dc(t,n){const s=n.split(".");return()=>{let o=t;for(let l=0;l<s.length&&o;l++)o=o[s[l]];return o}}function Rn(t,n){if(!Se(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),Ce(t))Rn(t.value,n);else if(pe(t))for(let s=0;s<t.length;s++)Rn(t[s],n);else if(Ui(t)||Mn(t))t.forEach(s=>{Rn(s,n)});else if(Wi(t))for(const s in t)Rn(t[s],n);return t}function kc(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return po(()=>{t.isMounted=!0}),$r(()=>{t.isUnmounting=!0}),t}const wt=[Function,Array],Sd={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wt,onEnter:wt,onAfterEnter:wt,onEnterCancelled:wt,onBeforeLeave:wt,onLeave:wt,onAfterLeave:wt,onLeaveCancelled:wt,onBeforeAppear:wt,onAppear:wt,onAfterAppear:wt,onAppearCancelled:wt},setup(t,{slots:n}){const s=Yt(),o=kc();let l;return()=>{const r=n.default&&xr(n.default(),!0);if(!r||!r.length)return;let a=r[0];if(r.length>1){let _=!1;for(const w of r)if(w.type!==Qe){if(_){L("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}a=w,_=!0}}const c=me(t),{mode:p}=c;if(p&&p!=="in-out"&&p!=="out-in"&&p!=="default"&&L(`invalid <transition> mode: ${p}`),o.isLeaving)return hl(a);const u=fa(a);if(!u)return hl(a);const d=Js(u,c,o,s);vs(u,d);const f=s.subTree,h=f&&fa(f);let m=!1;const{getTransitionKey:g}=u.type;if(g){const _=g();l===void 0?l=_:_!==l&&(l=_,m=!0)}if(h&&h.type!==Qe&&(!Fn(u,h)||m)){const _=Js(h,c,o,s);if(vs(h,_),p==="out-in")return o.isLeaving=!0,_.afterLeave=()=>{o.isLeaving=!1,s.update.active!==!1&&s.update()},hl(a);p==="in-out"&&u.type!==Qe&&(_.delayLeave=(w,C,D)=>{const B=Cc(o,h);B[String(h.key)]=h,w._leaveCb=()=>{C(),w._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=D})}return a}}},$d=Sd;function Cc(t,n){const{leavingVNodes:s}=t;let o=s.get(n.type);return o||(o=Object.create(null),s.set(n.type,o)),o}function Js(t,n,s,o){const{appear:l,mode:r,persisted:a=!1,onBeforeEnter:c,onEnter:p,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:_,onAppear:w,onAfterAppear:C,onAppearCancelled:D}=n,B=String(t.key),S=Cc(s,t),V=(N,ne)=>{N&&kt(N,o,9,ne)},W=(N,ne)=>{const re=ne[1];V(N,ne),pe(N)?N.every(de=>de.length<=1)&&re():N.length<=1&&re()},H={mode:r,persisted:a,beforeEnter(N){let ne=c;if(!s.isMounted)if(l)ne=_||c;else return;N._leaveCb&&N._leaveCb(!0);const re=S[B];re&&Fn(t,re)&&re.el._leaveCb&&re.el._leaveCb(),V(ne,[N])},enter(N){let ne=p,re=u,de=d;if(!s.isMounted)if(l)ne=w||p,re=C||u,de=D||d;else return;let J=!1;const we=N._enterCb=Ie=>{J||(J=!0,Ie?V(de,[N]):V(re,[N]),H.delayedLeave&&H.delayedLeave(),N._enterCb=void 0)};ne?W(ne,[N,we]):we()},leave(N,ne){const re=String(t.key);if(N._enterCb&&N._enterCb(!0),s.isUnmounting)return ne();V(f,[N]);let de=!1;const J=N._leaveCb=we=>{de||(de=!0,ne(),we?V(g,[N]):V(m,[N]),N._leaveCb=void 0,S[re]===t&&delete S[re])};S[re]=t,h?W(h,[N,J]):J()},clone(N){return Js(N,n,s,o)}};return H}function hl(t){if(co(t))return t=Ot(t),t.children=null,t}function fa(t){return co(t)?t.children?t.children[0]:void 0:t}function vs(t,n){t.shapeFlag&6&&t.component?vs(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function xr(t,n=!1,s){let o=[],l=0;for(let r=0;r<t.length;r++){let a=t[r];const c=s==null?a.key:String(s)+String(a.key!=null?a.key:r);a.type===xe?(a.patchFlag&128&&l++,o=o.concat(xr(a.children,n,c))):(n||a.type!==Qe)&&o.push(c!=null?Ot(a,{key:c}):a)}if(l>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}function je(t){return fe(t)?{setup:t,name:t.name}:t}const ys=t=>!!t.type.__asyncLoader,co=t=>t.type.__isKeepAlive,Td={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:n}){const s=Yt(),o=s.ctx;if(!o.renderer)return()=>{const D=n.default&&n.default();return D&&D.length===1?D[0]:D};const l=new Map,r=new Set;let a=null;s.__v_cache=l;const c=s.suspense,{renderer:{p,m:u,um:d,o:{createElement:f}}}=o,h=f("div");o.activate=(D,B,S,V,W)=>{const H=D.component;u(D,B,S,0,c),p(H.vnode,D,B,S,H,c,V,D.slotScopeIds,W),Ze(()=>{H.isDeactivated=!1,H.a&&mn(H.a);const N=D.props&&D.props.onVnodeMounted;N&&bt(N,H.parent,D)},c),Rl(H)},o.deactivate=D=>{const B=D.component;u(D,h,null,1,c),Ze(()=>{B.da&&mn(B.da);const S=D.props&&D.props.onVnodeUnmounted;S&&bt(S,B.parent,D),B.isDeactivated=!0},c),Rl(B)};function m(D){yl(D),d(D,s,c,!0)}function g(D){l.forEach((B,S)=>{const V=eo(B.type);V&&(!D||!D(V))&&_(S)})}function _(D){const B=l.get(D);!a||B.type!==a.type?m(B):a&&yl(a),l.delete(D),r.delete(D)}qe(()=>[t.include,t.exclude],([D,B])=>{D&&g(S=>Ls(D,S)),B&&g(S=>!Ls(B,S))},{flush:"post",deep:!0});let w=null;const C=()=>{w!=null&&l.set(w,ml(s.subTree))};return po(C),Sr(C),$r(()=>{l.forEach(D=>{const{subTree:B,suspense:S}=s,V=ml(B);if(D.type===V.type){yl(V);const W=V.component.da;W&&Ze(W,S);return}m(D)})}),()=>{if(w=null,!n.default)return null;const D=n.default(),B=D[0];if(D.length>1)return L("KeepAlive should contain exactly one component child."),a=null,D;if(!Qn(B)||!(B.shapeFlag&4)&&!(B.shapeFlag&128))return a=null,B;let S=ml(B);const V=S.type,W=eo(ys(S)?S.type.__asyncResolved||{}:V),{include:H,exclude:N,max:ne}=t;if(H&&(!W||!Ls(H,W))||N&&W&&Ls(N,W))return a=S,B;const re=S.key==null?V:S.key,de=l.get(re);return S.el&&(S=Ot(S),B.shapeFlag&128&&(B.ssContent=S)),w=re,de?(S.el=de.el,S.component=de.component,S.transition&&vs(S,S.transition),S.shapeFlag|=512,r.delete(re),r.add(re)):(r.add(re),ne&&r.size>parseInt(ne,10)&&_(r.values().next().value)),S.shapeFlag|=256,a=S,Ec(B.type)?B:S}}},Bc=Td;function Ls(t,n){return pe(t)?t.some(s=>Ls(s,n)):Me(t)?t.split(",").includes(n):t.test?t.test(n):!1}function Pd(t,n){xc(t,"a",n)}function Fd(t,n){xc(t,"da",n)}function xc(t,n,s=Ke){const o=t.__wdc||(t.__wdc=()=>{let l=s;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(ll(n,o,s),s){let l=s.parent;for(;l&&l.parent;)co(l.parent.vnode)&&Od(o,n,s,l),l=l.parent}}function Od(t,n,s,o){const l=ll(n,t,o,!0);rl(()=>{ur(o[n],l)},s)}function yl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ml(t){return t.shapeFlag&128?t.ssContent:t}function ll(t,n,s=Ke,o=!1){if(s){const l=s[t]||(s[t]=[]),r=n.__weh||(n.__weh=(...a)=>{if(s.isUnmounted)return;Xn(),_s(s);const c=kt(n,s,t,a);return Un(),es(),c});return o?l.unshift(r):l.push(r),r}else{const l=Tn(Er[t].replace(/ hook$/,""));L(`${l} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const rn=t=>(n,s=Ke)=>(!Xs||t==="sp")&&ll(t,(...o)=>n(...o),s),Id=rn("bm"),po=rn("m"),Rd=rn("bu"),Sr=rn("u"),$r=rn("bum"),rl=rn("um"),Ld=rn("sp"),Md=rn("rtg"),qd=rn("rtc");function Nd(t,n=Ke){ll("ec",t,n)}function Sc(t){hu(t)&&L("Do not use built-in directive ids as custom directive id: "+t)}function Tr(t,n){const s=Ye;if(s===null)return L("withDirectives can only be used inside render functions."),t;const o=il(s)||s.proxy,l=t.dirs||(t.dirs=[]);for(let r=0;r<n.length;r++){let[a,c,p,u=Oe]=n[r];a&&(fe(a)&&(a={mounted:a,updated:a}),a.deep&&Rn(c),l.push({dir:a,instance:o,value:c,oldValue:void 0,arg:p,modifiers:u}))}return t}function xn(t,n,s,o){const l=t.dirs,r=n&&n.dirs;for(let a=0;a<l.length;a++){const c=l[a];r&&(c.oldValue=r[a].value);let p=c.dir[o];p&&(Xn(),kt(p,s,8,[t.el,c,t,n]),es())}}const Ml="components";function jd(t,n){return Ud(Ml,t,!0,n)||t}const Hd=Symbol();function Ud(t,n,s=!0,o=!1){const l=Ye||Ke;if(l){const r=l.type;if(t===Ml){const c=eo(r,!1);if(c&&(c===n||c===Vt(n)||c===Yn(Vt(n))))return r}const a=ha(l[t]||r[t],n)||ha(l.appContext[t],n);if(!a&&o)return r;if(s&&!a){const c=t===Ml?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";L(`Failed to resolve ${t.slice(0,-1)}: ${n}${c}`)}return a}else L(`resolve${Yn(t.slice(0,-1))} can only be used in render() or setup().`)}function ha(t,n){return t&&(t[n]||t[Vt(n)]||t[Yn(Vt(n))])}function uo(t,n,s,o){let l;const r=s&&s[o];if(pe(t)||Me(t)){l=new Array(t.length);for(let a=0,c=t.length;a<c;a++)l[a]=n(t[a],a,void 0,r&&r[a])}else if(typeof t=="number"){Number.isInteger(t)||L(`The v-for range expect an integer value but got ${t}.`),l=new Array(t);for(let a=0;a<t;a++)l[a]=n(a+1,a,void 0,r&&r[a])}else if(Se(t))if(t[Symbol.iterator])l=Array.from(t,(a,c)=>n(a,c,void 0,r&&r[c]));else{const a=Object.keys(t);l=new Array(a.length);for(let c=0,p=a.length;c<p;c++){const u=a[c];l[c]=n(t[u],u,c,r&&r[c])}}else l=[];return s&&(s[o]=l),l}function kn(t,n,s={},o,l){if(Ye.isCE||Ye.parent&&ys(Ye.parent)&&Ye.parent.isCE)return n!=="default"&&(s.name=n),X("slot",s,o&&o());let r=t[n];r&&r.length>1&&(L("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),r=()=>[]),r&&r._c&&(r._d=!1),A();const a=r&&$c(r(s)),c=$(xe,{key:s.key||a&&a.key||`_${n}`},a||(o?o():[]),a&&t._===1?64:-2);return!l&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function $c(t){return t.some(n=>Qn(n)?!(n.type===Qe||n.type===xe&&!$c(n.children)):!0)?t:null}const ql=t=>t?Vc(t)?il(t)||t.proxy:ql(t.parent):null,Hn=Ne(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>us(t.props),$attrs:t=>us(t.attrs),$slots:t=>us(t.slots),$refs:t=>us(t.refs),$parent:t=>ql(t.parent),$root:t=>ql(t.root),$emit:t=>t.emit,$options:t=>Fr(t),$forceUpdate:t=>t.f||(t.f=()=>nl(t.update)),$nextTick:t=>t.n||(t.n=Ft.bind(t.proxy)),$watch:t=>xd.bind(t)}),Pr=t=>t==="_"||t==="$",gl=(t,n)=>t!==Oe&&!t.__isScriptSetup&&Ae(t,n),Tc={get({_:t},n){const{ctx:s,setupState:o,data:l,props:r,accessCache:a,type:c,appContext:p}=t;if(n==="__isVue")return!0;let u;if(n[0]!=="$"){const m=a[n];if(m!==void 0)switch(m){case 1:return o[n];case 2:return l[n];case 4:return s[n];case 3:return r[n]}else{if(gl(o,n))return a[n]=1,o[n];if(l!==Oe&&Ae(l,n))return a[n]=2,l[n];if((u=t.propsOptions[0])&&Ae(u,n))return a[n]=3,r[n];if(s!==Oe&&Ae(s,n))return a[n]=4,s[n];Nl&&(a[n]=0)}}const d=Hn[n];let f,h;if(d)return n==="$attrs"&&(_t(t,"get",n),qo()),d(t);if((f=c.__cssModules)&&(f=f[n]))return f;if(s!==Oe&&Ae(s,n))return a[n]=4,s[n];if(h=p.config.globalProperties,Ae(h,n))return h[n];Ye&&(!Me(n)||n.indexOf("__v")!==0)&&(l!==Oe&&Pr(n[0])&&Ae(l,n)?L(`Property ${JSON.stringify(n)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===Ye&&L(`Property ${JSON.stringify(n)} was accessed during render but is not defined on instance.`))},set({_:t},n,s){const{data:o,setupState:l,ctx:r}=t;return gl(l,n)?(l[n]=s,!0):l.__isScriptSetup&&Ae(l,n)?(L(`Cannot mutate <script setup> binding "${n}" from Options API.`),!1):o!==Oe&&Ae(o,n)?(o[n]=s,!0):Ae(t.props,n)?(L(`Attempting to mutate prop "${n}". Props are readonly.`),!1):n[0]==="$"&&n.slice(1)in t?(L(`Attempting to mutate public property "${n}". Properties starting with $ are reserved and readonly.`),!1):(n in t.appContext.config.globalProperties?Object.defineProperty(r,n,{enumerable:!0,configurable:!0,value:s}):r[n]=s,!0)},has({_:{data:t,setupState:n,accessCache:s,ctx:o,appContext:l,propsOptions:r}},a){let c;return!!s[a]||t!==Oe&&Ae(t,a)||gl(n,a)||(c=r[0])&&Ae(c,a)||Ae(o,a)||Ae(Hn,a)||Ae(l.config.globalProperties,a)},defineProperty(t,n,s){return s.get!=null?t._.accessCache[n]=0:Ae(s,"value")&&this.set(t,n,s.value,null),Reflect.defineProperty(t,n,s)}};Tc.ownKeys=t=>(L("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));function Vd(t){const n={};return Object.defineProperty(n,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(Hn).forEach(s=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!1,get:()=>Hn[s](t),set:ft})}),n}function Wd(t){const{ctx:n,propsOptions:[s]}=t;s&&Object.keys(s).forEach(o=>{Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>t.props[o],set:ft})})}function zd(t){const{ctx:n,setupState:s}=t;Object.keys(me(s)).forEach(o=>{if(!s.__isScriptSetup){if(Pr(o[0])){L(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>s[o],set:ft})}})}function Kd(){const t=Object.create(null);return(n,s)=>{t[s]?L(`${n} property "${s}" is already defined in ${t[s]}.`):t[s]=n}}let Nl=!0;function Yd(t){const n=Fr(t),s=t.proxy,o=t.ctx;Nl=!1,n.beforeCreate&&ya(n.beforeCreate,t,"bc");const{data:l,computed:r,methods:a,watch:c,provide:p,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:m,updated:g,activated:_,deactivated:w,beforeDestroy:C,beforeUnmount:D,destroyed:B,unmounted:S,render:V,renderTracked:W,renderTriggered:H,errorCaptured:N,serverPrefetch:ne,expose:re,inheritAttrs:de,components:J,directives:we,filters:Ie}=n,ke=Kd();{const[Z]=t.propsOptions;if(Z)for(const ce in Z)ke("Props",ce)}if(u&&Gd(u,o,ke,t.appContext.config.unwrapInjectedRef),a)for(const Z in a){const ce=a[Z];fe(ce)?(Object.defineProperty(o,Z,{value:ce.bind(s),configurable:!0,enumerable:!0,writable:!0}),ke("Methods",Z)):L(`Method "${Z}" has type "${typeof ce}" in the component definition. Did you reference the function correctly?`)}if(l){fe(l)||L("The data option must be a function. Plain object usage is no longer supported.");const Z=l.call(s,s);if(fr(Z)&&L("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Se(Z))L("data() should return an object.");else{t.data=Xe(Z);for(const ce in Z)ke("Data",ce),Pr(ce[0])||Object.defineProperty(o,ce,{configurable:!0,enumerable:!0,get:()=>Z[ce],set:ft})}}if(Nl=!0,r)for(const Z in r){const ce=r[Z],ge=fe(ce)?ce.bind(s,s):fe(ce.get)?ce.get.bind(s,s):ft;ge===ft&&L(`Computed property "${Z}" has no getter.`);const Pe=!fe(ce)&&fe(ce.set)?ce.set.bind(s):()=>{L(`Write operation failed: computed property "${Z}" is readonly.`)},ht=F({get:ge,set:Pe});Object.defineProperty(o,Z,{enumerable:!0,configurable:!0,get:()=>ht.value,set:tt=>ht.value=tt}),ke("Computed",Z)}if(c)for(const Z in c)Pc(c[Z],o,s,Z);if(p){const Z=fe(p)?p.call(s):p;Reflect.ownKeys(Z).forEach(ce=>{gt(ce,Z[ce])})}d&&ya(d,t,"c");function Re(Z,ce){pe(ce)?ce.forEach(ge=>Z(ge.bind(s))):ce&&Z(ce.bind(s))}if(Re(Id,f),Re(po,h),Re(Rd,m),Re(Sr,g),Re(Pd,_),Re(Fd,w),Re(Nd,N),Re(qd,W),Re(Md,H),Re($r,D),Re(rl,S),Re(Ld,ne),pe(re))if(re.length){const Z=t.exposed||(t.exposed={});re.forEach(ce=>{Object.defineProperty(Z,ce,{get:()=>s[ce],set:ge=>s[ce]=ge})})}else t.exposed||(t.exposed={});V&&t.render===ft&&(t.render=V),de!=null&&(t.inheritAttrs=de),J&&(t.components=J),we&&(t.directives=we)}function Gd(t,n,s=ft,o=!1){pe(t)&&(t=jl(t));for(const l in t){const r=t[l];let a;Se(r)?"default"in r?a=x(r.from||l,r.default,!0):a=x(r.from||l):a=x(r),Ce(a)?o?Object.defineProperty(n,l,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):(L(`injected property "${l}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),n[l]=a):n[l]=a,s("Inject",l)}}function ya(t,n,s){kt(pe(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,s)}function Pc(t,n,s,o){const l=o.includes(".")?Dc(s,o):()=>s[o];if(Me(t)){const r=n[t];fe(r)?qe(l,r):L(`Invalid watch handler specified by key "${t}"`,r)}else if(fe(t))qe(l,t.bind(s));else if(Se(t))if(pe(t))t.forEach(r=>Pc(r,n,s,o));else{const r=fe(t.handler)?t.handler.bind(s):n[t.handler];fe(r)?qe(l,r,t):L(`Invalid watch handler specified by key "${t.handler}"`,r)}else L(`Invalid watch option: "${o}"`,t)}function Fr(t){const n=t.type,{mixins:s,extends:o}=n,{mixins:l,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,c=r.get(n);let p;return c?p=c:!l.length&&!s&&!o?p=n:(p={},l.length&&l.forEach(u=>No(p,u,a,!0)),No(p,n,a)),Se(n)&&r.set(n,p),p}function No(t,n,s,o=!1){const{mixins:l,extends:r}=n;r&&No(t,r,s,!0),l&&l.forEach(a=>No(t,a,s,!0));for(const a in n)if(o&&a==="expose")L('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=Qd[a]||s&&s[a];t[a]=c?c(t[a],n[a]):n[a]}return t}const Qd={data:ma,props:Pn,emits:Pn,methods:Pn,computed:Pn,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:Pn,directives:Pn,watch:Zd,provide:ma,inject:Jd};function ma(t,n){return n?t?function(){return Ne(fe(t)?t.call(this,this):t,fe(n)?n.call(this,this):n)}:n:t}function Jd(t,n){return Pn(jl(t),jl(n))}function jl(t){if(pe(t)){const n={};for(let s=0;s<t.length;s++)n[t[s]]=t[s];return n}return t}function rt(t,n){return t?[...new Set([].concat(t,n))]:n}function Pn(t,n){return t?Ne(Ne(Object.create(null),t),n):n}function Zd(t,n){if(!t)return n;if(!n)return t;const s=Ne(Object.create(null),t);for(const o in n)s[o]=rt(t[o],n[o]);return s}function Xd(t,n,s,o=!1){const l={},r={};Oo(r,al,1),t.propsDefaults=Object.create(null),Fc(t,n,l,r);for(const a in t.propsOptions[0])a in l||(l[a]=void 0);Ic(n||{},l,t),s?t.props=o?l:zu(l):t.type.props?t.props=l:t.props=r,t.attrs=r}function ef(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function tf(t,n,s,o){const{props:l,attrs:r,vnode:{patchFlag:a}}=t,c=me(l),[p]=t.propsOptions;let u=!1;if(!ef(t)&&(o||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(sl(t.emitsOptions,h))continue;const m=n[h];if(p)if(Ae(r,h))m!==r[h]&&(r[h]=m,u=!0);else{const g=Vt(h);l[g]=Hl(p,c,g,m,t,!1)}else m!==r[h]&&(r[h]=m,u=!0)}}}else{Fc(t,n,l,r)&&(u=!0);let d;for(const f in c)(!n||!Ae(n,f)&&((d=on(f))===f||!Ae(n,d)))&&(p?s&&(s[f]!==void 0||s[d]!==void 0)&&(l[f]=Hl(p,c,f,void 0,t,!0)):delete l[f]);if(r!==c)for(const f in r)(!n||!Ae(n,f)&&!0)&&(delete r[f],u=!0)}u&&ln(t,"set","$attrs"),Ic(n||{},l,t)}function Fc(t,n,s,o){const[l,r]=t.propsOptions;let a=!1,c;if(n)for(let p in n){if(Do(p))continue;const u=n[p];let d;l&&Ae(l,d=Vt(p))?!r||!r.includes(d)?s[d]=u:(c||(c={}))[d]=u:sl(t.emitsOptions,p)||(!(p in o)||u!==o[p])&&(o[p]=u,a=!0)}if(r){const p=me(s),u=c||Oe;for(let d=0;d<r.length;d++){const f=r[d];s[f]=Hl(l,p,f,u[f],t,!Ae(u,f))}}return a}function Hl(t,n,s,o,l,r){const a=t[s];if(a!=null){const c=Ae(a,"default");if(c&&o===void 0){const p=a.default;if(a.type!==Function&&fe(p)){const{propsDefaults:u}=l;s in u?o=u[s]:(_s(l),o=u[s]=p.call(null,n),Un())}else o=p}a[0]&&(r&&!c?o=!1:a[1]&&(o===""||o===on(s))&&(o=!0))}return o}function Oc(t,n,s=!1){const o=n.propsCache,l=o.get(t);if(l)return l;const r=t.props,a={},c=[];let p=!1;if(!fe(t)){const d=f=>{p=!0;const[h,m]=Oc(f,n,!0);Ne(a,h),m&&c.push(...m)};!s&&n.mixins.length&&n.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!p)return Se(t)&&o.set(t,fs),fs;if(pe(r))for(let d=0;d<r.length;d++){Me(r[d])||L("props must be strings when using array syntax.",r[d]);const f=Vt(r[d]);ga(f)&&(a[f]=Oe)}else if(r){Se(r)||L("invalid props options",r);for(const d in r){const f=Vt(d);if(ga(f)){const h=r[d],m=a[f]=pe(h)||fe(h)?{type:h}:Object.assign({},h);if(m){const g=_a(Boolean,m.type),_=_a(String,m.type);m[0]=g>-1,m[1]=_<0||g<_,(g>-1||Ae(m,"default"))&&c.push(f)}}}}const u=[a,c];return Se(t)&&o.set(t,u),u}function ga(t){return t[0]!=="$"?!0:(L(`Invalid prop name: "${t}" is a reserved property.`),!1)}function Ul(t){const n=t&&t.toString().match(/^\s*function (\w+)/);return n?n[1]:t===null?"null":""}function va(t,n){return Ul(t)===Ul(n)}function _a(t,n){return pe(n)?n.findIndex(s=>va(s,t)):fe(n)&&va(n,t)?0:-1}function Ic(t,n,s){const o=me(n),l=s.propsOptions[0];for(const r in l){let a=l[r];a!=null&&nf(r,o[r],a,!Ae(t,r)&&!Ae(t,on(r)))}}function nf(t,n,s,o){const{type:l,required:r,validator:a}=s;if(r&&o){L('Missing required prop: "'+t+'"');return}if(!(n==null&&!s.required)){if(l!=null&&l!==!0){let c=!1;const p=pe(l)?l:[l],u=[];for(let d=0;d<p.length&&!c;d++){const{valid:f,expectedType:h}=of(n,p[d]);u.push(h||""),c=f}if(!c){L(lf(t,n,u));return}}a&&!a(n)&&L('Invalid prop: custom validator check failed for prop "'+t+'".')}}const sf=Bn("String,Number,Boolean,Function,Symbol,BigInt");function of(t,n){let s;const o=Ul(n);if(sf(o)){const l=typeof t;s=l===o.toLowerCase(),!s&&l==="object"&&(s=t instanceof n)}else o==="Object"?s=Se(t):o==="Array"?s=pe(t):o==="null"?s=t===null:s=t instanceof n;return{valid:s,expectedType:o}}function lf(t,n,s){let o=`Invalid prop: type check failed for prop "${t}". Expected ${s.map(Yn).join(" | ")}`;const l=s[0],r=hr(n),a=Aa(n,l),c=Aa(n,r);return s.length===1&&wa(l)&&!rf(l,r)&&(o+=` with value ${a}`),o+=`, got ${r} `,wa(r)&&(o+=`with value ${c}.`),o}function Aa(t,n){return n==="String"?`"${t}"`:n==="Number"?`${Number(t)}`:`${t}`}function wa(t){return["string","number","boolean"].some(s=>t.toLowerCase()===s)}function rf(...t){return t.some(n=>n.toLowerCase()==="boolean")}const Rc=t=>t[0]==="_"||t==="$stable",Or=t=>pe(t)?t.map($t):[$t(t)],af=(t,n,s)=>{if(n._n)return n;const o=T((...l)=>(Ke&&L(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Or(n(...l))),s);return o._c=!1,o},Lc=(t,n,s)=>{const o=t._ctx;for(const l in t){if(Rc(l))continue;const r=t[l];if(fe(r))n[l]=af(l,r,o);else if(r!=null){L(`Non-function value encountered for slot "${l}". Prefer function slots for better performance.`);const a=Or(r);n[l]=()=>a}}},Mc=(t,n)=>{co(t.vnode)||L("Non-function value encountered for default slot. Prefer function slots for better performance.");const s=Or(n);t.slots.default=()=>s},cf=(t,n)=>{if(t.vnode.shapeFlag&32){const s=n._;s?(t.slots=me(n),Oo(n,"_",s)):Lc(n,t.slots={})}else t.slots={},n&&Mc(t,n);Oo(t.slots,al,1)},pf=(t,n,s)=>{const{vnode:o,slots:l}=t;let r=!0,a=Oe;if(o.shapeFlag&32){const c=n._;c?_n?Ne(l,n):s&&c===1?r=!1:(Ne(l,n),!s&&c===1&&delete l._):(r=!n.$stable,Lc(n,l)),a=n}else n&&(Mc(t,n),a={default:1});if(r)for(const c in l)!Rc(c)&&!(c in a)&&delete l[c]};function qc(){return{app:null,config:{isNativeTag:Hi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uf=0;function df(t,n){return function(o,l=null){fe(o)||(o=Object.assign({},o)),l!=null&&!Se(l)&&(L("root props passed to app.mount() must be an object."),l=null);const r=qc(),a=new Set;let c=!1;const p=r.app={_uid:uf++,_component:o,_props:l,_container:null,_context:r,_instance:null,version:ka,get config(){return r.config},set config(u){L("app.config cannot be replaced. Modify individual options instead.")},use(u,...d){return a.has(u)?L("Plugin has already been applied to target app."):u&&fe(u.install)?(a.add(u),u.install(p,...d)):fe(u)?(a.add(u),u(p,...d)):L('A plugin must either be a function or an object with an "install" function.'),p},mixin(u){return r.mixins.includes(u)?L("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):r.mixins.push(u),p},component(u,d){return zl(u,r.config),d?(r.components[u]&&L(`Component "${u}" has already been registered in target app.`),r.components[u]=d,p):r.components[u]},directive(u,d){return Sc(u),d?(r.directives[u]&&L(`Directive "${u}" has already been registered in target app.`),r.directives[u]=d,p):r.directives[u]},mount(u,d,f){if(c)L("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&L("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=X(o,l);return h.appContext=r,r.reload=()=>{t(Ot(h),u,f)},d&&n?n(h,u):t(h,u,f),c=!0,p._container=u,u.__vue_app__=p,p._instance=h.component,hd(p,ka),il(h.component)||h.component.proxy}},unmount(){c?(t(null,p._container),p._instance=null,yd(p),delete p._container.__vue_app__):L("Cannot unmount an app that is not mounted.")},provide(u,d){return u in r.provides&&L(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),r.provides[u]=d,p}};return p}}function Vl(t,n,s,o,l=!1){if(pe(t)){t.forEach((h,m)=>Vl(h,n&&(pe(n)?n[m]:n),s,o,l));return}if(ys(o)&&!l)return;const r=o.shapeFlag&4?il(o.component)||o.component.proxy:o.el,a=l?null:r,{i:c,r:p}=t;if(!c){L("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=n&&n.r,d=c.refs===Oe?c.refs={}:c.refs,f=c.setupState;if(u!=null&&u!==p&&(Me(u)?(d[u]=null,Ae(f,u)&&(f[u]=null)):Ce(u)&&(u.value=null)),fe(p))sn(p,c,12,[a,d]);else{const h=Me(p),m=Ce(p);if(h||m){const g=()=>{if(t.f){const _=h?Ae(f,p)?f[p]:d[p]:p.value;l?pe(_)&&ur(_,r):pe(_)?_.includes(r)||_.push(r):h?(d[p]=[r],Ae(f,p)&&(f[p]=d[p])):(p.value=[r],t.k&&(d[t.k]=p.value))}else h?(d[p]=a,Ae(f,p)&&(f[p]=a)):m?(p.value=a,t.k&&(d[t.k]=a)):L("Invalid template ref type:",p,`(${typeof p})`)};a?(g.id=-1,Ze(g,s)):g()}else L("Invalid template ref type:",p,`(${typeof p})`)}}let Cs,gn;function Qt(t,n){t.appContext.config.performance&&jo()&&gn.mark(`vue-${n}-${t.uid}`),vd(t,n,jo()?gn.now():Date.now())}function Jt(t,n){if(t.appContext.config.performance&&jo()){const s=`vue-${n}-${t.uid}`,o=s+":end";gn.mark(o),gn.measure(`<${cl(t,t.type)}> ${n}`,s,o),gn.clearMarks(s),gn.clearMarks(o)}_d(t,n,jo()?gn.now():Date.now())}function jo(){return Cs!==void 0||(typeof window<"u"&&window.performance?(Cs=!0,gn=window.performance):Cs=!1),Cs}function ff(){const t=[];if(t.length){const n=t.length>1;console.warn(`Feature flag${n?"s":""} ${t.join(", ")} ${n?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Ze=Bd;function hf(t){return yf(t)}function yf(t,n){ff();const s=zi();s.__VUE__=!0,vc(s.__VUE_DEVTOOLS_GLOBAL_HOOK__,s);const{insert:o,remove:l,patchProp:r,createElement:a,createText:c,createComment:p,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:m=ft,insertStaticContent:g}=t,_=(y,v,E,O=null,P=null,j=null,Q=!1,q=null,U=_n?!1:!!v.dynamicChildren)=>{if(y===v)return;y&&!Fn(y,v)&&(O=te(y),dt(y,P,j,!0),y=null),v.patchFlag===-2&&(U=!1,v.dynamicChildren=null);const{type:M,ref:le,shapeFlag:oe}=v;switch(M){case fo:w(y,v,E,O);break;case Qe:C(y,v,E,O);break;case Bo:y==null?D(v,E,O,Q):B(y,v,E,Q);break;case xe:we(y,v,E,O,P,j,Q,q,U);break;default:oe&1?W(y,v,E,O,P,j,Q,q,U):oe&6?Ie(y,v,E,O,P,j,Q,q,U):oe&64||oe&128?M.process(y,v,E,O,P,j,Q,q,U,Ee):L("Invalid VNode type:",M,`(${typeof M})`)}le!=null&&P&&Vl(le,y&&y.ref,j,v||y,!v)},w=(y,v,E,O)=>{if(y==null)o(v.el=c(v.children),E,O);else{const P=v.el=y.el;v.children!==y.children&&u(P,v.children)}},C=(y,v,E,O)=>{y==null?o(v.el=p(v.children||""),E,O):v.el=y.el},D=(y,v,E,O)=>{[y.el,y.anchor]=g(y.children,v,E,O,y.el,y.anchor)},B=(y,v,E,O)=>{if(v.children!==y.children){const P=h(y.anchor);V(y),[v.el,v.anchor]=g(v.children,E,P,O)}else v.el=y.el,v.anchor=y.anchor},S=({el:y,anchor:v},E,O)=>{let P;for(;y&&y!==v;)P=h(y),o(y,E,O),y=P;o(v,E,O)},V=({el:y,anchor:v})=>{let E;for(;y&&y!==v;)E=h(y),l(y),y=E;l(v)},W=(y,v,E,O,P,j,Q,q,U)=>{Q=Q||v.type==="svg",y==null?H(v,E,O,P,j,Q,q,U):re(y,v,P,j,Q,q,U)},H=(y,v,E,O,P,j,Q,q)=>{let U,M;const{type:le,props:oe,shapeFlag:ie,transition:ye,dirs:be}=y;if(U=y.el=a(y.type,j,oe&&oe.is,oe),ie&8?d(U,y.children):ie&16&&ne(y.children,U,null,O,P,j&&le!=="foreignObject",Q,q),be&&xn(y,null,O,"created"),oe){for(const Fe in oe)Fe!=="value"&&!Do(Fe)&&r(U,Fe,null,oe[Fe],j,y.children,O,P,K);"value"in oe&&r(U,"value",null,oe.value),(M=oe.onVnodeBeforeMount)&&bt(M,O,y)}N(U,y,y.scopeId,Q,O),Object.defineProperty(U,"__vnode",{value:y,enumerable:!1}),Object.defineProperty(U,"__vueParentComponent",{value:O,enumerable:!1}),be&&xn(y,null,O,"beforeMount");const Le=(!P||P&&!P.pendingBranch)&&ye&&!ye.persisted;Le&&ye.beforeEnter(U),o(U,v,E),((M=oe&&oe.onVnodeMounted)||Le||be)&&Ze(()=>{M&&bt(M,O,y),Le&&ye.enter(U),be&&xn(y,null,O,"mounted")},P)},N=(y,v,E,O,P)=>{if(E&&m(y,E),O)for(let j=0;j<O.length;j++)m(y,O[j]);if(P){let j=P.subTree;if(j.patchFlag>0&&j.patchFlag&2048&&(j=bc(j.children)||j),v===j){const Q=P.vnode;N(y,Q,Q.scopeId,Q.slotScopeIds,P.parent)}}},ne=(y,v,E,O,P,j,Q,q,U=0)=>{for(let M=U;M<y.length;M++){const le=y[M]=q?hn(y[M]):$t(y[M]);_(null,le,v,E,O,P,j,Q,q)}},re=(y,v,E,O,P,j,Q)=>{const q=v.el=y.el;let{patchFlag:U,dynamicChildren:M,dirs:le}=v;U|=y.patchFlag&16;const oe=y.props||Oe,ie=v.props||Oe;let ye;E&&Sn(E,!1),(ye=ie.onVnodeBeforeUpdate)&&bt(ye,E,v,y),le&&xn(v,y,E,"beforeUpdate"),E&&Sn(E,!0),_n&&(U=0,Q=!1,M=null);const be=P&&v.type!=="foreignObject";if(M?(de(y.dynamicChildren,M,q,E,O,be,j),E&&E.type.__hmrId&&Ns(y,v)):Q||ge(y,v,q,null,E,O,be,j,!1),U>0){if(U&16)J(q,v,oe,ie,E,O,P);else if(U&2&&oe.class!==ie.class&&r(q,"class",null,ie.class,P),U&4&&r(q,"style",oe.style,ie.style,P),U&8){const Le=v.dynamicProps;for(let Fe=0;Fe<Le.length;Fe++){const Ue=Le[Fe],Bt=oe[Ue],ss=ie[Ue];(ss!==Bt||Ue==="value")&&r(q,Ue,Bt,ss,P,y.children,E,O,K)}}U&1&&y.children!==v.children&&d(q,v.children)}else!Q&&M==null&&J(q,v,oe,ie,E,O,P);((ye=ie.onVnodeUpdated)||le)&&Ze(()=>{ye&&bt(ye,E,v,y),le&&xn(v,y,E,"updated")},O)},de=(y,v,E,O,P,j,Q)=>{for(let q=0;q<v.length;q++){const U=y[q],M=v[q],le=U.el&&(U.type===xe||!Fn(U,M)||U.shapeFlag&70)?f(U.el):E;_(U,M,le,null,O,P,j,Q,!0)}},J=(y,v,E,O,P,j,Q)=>{if(E!==O){if(E!==Oe)for(const q in E)!Do(q)&&!(q in O)&&r(y,q,E[q],null,Q,v.children,P,j,K);for(const q in O){if(Do(q))continue;const U=O[q],M=E[q];U!==M&&q!=="value"&&r(y,q,M,U,Q,v.children,P,j,K)}"value"in O&&r(y,"value",E.value,O.value)}},we=(y,v,E,O,P,j,Q,q,U)=>{const M=v.el=y?y.el:c(""),le=v.anchor=y?y.anchor:c("");let{patchFlag:oe,dynamicChildren:ie,slotScopeIds:ye}=v;(_n||oe&2048)&&(oe=0,U=!1,ie=null),ye&&(q=q?q.concat(ye):ye),y==null?(o(M,E,O),o(le,E,O),ne(v.children,E,le,P,j,Q,q,U)):oe>0&&oe&64&&ie&&y.dynamicChildren?(de(y.dynamicChildren,ie,E,P,j,Q,q),P&&P.type.__hmrId?Ns(y,v):(v.key!=null||P&&v===P.subTree)&&Ns(y,v,!0)):ge(y,v,E,le,P,j,Q,q,U)},Ie=(y,v,E,O,P,j,Q,q,U)=>{v.slotScopeIds=q,y==null?v.shapeFlag&512?P.ctx.activate(v,E,O,Q,U):ke(v,E,O,P,j,Q,U):Re(y,v,U)},ke=(y,v,E,O,P,j,Q)=>{const q=y.component=kf(y,O,P);if(q.type.__hmrId&&pd(q),ko(y),Qt(q,"mount"),co(y)&&(q.ctx.renderer=Ee),Qt(q,"init"),Bf(q),Jt(q,"init"),q.asyncDep){if(P&&P.registerDep(q,Z),!y.el){const U=q.subTree=X(Qe);C(null,U,v,E)}return}Z(q,y,v,E,P,j,Q),Co(),Jt(q,"mount")},Re=(y,v,E)=>{const O=v.component=y.component;if(kd(y,v,E))if(O.asyncDep&&!O.asyncResolved){ko(v),ce(O,v,E),Co();return}else O.next=v,id(O.update),O.update();else v.el=y.el,O.vnode=v},Z=(y,v,E,O,P,j,Q)=>{const q=()=>{if(y.isMounted){let{next:le,bu:oe,u:ie,parent:ye,vnode:be}=y,Le=le,Fe;ko(le||y.vnode),Sn(y,!1),le?(le.el=be.el,ce(y,le,Q)):le=be,oe&&mn(oe),(Fe=le.props&&le.props.onVnodeBeforeUpdate)&&bt(Fe,ye,le,be),Sn(y,!0),Qt(y,"render");const Ue=fl(y);Jt(y,"render");const Bt=y.subTree;y.subTree=Ue,Qt(y,"patch"),_(Bt,Ue,f(Bt.el),te(Bt),y,P,j),Jt(y,"patch"),le.el=Ue.el,Le===null&&Cd(y,Ue.el),ie&&Ze(ie,P),(Fe=le.props&&le.props.onVnodeUpdated)&&Ze(()=>bt(Fe,ye,le,be),P),_c(y),Co()}else{let le;const{el:oe,props:ie}=v,{bm:ye,m:be,parent:Le}=y,Fe=ys(v);if(Sn(y,!1),ye&&mn(ye),!Fe&&(le=ie&&ie.onVnodeBeforeMount)&&bt(le,Le,v),Sn(y,!0),oe&&ue){const Ue=()=>{Qt(y,"render"),y.subTree=fl(y),Jt(y,"render"),Qt(y,"hydrate"),ue(oe,y.subTree,y,P,null),Jt(y,"hydrate")};Fe?v.type.__asyncLoader().then(()=>!y.isUnmounted&&Ue()):Ue()}else{Qt(y,"render");const Ue=y.subTree=fl(y);Jt(y,"render"),Qt(y,"patch"),_(null,Ue,E,O,y,P,j),Jt(y,"patch"),v.el=Ue.el}if(be&&Ze(be,P),!Fe&&(le=ie&&ie.onVnodeMounted)){const Ue=v;Ze(()=>bt(le,Le,Ue),P)}(v.shapeFlag&256||Le&&ys(Le.vnode)&&Le.vnode.shapeFlag&256)&&y.a&&Ze(y.a,P),y.isMounted=!0,Rl(y),v=E=O=null}},U=y.effect=new gr(q,()=>nl(M),y.scope),M=y.update=()=>U.run();M.id=y.uid,Sn(y,!0),U.onTrack=y.rtc?le=>mn(y.rtc,le):void 0,U.onTrigger=y.rtg?le=>mn(y.rtg,le):void 0,M.ownerInstance=y,M()},ce=(y,v,E)=>{v.component=y;const O=y.vnode.props;y.vnode=v,y.next=null,tf(y,v.props,O,E),pf(y,v.children,E),Xn(),ca(),es()},ge=(y,v,E,O,P,j,Q,q,U=!1)=>{const M=y&&y.children,le=y?y.shapeFlag:0,oe=v.children,{patchFlag:ie,shapeFlag:ye}=v;if(ie>0){if(ie&128){ht(M,oe,E,O,P,j,Q,q,U);return}else if(ie&256){Pe(M,oe,E,O,P,j,Q,q,U);return}}ye&8?(le&16&&K(M,P,j),oe!==M&&d(E,oe)):le&16?ye&16?ht(M,oe,E,O,P,j,Q,q,U):K(M,P,j,!0):(le&8&&d(E,""),ye&16&&ne(oe,E,O,P,j,Q,q,U))},Pe=(y,v,E,O,P,j,Q,q,U)=>{y=y||fs,v=v||fs;const M=y.length,le=v.length,oe=Math.min(M,le);let ie;for(ie=0;ie<oe;ie++){const ye=v[ie]=U?hn(v[ie]):$t(v[ie]);_(y[ie],ye,E,null,P,j,Q,q,U)}M>le?K(y,P,j,!0,!1,oe):ne(v,E,O,P,j,Q,q,U,oe)},ht=(y,v,E,O,P,j,Q,q,U)=>{let M=0;const le=v.length;let oe=y.length-1,ie=le-1;for(;M<=oe&&M<=ie;){const ye=y[M],be=v[M]=U?hn(v[M]):$t(v[M]);if(Fn(ye,be))_(ye,be,E,null,P,j,Q,q,U);else break;M++}for(;M<=oe&&M<=ie;){const ye=y[oe],be=v[ie]=U?hn(v[ie]):$t(v[ie]);if(Fn(ye,be))_(ye,be,E,null,P,j,Q,q,U);else break;oe--,ie--}if(M>oe){if(M<=ie){const ye=ie+1,be=ye<le?v[ye].el:O;for(;M<=ie;)_(null,v[M]=U?hn(v[M]):$t(v[M]),E,be,P,j,Q,q,U),M++}}else if(M>ie)for(;M<=oe;)dt(y[M],P,j,!0),M++;else{const ye=M,be=M,Le=new Map;for(M=be;M<=ie;M++){const lt=v[M]=U?hn(v[M]):$t(v[M]);lt.key!=null&&(Le.has(lt.key)&&L("Duplicate keys found during update:",JSON.stringify(lt.key),"Make sure keys are unique."),Le.set(lt.key,M))}let Fe,Ue=0;const Bt=ie-be+1;let ss=!1,Zr=0;const ks=new Array(Bt);for(M=0;M<Bt;M++)ks[M]=0;for(M=ye;M<=oe;M++){const lt=y[M];if(Ue>=Bt){dt(lt,P,j,!0);continue}let Lt;if(lt.key!=null)Lt=Le.get(lt.key);else for(Fe=be;Fe<=ie;Fe++)if(ks[Fe-be]===0&&Fn(lt,v[Fe])){Lt=Fe;break}Lt===void 0?dt(lt,P,j,!0):(ks[Lt-be]=M+1,Lt>=Zr?Zr=Lt:ss=!0,_(lt,v[Lt],E,null,P,j,Q,q,U),Ue++)}const Xr=ss?mf(ks):fs;for(Fe=Xr.length-1,M=Bt-1;M>=0;M--){const lt=be+M,Lt=v[lt],ea=lt+1<le?v[lt+1].el:O;ks[M]===0?_(null,Lt,E,ea,P,j,Q,q,U):ss&&(Fe<0||M!==Xr[Fe]?tt(Lt,E,ea,2):Fe--)}}},tt=(y,v,E,O,P=null)=>{const{el:j,type:Q,transition:q,children:U,shapeFlag:M}=y;if(M&6){tt(y.component.subTree,v,E,O);return}if(M&128){y.suspense.move(v,E,O);return}if(M&64){Q.move(y,v,E,Ee);return}if(Q===xe){o(j,v,E);for(let oe=0;oe<U.length;oe++)tt(U[oe],v,E,O);o(y.anchor,v,E);return}if(Q===Bo){S(y,v,E);return}if(O!==2&&M&1&&q)if(O===0)q.beforeEnter(j),o(j,v,E),Ze(()=>q.enter(j),P);else{const{leave:oe,delayLeave:ie,afterLeave:ye}=q,be=()=>o(j,v,E),Le=()=>{oe(j,()=>{be(),ye&&ye()})};ie?ie(j,be,Le):Le()}else o(j,v,E)},dt=(y,v,E,O=!1,P=!1)=>{const{type:j,props:Q,ref:q,children:U,dynamicChildren:M,shapeFlag:le,patchFlag:oe,dirs:ie}=y;if(q!=null&&Vl(q,null,E,y,!0),le&256){v.ctx.deactivate(y);return}const ye=le&1&&ie,be=!ys(y);let Le;if(be&&(Le=Q&&Q.onVnodeBeforeUnmount)&&bt(Le,v,y),le&6)ee(y.component,E,O);else{if(le&128){y.suspense.unmount(E,O);return}ye&&xn(y,null,v,"beforeUnmount"),le&64?y.type.remove(y,v,E,P,Ee,O):M&&(j!==xe||oe>0&&oe&64)?K(M,v,E,!1,!0):(j===xe&&oe&384||!P&&le&16)&&K(U,v,E),O&&an(y)}(be&&(Le=Q&&Q.onVnodeUnmounted)||ye)&&Ze(()=>{Le&&bt(Le,v,y),ye&&xn(y,null,v,"unmounted")},E)},an=y=>{const{type:v,el:E,anchor:O,transition:P}=y;if(v===xe){y.patchFlag>0&&y.patchFlag&2048&&P&&!P.persisted?y.children.forEach(Q=>{Q.type===Qe?l(Q.el):an(Q)}):k(E,O);return}if(v===Bo){V(y);return}const j=()=>{l(E),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(y.shapeFlag&1&&P&&!P.persisted){const{leave:Q,delayLeave:q}=P,U=()=>Q(E,j);q?q(y.el,j,U):U()}else j()},k=(y,v)=>{let E;for(;y!==v;)E=h(y),l(y),y=E;l(v)},ee=(y,v,E)=>{y.type.__hmrId&&ud(y);const{bum:O,scope:P,update:j,subTree:Q,um:q}=y;O&&mn(O),P.stop(),j&&(j.active=!1,dt(Q,y,v,E)),q&&Ze(q,v),Ze(()=>{y.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve()),gd(y)},K=(y,v,E,O=!1,P=!1,j=0)=>{for(let Q=j;Q<y.length;Q++)dt(y[Q],v,E,O,P)},te=y=>y.shapeFlag&6?te(y.component.subTree):y.shapeFlag&128?y.suspense.next():h(y.anchor||y.el),ve=(y,v,E)=>{y==null?v._vnode&&dt(v._vnode,null,null,!0):_(v._vnode||null,y,v,null,null,null,E),ca(),yc(),v._vnode=y},Ee={p:_,um:dt,m:tt,r:an,mt:ke,mc:ne,pc:ge,pbc:de,n:te,o:t};let he,ue;return n&&([he,ue]=n(Ee)),{render:ve,hydrate:he,createApp:df(ve,he)}}function Sn({effect:t,update:n},s){t.allowRecurse=n.allowRecurse=s}function Ns(t,n,s=!1){const o=t.children,l=n.children;if(pe(o)&&pe(l))for(let r=0;r<o.length;r++){const a=o[r];let c=l[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=l[r]=hn(l[r]),c.el=a.el),s||Ns(a,c)),c.type===fo&&(c.el=a.el),c.type===Qe&&!c.el&&(c.el=a.el)}}function mf(t){const n=t.slice(),s=[0];let o,l,r,a,c;const p=t.length;for(o=0;o<p;o++){const u=t[o];if(u!==0){if(l=s[s.length-1],t[l]<u){n[o]=l,s.push(o);continue}for(r=0,a=s.length-1;r<a;)c=r+a>>1,t[s[c]]<u?r=c+1:a=c;u<t[s[r]]&&(r>0&&(n[o]=s[r-1]),s[r]=o)}}for(r=s.length,a=s[r-1];r-- >0;)s[r]=a,a=n[a];return s}const gf=t=>t.__isTeleport,ms=t=>t&&(t.disabled||t.disabled===""),ba=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Wl=(t,n)=>{const s=t&&t.to;if(Me(s))if(n){const o=n(s);return o||L(`Failed to locate Teleport target with selector "${s}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),o}else return L("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!s&&!ms(t)&&L(`Invalid Teleport target: ${s}`),s},vf={__isTeleport:!0,process(t,n,s,o,l,r,a,c,p,u){const{mc:d,pc:f,pbc:h,o:{insert:m,querySelector:g,createText:_,createComment:w}}=u,C=ms(n.props);let{shapeFlag:D,children:B,dynamicChildren:S}=n;if(_n&&(p=!1,S=null),t==null){const V=n.el=w("teleport start"),W=n.anchor=w("teleport end");m(V,s,o),m(W,s,o);const H=n.target=Wl(n.props,g),N=n.targetAnchor=_("");H?(m(N,H),a=a||ba(H)):C||L("Invalid Teleport target on mount:",H,`(${typeof H})`);const ne=(re,de)=>{D&16&&d(B,re,de,l,r,a,c,p)};C?ne(s,W):H&&ne(H,N)}else{n.el=t.el;const V=n.anchor=t.anchor,W=n.target=t.target,H=n.targetAnchor=t.targetAnchor,N=ms(t.props),ne=N?s:W,re=N?V:H;if(a=a||ba(W),S?(h(t.dynamicChildren,S,ne,l,r,a,c),Ns(t,n,!0)):p||f(t,n,ne,re,l,r,a,c,!1),C)N||wo(n,s,V,u,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const de=n.target=Wl(n.props,g);de?wo(n,de,null,u,0):L("Invalid Teleport target on update:",W,`(${typeof W})`)}else N&&wo(n,W,H,u,1)}Nc(n)},remove(t,n,s,o,{um:l,o:{remove:r}},a){const{shapeFlag:c,children:p,anchor:u,targetAnchor:d,target:f,props:h}=t;if(f&&r(d),(a||!ms(h))&&(r(u),c&16))for(let m=0;m<p.length;m++){const g=p[m];l(g,n,s,!0,!!g.dynamicChildren)}},move:wo,hydrate:_f};function wo(t,n,s,{o:{insert:o},m:l},r=2){r===0&&o(t.targetAnchor,n,s);const{el:a,anchor:c,shapeFlag:p,children:u,props:d}=t,f=r===2;if(f&&o(a,n,s),(!f||ms(d))&&p&16)for(let h=0;h<u.length;h++)l(u[h],n,s,2);f&&o(c,n,s)}function _f(t,n,s,o,l,r,{o:{nextSibling:a,parentNode:c,querySelector:p}},u){const d=n.target=Wl(n.props,p);if(d){const f=d._lpa||d.firstChild;if(n.shapeFlag&16)if(ms(n.props))n.anchor=u(a(t),n,c(t),s,o,l,r),n.targetAnchor=f;else{n.anchor=a(t);let h=f;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){n.targetAnchor=h,d._lpa=n.targetAnchor&&a(n.targetAnchor);break}u(f,n,d,s,o,l,r)}Nc(n)}return n.anchor&&a(n.anchor)}const q7=vf;function Nc(t){const n=t.ctx;if(n&&n.ut){let s=t.children[0].el;for(;s!==t.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}const xe=Symbol("Fragment"),fo=Symbol("Text"),Qe=Symbol("Comment"),Bo=Symbol("Static"),js=[];let Pt=null;function A(t=!1){js.push(Pt=t?null:[])}function Af(){js.pop(),Pt=js[js.length-1]||null}let Zs=1;function Ea(t){Zs+=t}function jc(t){return t.dynamicChildren=Zs>0?Pt||fs:null,Af(),Zs>0&&Pt&&Pt.push(t),t}function se(t,n,s,o,l,r){return jc(e(t,n,s,o,l,r,!0))}function $(t,n,s,o,l){return jc(X(t,n,s,o,l,!0))}function Qn(t){return t?t.__v_isVNode===!0:!1}function Fn(t,n){return n.shapeFlag&6&&is.has(n.type)?(t.shapeFlag&=-257,n.shapeFlag&=-513,!1):t.type===n.type&&t.key===n.key}const wf=(...t)=>bf(...t),al="__vInternal",Hc=({key:t})=>t??null,xo=({ref:t,ref_key:n,ref_for:s})=>t!=null?Me(t)||Ce(t)||fe(t)?{i:Ye,r:t,k:n,f:!!s}:t:null;function e(t,n=null,s=null,o=0,l=null,r=t===xe?0:1,a=!1,c=!1){const p={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&Hc(n),ref:n&&xo(n),scopeId:ol,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ye};return c?(Ir(p,s),r&128&&t.normalize(p)):s&&(p.shapeFlag|=Me(s)?8:16),p.key!==p.key&&L("VNode created with invalid key (NaN). VNode type:",p.type),Zs>0&&!a&&Pt&&(p.patchFlag>0||r&6)&&p.patchFlag!==32&&Pt.push(p),p}const X=wf;function bf(t,n=null,s=null,o=0,l=null,r=!1){if((!t||t===Hd)&&(t||L(`Invalid vnode type when creating vnode: ${t}.`),t=Qe),Qn(t)){const c=Ot(t,n,!0);return s&&Ir(c,s),Zs>0&&!r&&Pt&&(c.shapeFlag&6?Pt[Pt.indexOf(t)]=c:Pt.push(c)),c.patchFlag|=-2,c}if(Kc(t)&&(t=t.__vccOpts),n){n=z(n);let{class:c,style:p}=n;c&&!Me(c)&&(n.class=He(c)),Se(p)&&(Lo(p)&&!pe(p)&&(p=Ne({},p)),n.style=st(p))}const a=Me(t)?1:Ec(t)?128:gf(t)?64:Se(t)?4:fe(t)?2:0;return a&4&&Lo(t)&&(t=me(t),L("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),e(t,n,s,o,l,a,r,!0)}function z(t){return t?Lo(t)||al in t?Ne({},t):t:null}function Ot(t,n,s=!1){const{props:o,ref:l,patchFlag:r,children:a}=t,c=n?We(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Hc(c),ref:n&&n.ref?s&&l?pe(l)?l.concat(xo(n)):[l,xo(n)]:xo(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r===-1&&pe(a)?a.map(Uc):a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==xe?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ot(t.ssContent),ssFallback:t.ssFallback&&Ot(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Uc(t){const n=Ot(t);return pe(t.children)&&(n.children=t.children.map(Uc)),n}function i(t=" ",n=0){return X(fo,null,t,n)}function _e(t="",n=!1){return n?(A(),$(Qe,null,t)):X(Qe,null,t)}function $t(t){return t==null||typeof t=="boolean"?X(Qe):pe(t)?X(xe,null,t.slice()):typeof t=="object"?hn(t):X(fo,null,String(t))}function hn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ot(t)}function Ir(t,n){let s=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(pe(n))s=16;else if(typeof n=="object")if(o&65){const l=n.default;l&&(l._c&&(l._d=!1),Ir(t,l()),l._c&&(l._d=!0));return}else{s=32;const l=n._;!l&&!(al in n)?n._ctx=Ye:l===3&&Ye&&(Ye.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else fe(n)?(n={default:n,_ctx:Ye},s=32):(n=String(n),o&64?(s=16,n=[i(n)]):s=8);t.children=n,t.shapeFlag|=s}function We(...t){const n={};for(let s=0;s<t.length;s++){const o=t[s];for(const l in o)if(l==="class")n.class!==o.class&&(n.class=He([n.class,o.class]));else if(l==="style")n.style=st([n.style,o.style]);else if(ao(l)){const r=n[l],a=o[l];a&&r!==a&&!(pe(r)&&r.includes(a))&&(n[l]=r?[].concat(r,a):a)}else l!==""&&(n[l]=o[l])}return n}function bt(t,n,s,o=null){kt(t,n,7,[s,o])}const Ef=qc();let Df=0;function kf(t,n,s){const o=t.type,l=(n?n.appContext:t.appContext)||Ef,r={uid:Df++,vnode:t,type:o,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ki(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oc(o,l),emitsOptions:wc(o,l),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:o.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx=Vd(r),r.root=n?n.root:r,r.emit=wd.bind(null,r),t.ce&&t.ce(r),r}let Ke=null;const Yt=()=>Ke||Ye,_s=t=>{Ke=t,t.scope.on()},Un=()=>{Ke&&Ke.scope.off(),Ke=null},Cf=Bn("slot,component");function zl(t,n){const s=n.isNativeTag||Hi;(Cf(t)||s(t))&&L("Do not use built-in or reserved HTML elements as component id: "+t)}function Vc(t){return t.vnode.shapeFlag&4}let Xs=!1;function Bf(t,n=!1){Xs=n;const{props:s,children:o}=t.vnode,l=Vc(t);Xd(t,s,l,n),cf(t,o);const r=l?xf(t,n):void 0;return Xs=!1,r}function xf(t,n){var s;const o=t.type;{if(o.name&&zl(o.name,t.appContext.config),o.components){const r=Object.keys(o.components);for(let a=0;a<r.length;a++)zl(r[a],t.appContext.config)}if(o.directives){const r=Object.keys(o.directives);for(let a=0;a<r.length;a++)Sc(r[a])}o.compilerOptions&&Sf()&&L('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=_r(new Proxy(t.ctx,Tc)),Wd(t);const{setup:l}=o;if(l){const r=t.setupContext=l.length>1?zc(t):null;_s(t),Xn();const a=sn(l,t,0,[us(t.props),r]);if(es(),Un(),fr(a)){if(a.then(Un,Un),n)return a.then(c=>{Da(t,c,n)}).catch(c=>{tl(c,t,0)});if(t.asyncDep=a,!t.suspense){const c=(s=o.name)!==null&&s!==void 0?s:"Anonymous";L(`Component <${c}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else Da(t,a,n)}else Wc(t,n)}function Da(t,n,s){fe(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Se(n)?(Qn(n)&&L("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=n,t.setupState=ic(n),zd(t)):n!==void 0&&L(`setup() should return an object. Received: ${n===null?"null":typeof n}`),Wc(t,s)}let Kl;const Sf=()=>!Kl;function Wc(t,n,s){const o=t.type;if(!t.render){if(!n&&Kl&&!o.render){const l=o.template||Fr(t).template;if(l){Qt(t,"compile");const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:p}=o,u=Ne(Ne({isCustomElement:r,delimiters:c},a),p);o.render=Kl(l,u),Jt(t,"compile")}}t.render=o.render||ft}_s(t),Xn(),Yd(t),es(),Un(),!o.render&&t.render===ft&&!n&&(o.template?L('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):L("Component is missing template or render function."))}function $f(t){return new Proxy(t.attrs,{get(n,s){return qo(),_t(t,"get","$attrs"),n[s]},set(){return L("setupContext.attrs is readonly."),!1},deleteProperty(){return L("setupContext.attrs is readonly."),!1}})}function zc(t){const n=o=>{t.exposed&&L("expose() should be called only once per setup()."),t.exposed=o||{}};let s;return Object.freeze({get attrs(){return s||(s=$f(t))},get slots(){return us(t.slots)},get emit(){return(o,...l)=>t.emit(o,...l)},expose:n})}function il(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ic(_r(t.exposed)),{get(n,s){if(s in n)return n[s];if(s in Hn)return Hn[s](t)},has(n,s){return s in n||s in Hn}}))}const Tf=/(?:^|[-_])(\w)/g,Pf=t=>t.replace(Tf,n=>n.toUpperCase()).replace(/[-_]/g,"");function eo(t,n=!0){return fe(t)?t.displayName||t.name:t.name||n&&t.__name}function cl(t,n,s=!1){let o=eo(n);if(!o&&n.__file){const l=n.__file.match(/([^/\\]+)\.\w+$/);l&&(o=l[1])}if(!o&&t&&t.parent){const l=r=>{for(const a in r)if(r[a]===n)return a};o=l(t.components||t.parent.type.components)||l(t.appContext.components)}return o?Pf(o):s?"App":"Anonymous"}function Kc(t){return fe(t)&&"__vccOpts"in t}const F=(t,n)=>ed(t,n,Xs);function N7(){return Ff().slots}function Ff(){const t=Yt();return t||L("useContext() called without active instance."),t.setupContext||(t.setupContext=zc(t))}function pl(t,n,s){const o=arguments.length;return o===2?Se(n)&&!pe(n)?Qn(n)?X(t,null,[n]):X(t,n):X(t,null,n):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&Qn(s)&&(s=[s]),X(t,n,s))}const Of=Symbol("ssrContext"),If=()=>{{const t=x(Of);return t||L("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function vl(t){return!!(t&&t.__v_isShallow)}function Rf(){if(typeof window>"u")return;const t={style:"color:#3ba776"},n={style:"color:#0b1bc9"},s={style:"color:#b62e24"},o={style:"color:#9d288c"},l={header(f){return Se(f)?f.__isVue?["div",t,"VueInstance"]:Ce(f)?["div",{},["span",t,d(f)],"<",c(f.value),">"]:Nn(f)?["div",{},["span",t,vl(f)?"ShallowReactive":"Reactive"],"<",c(f),`>${Dn(f)?" (readonly)":""}`]:Dn(f)?["div",{},["span",t,vl(f)?"ShallowReadonly":"Readonly"],"<",c(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...r(f.$)]}};function r(f){const h=[];f.type.props&&f.props&&h.push(a("props",me(f.props))),f.setupState!==Oe&&h.push(a("setup",f.setupState)),f.data!==Oe&&h.push(a("data",me(f.data)));const m=p(f,"computed");m&&h.push(a("computed",m));const g=p(f,"inject");return g&&h.push(a("injected",g)),h.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),h}function a(f,h){return h=Ne({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(m=>["div",{},["span",o,m+": "],c(h[m],!1)])]]:["span",{}]}function c(f,h=!0){return typeof f=="number"?["span",n,f]:typeof f=="string"?["span",s,JSON.stringify(f)]:typeof f=="boolean"?["span",o,f]:Se(f)?["object",{object:h?me(f):f}]:["span",s,String(f)]}function p(f,h){const m=f.type;if(fe(m))return;const g={};for(const _ in f.ctx)u(m,_,h)&&(g[_]=f.ctx[_]);return g}function u(f,h,m){const g=f[m];if(pe(g)&&g.includes(h)||Se(g)&&h in g||f.extends&&u(f.extends,h,m)||f.mixins&&f.mixins.some(_=>u(_,h,m)))return!0}function d(f){return vl(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(l):window.devtoolsFormatters=[l]}const ka="3.2.45",Lf="http://www.w3.org/2000/svg",On=typeof document<"u"?document:null,Ca=On&&On.createElement("template"),Mf={insert:(t,n,s)=>{n.insertBefore(t,s||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,s,o)=>{const l=n?On.createElementNS(Lf,t):On.createElement(t,s?{is:s}:void 0);return t==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:t=>On.createTextNode(t),createComment:t=>On.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>On.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,s,o,l,r){const a=s?s.previousSibling:n.lastChild;if(l&&(l===r||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),s),!(l===r||!(l=l.nextSibling)););else{Ca.innerHTML=o?`<svg>${t}</svg>`:t;const c=Ca.content;if(o){const p=c.firstChild;for(;p.firstChild;)c.appendChild(p.firstChild);c.removeChild(p)}n.insertBefore(c,s)}return[a?a.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}};function qf(t,n,s){const o=t._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):s?t.setAttribute("class",n):t.className=n}function Nf(t,n,s){const o=t.style,l=Me(s);if(s&&!l){for(const r in s)Yl(o,r,s[r]);if(n&&!Me(n))for(const r in n)s[r]==null&&Yl(o,r,"")}else{const r=o.display;l?n!==s&&(o.cssText=s):n&&t.removeAttribute("style"),"_vod"in t&&(o.display=r)}}const jf=/[^\\];\s*$/,Ba=/\s*!important$/;function Yl(t,n,s){if(pe(s))s.forEach(o=>Yl(t,n,o));else if(s==null&&(s=""),jf.test(s)&&L(`Unexpected semicolon at the end of '${n}' style value: '${s}'`),n.startsWith("--"))t.setProperty(n,s);else{const o=Hf(t,n);Ba.test(s)?t.setProperty(on(o),s.replace(Ba,""),"important"):t[o]=s}}const xa=["Webkit","Moz","ms"],_l={};function Hf(t,n){const s=_l[n];if(s)return s;let o=Vt(n);if(o!=="filter"&&o in t)return _l[n]=o;o=Yn(o);for(let l=0;l<xa.length;l++){const r=xa[l]+o;if(r in t)return _l[n]=r}return n}const Sa="http://www.w3.org/1999/xlink";function Uf(t,n,s,o,l){if(o&&n.startsWith("xlink:"))s==null?t.removeAttributeNS(Sa,n.slice(6,n.length)):t.setAttributeNS(Sa,n,s);else{const r=uu(n);s==null||r&&!Ni(s)?t.removeAttribute(n):t.setAttribute(n,r?"":s)}}function Vf(t,n,s,o,l,r,a){if(n==="innerHTML"||n==="textContent"){o&&a(o,l,r),t[n]=s??"";return}if(n==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const p=s??"";(t.value!==p||t.tagName==="OPTION")&&(t.value=p),s==null&&t.removeAttribute(n);return}let c=!1;if(s===""||s==null){const p=typeof t[n];p==="boolean"?s=Ni(s):s==null&&p==="string"?(s="",c=!0):p==="number"&&(s=0,c=!0)}try{t[n]=s}catch(p){c||L(`Failed setting prop "${n}" on <${t.tagName.toLowerCase()}>: value ${s} is invalid.`,p)}c&&t.removeAttribute(n)}function cs(t,n,s,o){t.addEventListener(n,s,o)}function Wf(t,n,s,o){t.removeEventListener(n,s,o)}function zf(t,n,s,o,l=null){const r=t._vei||(t._vei={}),a=r[n];if(o&&a)a.value=o;else{const[c,p]=Kf(n);if(o){const u=r[n]=Qf(o,l);cs(t,c,u,p)}else a&&(Wf(t,c,a,p),r[n]=void 0)}}const $a=/(?:Once|Passive|Capture)$/;function Kf(t){let n;if($a.test(t)){n={};let o;for(;o=t.match($a);)t=t.slice(0,t.length-o[0].length),n[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):on(t.slice(2)),n]}let Al=0;const Yf=Promise.resolve(),Gf=()=>Al||(Yf.then(()=>Al=0),Al=Date.now());function Qf(t,n){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;kt(Jf(o,s.value),n,5,[o])};return s.value=t,s.attached=Gf(),s}function Jf(t,n){if(pe(n)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},n.map(o=>l=>!l._stopped&&o&&o(l))}else return n}const Ta=/^on[a-z]/,Zf=(t,n,s,o,l=!1,r,a,c,p)=>{n==="class"?qf(t,o,l):n==="style"?Nf(t,s,o):ao(n)?Fo(n)||zf(t,n,s,o,a):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Xf(t,n,o,l))?Vf(t,n,o,r,a,c,p):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),Uf(t,n,o,l))};function Xf(t,n,s,o){return o?!!(n==="innerHTML"||n==="textContent"||n in t&&Ta.test(n)&&fe(s)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||Ta.test(n)&&Me(s)?!1:n in t}const pn="transition",Bs="animation",Yc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},eh=Ne({},$d.props,Yc),$n=(t,n=[])=>{pe(t)?t.forEach(s=>s(...n)):t&&t(...n)},Pa=t=>t?pe(t)?t.some(n=>n.length>1):t.length>1:!1;function th(t){const n={};for(const J in t)J in Yc||(n[J]=t[J]);if(t.css===!1)return n;const{name:s="v",type:o,duration:l,enterFromClass:r=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:c=`${s}-enter-to`,appearFromClass:p=r,appearActiveClass:u=a,appearToClass:d=c,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:m=`${s}-leave-to`}=t,g=nh(l),_=g&&g[0],w=g&&g[1],{onBeforeEnter:C,onEnter:D,onEnterCancelled:B,onLeave:S,onLeaveCancelled:V,onBeforeAppear:W=C,onAppear:H=D,onAppearCancelled:N=B}=n,ne=(J,we,Ie)=>{dn(J,we?d:c),dn(J,we?u:a),Ie&&Ie()},re=(J,we)=>{J._isLeaving=!1,dn(J,f),dn(J,m),dn(J,h),we&&we()},de=J=>(we,Ie)=>{const ke=J?H:D,Re=()=>ne(we,J,Ie);$n(ke,[we,Re]),Fa(()=>{dn(we,J?p:r),Zt(we,J?d:c),Pa(ke)||Oa(we,o,_,Re)})};return Ne(n,{onBeforeEnter(J){$n(C,[J]),Zt(J,r),Zt(J,a)},onBeforeAppear(J){$n(W,[J]),Zt(J,p),Zt(J,u)},onEnter:de(!1),onAppear:de(!0),onLeave(J,we){J._isLeaving=!0;const Ie=()=>re(J,we);Zt(J,f),Qc(),Zt(J,h),Fa(()=>{!J._isLeaving||(dn(J,f),Zt(J,m),Pa(S)||Oa(J,o,w,Ie))}),$n(S,[J,Ie])},onEnterCancelled(J){ne(J,!1),$n(B,[J])},onAppearCancelled(J){ne(J,!0),$n(N,[J])},onLeaveCancelled(J){re(J),$n(V,[J])}})}function nh(t){if(t==null)return null;if(Se(t))return[wl(t.enter),wl(t.leave)];{const n=wl(t);return[n,n]}}function wl(t){const n=Ks(t);return sh(n),n}function sh(t){typeof t!="number"?L(`<transition> explicit duration is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&L("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function Zt(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(n)}function dn(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const{_vtc:s}=t;s&&(s.delete(n),s.size||(t._vtc=void 0))}function Fa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let oh=0;function Oa(t,n,s,o){const l=t._endId=++oh,r=()=>{l===t._endId&&o()};if(s)return setTimeout(r,s);const{type:a,timeout:c,propCount:p}=Gc(t,n);if(!a)return o();const u=a+"end";let d=0;const f=()=>{t.removeEventListener(u,h),r()},h=m=>{m.target===t&&++d>=p&&f()};setTimeout(()=>{d<p&&f()},c+1),t.addEventListener(u,h)}function Gc(t,n){const s=window.getComputedStyle(t),o=g=>(s[g]||"").split(", "),l=o(`${pn}Delay`),r=o(`${pn}Duration`),a=Ia(l,r),c=o(`${Bs}Delay`),p=o(`${Bs}Duration`),u=Ia(c,p);let d=null,f=0,h=0;n===pn?a>0&&(d=pn,f=a,h=r.length):n===Bs?u>0&&(d=Bs,f=u,h=p.length):(f=Math.max(a,u),d=f>0?a>u?pn:Bs:null,h=d?d===pn?r.length:p.length:0);const m=d===pn&&/\b(transform|all)(,|$)/.test(o(`${pn}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:m}}function Ia(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((s,o)=>Ra(s)+Ra(t[o])))}function Ra(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Qc(){return document.body.offsetHeight}const Jc=new WeakMap,Zc=new WeakMap,lh={name:"TransitionGroup",props:Ne({},eh,{tag:String,moveClass:String}),setup(t,{slots:n}){const s=Yt(),o=kc();let l,r;return Sr(()=>{if(!l.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!ph(l[0].el,s.vnode.el,a))return;l.forEach(ah),l.forEach(ih);const c=l.filter(ch);Qc(),c.forEach(p=>{const u=p.el,d=u.style;Zt(u,a),d.transform=d.webkitTransform=d.transitionDuration="";const f=u._moveCb=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,dn(u,a))};u.addEventListener("transitionend",f)})}),()=>{const a=me(t),c=th(a);let p=a.tag||xe;l=r,r=n.default?xr(n.default()):[];for(let u=0;u<r.length;u++){const d=r[u];d.key!=null?vs(d,Js(d,c,o,s)):L("<TransitionGroup> children must be keyed.")}if(l)for(let u=0;u<l.length;u++){const d=l[u];vs(d,Js(d,c,o,s)),Jc.set(d,d.el.getBoundingClientRect())}return X(p,null,r)}}},rh=lh;function ah(t){const n=t.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function ih(t){Zc.set(t,t.el.getBoundingClientRect())}function ch(t){const n=Jc.get(t),s=Zc.get(t),o=n.left-s.left,l=n.top-s.top;if(o||l){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${o}px,${l}px)`,r.transitionDuration="0s",t}}function ph(t,n,s){const o=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(c=>c&&o.classList.remove(c))}),s.split(/\s+/).forEach(a=>a&&o.classList.add(a)),o.style.display="none";const l=n.nodeType===1?n:n.parentNode;l.appendChild(o);const{hasTransform:r}=Gc(o);return l.removeChild(o),r}const La=t=>{const n=t.props["onUpdate:modelValue"]||!1;return pe(n)?s=>mn(n,s):n};function uh(t){t.target.composing=!0}function Ma(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const dh={created(t,{modifiers:{lazy:n,trim:s,number:o}},l){t._assign=La(l);const r=o||l.props&&l.props.type==="number";cs(t,n?"change":"input",a=>{if(a.target.composing)return;let c=t.value;s&&(c=c.trim()),r&&(c=Ks(c)),t._assign(c)}),s&&cs(t,"change",()=>{t.value=t.value.trim()}),n||(cs(t,"compositionstart",uh),cs(t,"compositionend",Ma),cs(t,"change",Ma))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,modifiers:{lazy:s,trim:o,number:l}},r){if(t._assign=La(r),t.composing||document.activeElement===t&&t.type!=="range"&&(s||o&&t.value.trim()===n||(l||t.type==="number")&&Ks(t.value)===n))return;const a=n??"";t.value!==a&&(t.value=a)}},fh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qa=(t,n)=>s=>{if(!("key"in s))return;const o=on(s.key);if(n.some(l=>l===o||fh[l]===o))return t(s)},Xc={beforeMount(t,{value:n},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&n?s.beforeEnter(t):xs(t,n)},mounted(t,{value:n},{transition:s}){s&&n&&s.enter(t)},updated(t,{value:n,oldValue:s},{transition:o}){!n!=!s&&(o?n?(o.beforeEnter(t),xs(t,!0),o.enter(t)):o.leave(t,()=>{xs(t,!1)}):xs(t,n))},beforeUnmount(t,{value:n}){xs(t,n)}};function xs(t,n){t.style.display=n?t._vod:"none"}const hh=Ne({patchProp:Zf},Mf);let Na;function yh(){return Na||(Na=hf(hh))}const j7=(...t)=>{const n=yh().createApp(...t);mh(n),gh(n);const{mount:s}=n;return n.mount=o=>{const l=vh(o);if(!l)return;const r=n._component;!fe(r)&&!r.render&&!r.template&&(r.template=l.innerHTML),l.innerHTML="";const a=s(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),a},n};function mh(t){Object.defineProperty(t.config,"isNativeTag",{value:n=>iu(n)||cu(n),writable:!1})}function gh(t){{const n=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return n},set(){L("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const s=t.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(t.config,"compilerOptions",{get(){return L(o),s},set(){L(o)}})}}function vh(t){if(Me(t)){const n=document.querySelector(t);return n||L(`Failed to mount app: mount target selector "${t}" returned null.`),n}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&L('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}function _h(){Rf()}_h();const ep=Symbol("v-click-clicks"),tp=Symbol("v-click-clicks-elements"),Ah=Symbol("v-click-clicks-order-map"),np=Symbol("v-click-clicks-disabled"),sp=Symbol("slidev-slide-scale"),I=Symbol("slidev-slidev-context"),wh=Symbol("slidev-route"),bh=Symbol("slidev-slide-context"),Eh="slidev-vclick-target",H7="slidev-vclick-hidden",U7="slidev-vclick-fade",V7="slidev-vclick-hidden-explicitly",W7="slidev-vclick-current",z7="slidev-vclick-prior";function Dh(t,n){if(!t)return!1;const s=t.indexOf(n);return s>=0?(t.splice(s,1),!0):!1}function kh(...t){let n,s,o;t.length===1?(n=0,o=1,[s]=t):[n,s,o=1]=t;const l=[];let r=n;for(;r<s;)l.push(r),r+=o||1;return l}function Ch(t){return t!=null}function Bh(t,n){return Object.fromEntries(Object.entries(t).map(([s,o])=>n(s,o)).filter(Ch))}const Ms={theme:"slidev-theme-nearform",title:"OWASP Top Ten Security Vulnerabilities Workshop",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,export:{},info:!1,highlighter:"shiki",lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Poppins"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:['"Poppins"',"ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"PT Mono"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Poppins","PT Mono"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"windicss",presenter:!0,htmlAttrs:{},layout:"default"},$e=Ms,An=$e.aspectRatio??16/9,wn=$e.canvasWidth??980,Rr=Math.ceil(wn/An),Lr=F(()=>Bh($e.themeConfig||{},(t,n)=>[`--slidev-theme-${t}`,n]));function Ct(t,n,s){Object.defineProperty(t,n,{value:s,writable:!0,enumerable:!1})}const ts=Xe({page:0,clicks:0});let xh=[],Sh=[];Ct(ts,"$syncUp",!0);Ct(ts,"$syncDown",!0);Ct(ts,"$paused",!1);Ct(ts,"$onSet",t=>xh.push(t));Ct(ts,"$onPatch",t=>Sh.push(t));Ct(ts,"$patch",async()=>!1);function op(t,n,s=!1){const o=[];let l=!1,r=!1,a,c;const p=Xe(n);function u(m){o.push(m)}function d(m,g){clearTimeout(a),l=!0,p[m]=g,a=setTimeout(()=>l=!1,0)}function f(m){l||(clearTimeout(c),r=!0,Object.entries(m).forEach(([g,_])=>{p[g]=_}),c=setTimeout(()=>r=!1,0))}function h(m){let g;s?s&&window.addEventListener("storage",w=>{w&&w.key===m&&w.newValue&&f(JSON.parse(w.newValue))}):(g=new BroadcastChannel(m),g.addEventListener("message",w=>f(w.data)));function _(){!s&&g&&!r?g.postMessage(me(p)):s&&!r&&window.localStorage.setItem(m,JSON.stringify(p)),l||o.forEach(w=>w(p))}if(qe(p,_,{deep:!0}),s){const w=window.localStorage.getItem(m);w&&f(JSON.parse(w))}}return{init:h,onPatch:u,patch:d,state:p}}const{init:K7,onPatch:Y7,patch:G7,state:bl}=op(ts,{page:1,clicks:0}),ns=Xe({});let $h=[],Th=[];Ct(ns,"$syncUp",!0);Ct(ns,"$syncDown",!0);Ct(ns,"$paused",!1);Ct(ns,"$onSet",t=>$h.push(t));Ct(ns,"$onPatch",t=>Th.push(t));Ct(ns,"$patch",async()=>!1);const{init:Q7,onPatch:Ph,patch:lp,state:Ho}=op(ns,{},!1),Fh="modulepreload",Oh=function(t){return"/owasp-top-ten-workshop/"+t},ja={},Jn=function(n,s,o){if(!s||s.length===0)return n();const l=document.getElementsByTagName("link");return Promise.all(s.map(r=>{if(r=Oh(r),r in ja)return;ja[r]=!0;const a=r.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!o)for(let d=l.length-1;d>=0;d--){const f=l[d];if(f.href===r&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${c}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Fh,a||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),a)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n())};var Ha;const It=typeof window<"u",Ih=t=>typeof t<"u",Rh=Object.prototype.toString,to=t=>typeof t=="function",J7=t=>typeof t=="number",rp=t=>typeof t=="string",Z7=t=>Rh.call(t)==="[object Object]",Gl=()=>+Date.now(),Hs=()=>{};It&&((Ha=window==null?void 0:window.navigator)==null?void 0:Ha.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function pt(t){return typeof t=="function"?t():b(t)}function Lh(t,n){function s(...o){return new Promise((l,r)=>{Promise.resolve(t(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(l).catch(r)})}return s}const ap=t=>t();function Mh(t=ap){const n=ae(!0);function s(){n.value=!1}function o(){n.value=!0}const l=(...r)=>{n.value&&t(...r)};return{isActive:jt(n),pause:s,resume:o,eventFilter:l}}function qh(t){return t}function Nh(t,n){var s;if(typeof t=="number")return t+n;const o=((s=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:s[0])||"",l=t.slice(o.length),r=parseFloat(o)+n;return Number.isNaN(r)?t:r+l}function jh(t,n){let s,o,l;const r=ae(!0),a=()=>{r.value=!0,l()};qe(t,a,{flush:"sync"});const c=to(n)?n:n.get,p=to(n)?void 0:n.set,u=cc((d,f)=>(o=d,l=f,{get(){return r.value&&(s=c(),r.value=!1),o(),s},set(h){p==null||p(h)}}));return Object.isExtensible(u)&&(u.trigger=a),u}function zt(t){return vu()?(_u(t),!0):!1}function Hh(t){if(!Ce(t))return Xe(t);const n=new Proxy({},{get(s,o,l){return b(Reflect.get(t.value,o,l))},set(s,o,l){return Ce(t.value[o])&&!Ce(l)?t.value[o].value=l:t.value[o]=l,!0},deleteProperty(s,o){return Reflect.deleteProperty(t.value,o)},has(s,o){return Reflect.has(t.value,o)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Xe(n)}function ip(t){return typeof t=="function"?F(t):ae(t)}var Uh=Object.defineProperty,Vh=Object.defineProperties,Wh=Object.getOwnPropertyDescriptors,Ua=Object.getOwnPropertySymbols,zh=Object.prototype.hasOwnProperty,Kh=Object.prototype.propertyIsEnumerable,Va=(t,n,s)=>n in t?Uh(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Yh=(t,n)=>{for(var s in n||(n={}))zh.call(n,s)&&Va(t,s,n[s]);if(Ua)for(var s of Ua(n))Kh.call(n,s)&&Va(t,s,n[s]);return t},Gh=(t,n)=>Vh(t,Wh(n));function Qh(t){if(!Ce(t))return Qu(t);const n=Array.isArray(t.value)?new Array(t.value.length):{};for(const s in t.value)n[s]=cc(()=>({get(){return t.value[s]},set(o){if(Array.isArray(t.value)){const l=[...t.value];l[s]=o,t.value=l}else{const l=Gh(Yh({},t.value),{[s]:o});Object.setPrototypeOf(l,t.value),t.value=l}}}));return n}function Mr(t,n=!0){Yt()?po(t):n?t():Ft(t)}function X7(t){Yt()&&rl(t)}function Jh(t,n=1e3,s={}){const{immediate:o=!0,immediateCallback:l=!1}=s;let r=null;const a=ae(!1);function c(){r&&(clearInterval(r),r=null)}function p(){a.value=!1,c()}function u(){const d=pt(n);d<=0||(a.value=!0,l&&t(),c(),r=setInterval(t,d))}if(o&&It&&u(),Ce(n)||to(n)){const d=qe(n,()=>{a.value&&It&&u()});zt(d)}return zt(p),{isActive:a,pause:p,resume:u}}function Zh(t,n,s={}){const{immediate:o=!0}=s,l=ae(!1);let r=null;function a(){r&&(clearTimeout(r),r=null)}function c(){l.value=!1,a()}function p(...u){a(),l.value=!0,r=setTimeout(()=>{l.value=!1,r=null,t(...u)},pt(n))}return o&&(l.value=!0,It&&p()),zt(c),{isPending:jt(l),start:p,stop:c}}function cp(t=!1,n={}){const{truthyValue:s=!0,falsyValue:o=!1}=n,l=Ce(t),r=ae(t);function a(c){if(arguments.length)return r.value=c,r.value;{const p=pt(s);return r.value=r.value===p?pt(o):p,r.value}}return l?a:[r,a]}var Wa=Object.getOwnPropertySymbols,Xh=Object.prototype.hasOwnProperty,ey=Object.prototype.propertyIsEnumerable,ty=(t,n)=>{var s={};for(var o in t)Xh.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Wa)for(var o of Wa(t))n.indexOf(o)<0&&ey.call(t,o)&&(s[o]=t[o]);return s};function ny(t,n,s={}){const o=s,{eventFilter:l=ap}=o,r=ty(o,["eventFilter"]);return qe(t,Lh(l,n),r)}var sy=Object.defineProperty,oy=Object.defineProperties,ly=Object.getOwnPropertyDescriptors,Uo=Object.getOwnPropertySymbols,pp=Object.prototype.hasOwnProperty,up=Object.prototype.propertyIsEnumerable,za=(t,n,s)=>n in t?sy(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,ry=(t,n)=>{for(var s in n||(n={}))pp.call(n,s)&&za(t,s,n[s]);if(Uo)for(var s of Uo(n))up.call(n,s)&&za(t,s,n[s]);return t},ay=(t,n)=>oy(t,ly(n)),iy=(t,n)=>{var s={};for(var o in t)pp.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Uo)for(var o of Uo(t))n.indexOf(o)<0&&up.call(t,o)&&(s[o]=t[o]);return s};function cy(t,n,s={}){const o=s,{eventFilter:l}=o,r=iy(o,["eventFilter"]),{eventFilter:a,pause:c,resume:p,isActive:u}=Mh(l);return{stop:ny(t,n,ay(ry({},r),{eventFilter:a})),pause:c,resume:p,isActive:u}}function Dt(t){var n;const s=pt(t);return(n=s==null?void 0:s.$el)!=null?n:s}const et=It?window:void 0,dp=It?window.document:void 0,py=It?window.navigator:void 0;function Te(...t){let n,s,o,l;if(rp(t[0])||Array.isArray(t[0])?([s,o,l]=t,n=et):[n,s,o,l]=t,!n)return Hs;Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]);const r=[],a=()=>{r.forEach(d=>d()),r.length=0},c=(d,f,h)=>(d.addEventListener(f,h,l),()=>d.removeEventListener(f,h,l)),p=qe(()=>Dt(n),d=>{a(),d&&r.push(...s.flatMap(f=>o.map(h=>c(d,f,h))))},{immediate:!0,flush:"post"}),u=()=>{p(),a()};return zt(u),u}function uy(t,n,s={}){const{window:o=et,ignore:l=[],capture:r=!0,detectIframe:a=!1}=s;if(!o)return;let c=!0,p;const u=m=>l.some(g=>{if(typeof g=="string")return Array.from(o.document.querySelectorAll(g)).some(_=>_===m.target||m.composedPath().includes(_));{const _=Dt(g);return _&&(m.target===_||m.composedPath().includes(_))}}),d=m=>{o.clearTimeout(p);const g=Dt(t);if(!(!g||g===m.target||m.composedPath().includes(g))){if(m.detail===0&&(c=!u(m)),!c){c=!0;return}n(m)}},f=[Te(o,"click",d,{passive:!0,capture:r}),Te(o,"pointerdown",m=>{const g=Dt(t);g&&(c=!m.composedPath().includes(g)&&!u(m))},{passive:!0}),Te(o,"pointerup",m=>{if(m.button===0){const g=m.composedPath();m.composedPath=()=>g,p=o.setTimeout(()=>d(m),50)}},{passive:!0}),a&&Te(o,"blur",m=>{var g;const _=Dt(t);((g=o.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(_!=null&&_.contains(o.document.activeElement))&&n(m)})].filter(Boolean);return()=>f.forEach(m=>m())}const dy=t=>typeof t=="function"?t:typeof t=="string"?n=>n.key===t:Array.isArray(t)?n=>t.includes(n.key):()=>!0;function fy(...t){let n,s,o={};t.length===3?(n=t[0],s=t[1],o=t[2]):t.length===2?typeof t[1]=="object"?(n=!0,s=t[0],o=t[1]):(n=t[0],s=t[1]):(n=!0,s=t[0]);const{target:l=et,eventName:r="keydown",passive:a=!1}=o,c=dy(n);return Te(l,r,u=>{c(u)&&s(u)},a)}function hy(t={}){var n;const{window:s=et}=t,o=(n=t.document)!=null?n:s==null?void 0:s.document,l=jh(()=>null,()=>o==null?void 0:o.activeElement);return s&&(Te(s,"blur",r=>{r.relatedTarget===null&&l.trigger()},!0),Te(s,"focus",l.trigger,!0)),l}function ho(t,n=!1){const s=ae(),o=()=>s.value=Boolean(t());return o(),Mr(o,n),s}function ps(t,n={}){const{window:s=et}=n,o=ho(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let l;const r=ae(!1),a=()=>{!l||("removeEventListener"in l?l.removeEventListener("change",c):l.removeListener(c))},c=()=>{!o.value||(a(),l=s.matchMedia(ip(t).value),r.value=l.matches,"addEventListener"in l?l.addEventListener("change",c):l.addListener(c))};return Es(c),zt(()=>a()),r}const yy={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var my=Object.defineProperty,Ka=Object.getOwnPropertySymbols,gy=Object.prototype.hasOwnProperty,vy=Object.prototype.propertyIsEnumerable,Ya=(t,n,s)=>n in t?my(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,_y=(t,n)=>{for(var s in n||(n={}))gy.call(n,s)&&Ya(t,s,n[s]);if(Ka)for(var s of Ka(n))vy.call(n,s)&&Ya(t,s,n[s]);return t};function Ay(t,n={}){function s(c,p){let u=t[c];return p!=null&&(u=Nh(u,p)),typeof u=="number"&&(u=`${u}px`),u}const{window:o=et}=n;function l(c){return o?o.matchMedia(c).matches:!1}const r=c=>ps(`(min-width: ${s(c)})`,n),a=Object.keys(t).reduce((c,p)=>(Object.defineProperty(c,p,{get:()=>r(p),enumerable:!0,configurable:!0}),c),{});return _y({greater(c){return ps(`(min-width: ${s(c,.1)})`,n)},greaterOrEqual:r,smaller(c){return ps(`(max-width: ${s(c,-.1)})`,n)},smallerOrEqual(c){return ps(`(max-width: ${s(c)})`,n)},between(c,p){return ps(`(min-width: ${s(c)}) and (max-width: ${s(p,-.1)})`,n)},isGreater(c){return l(`(min-width: ${s(c,.1)})`)},isGreaterOrEqual(c){return l(`(min-width: ${s(c)})`)},isSmaller(c){return l(`(max-width: ${s(c,-.1)})`)},isSmallerOrEqual(c){return l(`(max-width: ${s(c)})`)},isInBetween(c,p){return l(`(min-width: ${s(c)}) and (max-width: ${s(p,-.1)})`)}},a)}function wy(t={}){const{navigator:n=py,read:s=!1,source:o,copiedDuring:l=1500,legacy:r=!1}=t,a=["copy","cut"],c=ho(()=>n&&"clipboard"in n),p=F(()=>c.value||r),u=ae(""),d=ae(!1),f=Zh(()=>d.value=!1,l);function h(){c.value?n.clipboard.readText().then(w=>{u.value=w}):u.value=_()}if(p.value&&s)for(const w of a)Te(w,h);async function m(w=pt(o)){p.value&&w!=null&&(c.value?await n.clipboard.writeText(w):g(w),u.value=w,d.value=!0,f.start())}function g(w){const C=document.createElement("textarea");C.value=w??"",C.style.position="absolute",C.style.opacity="0",document.body.appendChild(C),C.select(),document.execCommand("copy"),C.remove()}function _(){var w,C,D;return(D=(C=(w=document==null?void 0:document.getSelection)==null?void 0:w.call(document))==null?void 0:C.toString())!=null?D:""}return{isSupported:p,text:u,copied:d,copy:m}}function by(t){return JSON.parse(JSON.stringify(t))}const Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jl="__vueuse_ssr_handlers__";Ql[Jl]=Ql[Jl]||{};const Ey=Ql[Jl];function Dy(t,n){return Ey[t]||n}function ky(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var Cy=Object.defineProperty,Ga=Object.getOwnPropertySymbols,By=Object.prototype.hasOwnProperty,xy=Object.prototype.propertyIsEnumerable,Qa=(t,n,s)=>n in t?Cy(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Ja=(t,n)=>{for(var s in n||(n={}))By.call(n,s)&&Qa(t,s,n[s]);if(Ga)for(var s of Ga(n))xy.call(n,s)&&Qa(t,s,n[s]);return t};const Sy={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}};function Rt(t,n,s,o={}){var l;const{flush:r="pre",deep:a=!0,listenToStorageChanges:c=!0,writeDefaults:p=!0,mergeDefaults:u=!1,shallow:d,window:f=et,eventFilter:h,onError:m=H=>{console.error(H)}}=o,g=(d?Wt:ae)(n);if(!s)try{s=Dy("getDefaultStorage",()=>{var H;return(H=et)==null?void 0:H.localStorage})()}catch(H){m(H)}if(!s)return g;const _=pt(n),w=ky(_),C=(l=o.serializer)!=null?l:Sy[w],{pause:D,resume:B}=cy(g,()=>S(g.value),{flush:r,deep:a,eventFilter:h});return f&&c&&Te(f,"storage",W),W(),g;function S(H){try{if(H==null)s.removeItem(t);else{const N=C.write(H),ne=s.getItem(t);ne!==N&&(s.setItem(t,N),f&&(f==null||f.dispatchEvent(new StorageEvent("storage",{key:t,oldValue:ne,newValue:N,storageArea:s}))))}}catch(N){m(N)}}function V(H){const N=H?H.newValue:s.getItem(t);if(N==null)return p&&_!==null&&s.setItem(t,C.write(_)),_;if(!H&&u){const ne=C.read(N);return to(u)?u(ne,_):w==="object"&&!Array.isArray(ne)?Ja(Ja({},_),ne):ne}else return typeof N!="string"?N:C.read(N)}function W(H){if(!(H&&H.storageArea!==s)){if(H&&H.key==null){g.value=_;return}if(!(H&&H.key!==t)){D();try{g.value=V(H)}catch(N){m(N)}finally{H?Ft(B):B()}}}}}function $y(t){return ps("(prefers-color-scheme: dark)",t)}var Ty=Object.defineProperty,Py=Object.defineProperties,Fy=Object.getOwnPropertyDescriptors,Za=Object.getOwnPropertySymbols,Oy=Object.prototype.hasOwnProperty,Iy=Object.prototype.propertyIsEnumerable,Xa=(t,n,s)=>n in t?Ty(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Ry=(t,n)=>{for(var s in n||(n={}))Oy.call(n,s)&&Xa(t,s,n[s]);if(Za)for(var s of Za(n))Iy.call(n,s)&&Xa(t,s,n[s]);return t},Ly=(t,n)=>Py(t,Fy(n));function eD(t,n={}){var s,o,l;const r=(s=n.draggingElement)!=null?s:et,a=(o=n.handle)!=null?o:t,c=ae((l=pt(n.initialValue))!=null?l:{x:0,y:0}),p=ae(),u=g=>n.pointerTypes?n.pointerTypes.includes(g.pointerType):!0,d=g=>{pt(n.preventDefault)&&g.preventDefault(),pt(n.stopPropagation)&&g.stopPropagation()},f=g=>{var _;if(!u(g)||pt(n.exact)&&g.target!==pt(t))return;const w=pt(t).getBoundingClientRect(),C={x:g.clientX-w.left,y:g.clientY-w.top};((_=n.onStart)==null?void 0:_.call(n,C,g))!==!1&&(p.value=C,d(g))},h=g=>{var _;!u(g)||!p.value||(c.value={x:g.clientX-p.value.x,y:g.clientY-p.value.y},(_=n.onMove)==null||_.call(n,c.value,g),d(g))},m=g=>{var _;!u(g)||!p.value||(p.value=void 0,(_=n.onEnd)==null||_.call(n,c.value,g),d(g))};return It&&(Te(a,"pointerdown",f,!0),Te(r,"pointermove",h,!0),Te(r,"pointerup",m,!0)),Ly(Ry({},Qh(c)),{position:c,isDragging:F(()=>!!p.value),style:F(()=>`left:${c.value.x}px;top:${c.value.y}px;`)})}var ei=Object.getOwnPropertySymbols,My=Object.prototype.hasOwnProperty,qy=Object.prototype.propertyIsEnumerable,Ny=(t,n)=>{var s={};for(var o in t)My.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&ei)for(var o of ei(t))n.indexOf(o)<0&&qy.call(t,o)&&(s[o]=t[o]);return s};function jy(t,n,s={}){const o=s,{window:l=et}=o,r=Ny(o,["window"]);let a;const c=ho(()=>l&&"ResizeObserver"in l),p=()=>{a&&(a.disconnect(),a=void 0)},u=qe(()=>Dt(t),f=>{p(),c.value&&l&&f&&(a=new ResizeObserver(n),a.observe(f,r))},{immediate:!0,flush:"post"}),d=()=>{p(),u()};return zt(d),{isSupported:c,stop:d}}function Hy(t,n={}){const{immediate:s=!0,window:o=et}=n,l=ae(!1);let r=0,a=null;function c(d){if(!l.value||!o)return;const f=d-r;t({delta:f,timestamp:d}),r=d,a=o.requestAnimationFrame(c)}function p(){!l.value&&o&&(l.value=!0,a=o.requestAnimationFrame(c))}function u(){l.value=!1,a!=null&&o&&(o.cancelAnimationFrame(a),a=null)}return s&&p(),zt(u),{isActive:jt(l),pause:u,resume:p}}function Uy(t,n={width:0,height:0},s={}){const{window:o=et,box:l="content-box"}=s,r=F(()=>{var p,u;return(u=(p=Dt(t))==null?void 0:p.namespaceURI)==null?void 0:u.includes("svg")}),a=ae(n.width),c=ae(n.height);return jy(t,([p])=>{const u=l==="border-box"?p.borderBoxSize:l==="content-box"?p.contentBoxSize:p.devicePixelContentBoxSize;if(o&&r.value){const d=Dt(t);if(d){const f=o.getComputedStyle(d);a.value=parseFloat(f.width),c.value=parseFloat(f.height)}}else if(u){const d=Array.isArray(u)?u:[u];a.value=d.reduce((f,{inlineSize:h})=>f+h,0),c.value=d.reduce((f,{blockSize:h})=>f+h,0)}else a.value=p.contentRect.width,c.value=p.contentRect.height},s),qe(()=>Dt(t),p=>{a.value=p?n.width:0,c.value=p?n.height:0}),{width:a,height:c}}const ti=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function Vy(t,n={}){const{document:s=dp,autoExit:o=!1}=n,l=t||(s==null?void 0:s.querySelector("html")),r=ae(!1);let a=ti[0];const c=ho(()=>{if(s){for(const _ of ti)if(_[1]in s)return a=_,!0}else return!1;return!1}),[p,u,d,,f]=a;async function h(){!c.value||(s!=null&&s[d]&&await s[u](),r.value=!1)}async function m(){if(!c.value)return;await h();const _=Dt(l);_&&(await _[p](),r.value=!0)}async function g(){r.value?await h():await m()}return s&&Te(s,f,()=>{r.value=!!(s!=null&&s[d])},!1),o&&zt(h),{isSupported:c,isFullscreen:r,enter:m,exit:h,toggle:g}}function tD(t,n,s={}){const{root:o,rootMargin:l="0px",threshold:r=.1,window:a=et}=s,c=ho(()=>a&&"IntersectionObserver"in a);let p=Hs;const u=c.value?qe(()=>({el:Dt(t),root:Dt(o)}),({el:f,root:h})=>{if(p(),!f)return;const m=new IntersectionObserver(n,{root:h,rootMargin:l,threshold:r});m.observe(f),p=()=>{m.disconnect(),p=Hs}},{immediate:!0,flush:"post"}):Hs,d=()=>{p(),u()};return zt(d),{isSupported:c,stop:d}}const Wy={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function zy(t={}){const{reactive:n=!1,target:s=et,aliasMap:o=Wy,passive:l=!0,onEventFired:r=Hs}=t,a=Xe(new Set),c={toJSON(){return{}},current:a},p=n?Xe(c):c,u=new Set,d=new Set;function f(_,w){_ in p&&(n?p[_]=w:p[_].value=w)}function h(){a.clear();for(const _ of d)f(_,!1)}function m(_,w){var C,D;const B=(C=_.key)==null?void 0:C.toLowerCase(),V=[(D=_.code)==null?void 0:D.toLowerCase(),B].filter(Boolean);B&&(w?a.add(B):a.delete(B));for(const W of V)d.add(W),f(W,w);B==="meta"&&!w?(u.forEach(W=>{a.delete(W),f(W,!1)}),u.clear()):typeof _.getModifierState=="function"&&_.getModifierState("Meta")&&w&&[...a,...V].forEach(W=>u.add(W))}Te(s,"keydown",_=>(m(_,!0),r(_)),{passive:l}),Te(s,"keyup",_=>(m(_,!1),r(_)),{passive:l}),Te("blur",h,{passive:!0}),Te("focus",h,{passive:!0});const g=new Proxy(p,{get(_,w,C){if(typeof w!="string")return Reflect.get(_,w,C);if(w=w.toLowerCase(),w in o&&(w=o[w]),!(w in p))if(/[+_-]/.test(w)){const B=w.split(/[+_-]/g).map(S=>S.trim());p[w]=F(()=>B.every(S=>b(g[S])))}else p[w]=ae(!1);const D=Reflect.get(_,w,C);return n?b(D):D}});return g}function nD(t={}){const{type:n="page",touch:s=!0,resetOnTouchEnds:o=!1,initialValue:l={x:0,y:0},window:r=et,eventFilter:a}=t,c=ae(l.x),p=ae(l.y),u=ae(null),d=_=>{n==="page"?(c.value=_.pageX,p.value=_.pageY):n==="client"?(c.value=_.clientX,p.value=_.clientY):n==="movement"&&(c.value=_.movementX,p.value=_.movementY),u.value="mouse"},f=()=>{c.value=l.x,p.value=l.y},h=_=>{if(_.touches.length>0){const w=_.touches[0];n==="page"?(c.value=w.pageX,p.value=w.pageY):n==="client"&&(c.value=w.clientX,p.value=w.clientY),u.value="touch"}},m=_=>a===void 0?d(_):a(()=>d(_),{}),g=_=>a===void 0?h(_):a(()=>h(_),{});return r&&(Te(r,"mousemove",m,{passive:!0}),Te(r,"dragover",m,{passive:!0}),s&&n!=="movement"&&(Te(r,"touchstart",g,{passive:!0}),Te(r,"touchmove",g,{passive:!0}),o&&Te(r,"touchend",f,{passive:!0}))),{x:c,y:p,sourceType:u}}var nn;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(nn||(nn={}));function Ky(t,n={}){const s=ip(t),{threshold:o=50,onSwipe:l,onSwipeEnd:r,onSwipeStart:a}=n,c=Xe({x:0,y:0}),p=(W,H)=>{c.x=W,c.y=H},u=Xe({x:0,y:0}),d=(W,H)=>{u.x=W,u.y=H},f=F(()=>c.x-u.x),h=F(()=>c.y-u.y),{max:m,abs:g}=Math,_=F(()=>m(g(f.value),g(h.value))>=o),w=ae(!1),C=ae(!1),D=F(()=>_.value?g(f.value)>g(h.value)?f.value>0?nn.LEFT:nn.RIGHT:h.value>0?nn.UP:nn.DOWN:nn.NONE),B=W=>{var H,N,ne;const re=W.buttons===0,de=W.buttons===1;return(ne=(N=(H=n.pointerTypes)==null?void 0:H.includes(W.pointerType))!=null?N:re||de)!=null?ne:!0},S=[Te(t,"pointerdown",W=>{var H,N;if(!B(W))return;C.value=!0,(N=(H=s.value)==null?void 0:H.style)==null||N.setProperty("touch-action","none");const ne=W.target;ne==null||ne.setPointerCapture(W.pointerId);const{clientX:re,clientY:de}=W;p(re,de),d(re,de),a==null||a(W)}),Te(t,"pointermove",W=>{if(!B(W)||!C.value)return;const{clientX:H,clientY:N}=W;d(H,N),!w.value&&_.value&&(w.value=!0),w.value&&(l==null||l(W))}),Te(t,"pointerup",W=>{var H,N;!B(W)||(w.value&&(r==null||r(W,D.value)),C.value=!1,w.value=!1,(N=(H=s.value)==null?void 0:H.style)==null||N.setProperty("touch-action","initial"))})],V=()=>S.forEach(W=>W());return{isSwiping:jt(w),direction:jt(D),posStart:jt(c),posEnd:jt(u),distanceX:f,distanceY:h,stop:V}}let Yy=0;function sD(t,n={}){const s=ae(!1),{document:o=dp,immediate:l=!0,manual:r=!1,id:a=`vueuse_styletag_${++Yy}`}=n,c=ae(t);let p=()=>{};const u=()=>{if(!o)return;const f=o.getElementById(a)||o.createElement("style");f.isConnected||(f.type="text/css",f.id=a,n.media&&(f.media=n.media),o.head.appendChild(f)),!s.value&&(p=qe(c,h=>{f.textContent=h},{immediate:!0}),s.value=!0)},d=()=>{!o||!s.value||(p(),o.head.removeChild(o.getElementById(a)),s.value=!1)};return l&&!r&&Mr(u),r||zt(d),{id:a,css:c,unload:d,load:u,isLoaded:jt(s)}}var Gy=Object.defineProperty,ni=Object.getOwnPropertySymbols,Qy=Object.prototype.hasOwnProperty,Jy=Object.prototype.propertyIsEnumerable,si=(t,n,s)=>n in t?Gy(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Zy=(t,n)=>{for(var s in n||(n={}))Qy.call(n,s)&&si(t,s,n[s]);if(ni)for(var s of ni(n))Jy.call(n,s)&&si(t,s,n[s]);return t};function oD(t={}){const{controls:n=!1,offset:s=0,immediate:o=!0,interval:l="requestAnimationFrame",callback:r}=t,a=ae(Gl()+s),c=()=>a.value=Gl()+s,p=r?()=>{c(),r(a.value)}:c,u=l==="requestAnimationFrame"?Hy(p,{immediate:o}):Jh(p,l,{immediate:o});return n?Zy({timestamp:a},u):a}var Xy=Object.defineProperty,oi=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,li=(t,n,s)=>n in t?Xy(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,nm=(t,n)=>{for(var s in n||(n={}))em.call(n,s)&&li(t,s,n[s]);if(oi)for(var s of oi(n))tm.call(n,s)&&li(t,s,n[s]);return t};const sm={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};nm({linear:qh},sm);function Ht(t,n,s,o={}){var l,r,a;const{clone:c=!1,passive:p=!1,eventName:u,deep:d=!1,defaultValue:f}=o,h=Yt(),m=s||(h==null?void 0:h.emit)||((l=h==null?void 0:h.$emit)==null?void 0:l.bind(h))||((a=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let g=u;n||(n="modelValue"),g=u||g||`update:${n.toString()}`;const _=C=>c?to(c)?c(C):by(C):C,w=()=>Ih(t[n])?_(t[n]):f;if(p){const C=w(),D=ae(C);return qe(()=>t[n],B=>D.value=_(B)),qe(D,B=>{(B!==t[n]||d)&&m(g,B)},{deep:d}),D}else return F({get(){return w()},set(C){m(g,C)}})}function lD({window:t=et}={}){if(!t)return ae(!1);const n=ae(t.document.hasFocus());return Te(t,"blur",()=>{n.value=!1}),Te(t,"focus",()=>{n.value=!0}),n}function om(t={}){const{window:n=et,initialWidth:s=1/0,initialHeight:o=1/0,listenOrientation:l=!0,includeScrollbar:r=!0}=t,a=ae(s),c=ae(o),p=()=>{n&&(r?(a.value=n.innerWidth,c.value=n.innerHeight):(a.value=n.document.documentElement.clientWidth,c.value=n.document.documentElement.clientHeight))};return p(),Mr(p),Te("resize",p,{passive:!0}),l&&Te("orientationchange",p,{passive:!0}),{width:a,height:c}}function lm(){return fp().__VUE_DEVTOOLS_GLOBAL_HOOK__}function fp(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const rm=typeof Proxy=="function",am="devtools-plugin:setup",im="plugin:settings:set";let os,Zl;function cm(){var t;return os!==void 0||(typeof window<"u"&&window.performance?(os=!0,Zl=window.performance):typeof global<"u"&&((t=global.perf_hooks)===null||t===void 0?void 0:t.performance)?(os=!0,Zl=global.perf_hooks.performance):os=!1),os}function pm(){return cm()?Zl.now():Date.now()}class um{constructor(n,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=s;const o={};if(n.settings)for(const a in n.settings){const c=n.settings[a];o[a]=c.defaultValue}const l=`__vue-devtools-plugin-settings__${n.id}`;let r=Object.assign({},o);try{const a=localStorage.getItem(l),c=JSON.parse(a);Object.assign(r,c)}catch{}this.fallbacks={getSettings(){return r},setSettings(a){try{localStorage.setItem(l,JSON.stringify(a))}catch{}r=a},now(){return pm()}},s&&s.on(im,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...p)=>{this.onQueue.push({method:c,args:p})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...p)=>(this.targetQueue.push({method:c,args:p,resolve:()=>{}}),this.fallbacks[c](...p)):(...p)=>new Promise(u=>{this.targetQueue.push({method:c,args:p,resolve:u})})})}async setRealTarget(n){this.target=n;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function dm(t,n){const s=t,o=fp(),l=lm(),r=rm&&s.enableEarlyProxy;if(l&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))l.emit(am,t,n);else{const a=r?new um(s,l):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:n,proxy:a}),a&&n(a.proxiedTarget)}}const en=typeof window<"u";function fm(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Be=Object.assign;function El(t,n){const s={};for(const o in n){const l=n[o];s[o]=At(l)?l.map(t):t(l)}return s}const Us=()=>{},At=Array.isArray;function De(t){const n=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(n))}const hm=/\/$/,ym=t=>t.replace(hm,"");function Dl(t,n,s="/"){let o,l={},r="",a="";const c=n.indexOf("#");let p=n.indexOf("?");return c<p&&c>=0&&(p=-1),p>-1&&(o=n.slice(0,p),r=n.slice(p+1,c>-1?c:n.length),l=t(r)),c>-1&&(o=o||n.slice(0,c),a=n.slice(c,n.length)),o=vm(o??n,s),{fullPath:o+(r&&"?")+r+a,path:o,query:l,hash:a}}function mm(t,n){const s=n.query?t(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function ri(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function ai(t,n,s){const o=n.matched.length-1,l=s.matched.length-1;return o>-1&&o===l&&Cn(n.matched[o],s.matched[l])&&hp(n.params,s.params)&&t(n.query)===t(s.query)&&n.hash===s.hash}function Cn(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function hp(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!gm(t[s],n[s]))return!1;return!0}function gm(t,n){return At(t)?ii(t,n):At(n)?ii(n,t):t===n}function ii(t,n){return At(n)?t.length===n.length&&t.every((s,o)=>s===n[o]):t.length===1&&t[0]===n}function vm(t,n){if(t.startsWith("/"))return t;if(!n.startsWith("/"))return De(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${n}". It should look like "/${n}".`),t;if(!t)return n;const s=n.split("/"),o=t.split("/");let l=s.length-1,r,a;for(r=0;r<o.length;r++)if(a=o[r],a!==".")if(a==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+o.slice(r-(r===o.length?1:0)).join("/")}var no;(function(t){t.pop="pop",t.push="push"})(no||(no={}));var Vs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Vs||(Vs={}));function _m(t){if(!t)if(en){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ym(t)}const Am=/^[^#]+#/;function wm(t,n){return t.replace(Am,"#")+n}function bm(t,n){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:n.behavior,left:o.left-s.left-(n.left||0),top:o.top-s.top-(n.top||0)}}const ul=()=>({left:window.pageXOffset,top:window.pageYOffset});function Em(t){let n;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#");if(typeof t.el=="string"&&(!o||!document.getElementById(t.el.slice(1))))try{const r=document.querySelector(t.el);if(o&&r){De(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{De(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const l=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!l){De(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}n=bm(l,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function ci(t,n){return(history.state?history.state.position-n:-1)+t}const Xl=new Map;function Dm(t,n){Xl.set(t,n)}function km(t){const n=Xl.get(t);return Xl.delete(t),n}let Cm=()=>location.protocol+"//"+location.host;function yp(t,n){const{pathname:s,search:o,hash:l}=n,r=t.indexOf("#");if(r>-1){let c=l.includes(t.slice(r))?t.slice(r).length:1,p=l.slice(c);return p[0]!=="/"&&(p="/"+p),ri(p,"")}return ri(s,t)+o+l}function Bm(t,n,s,o){let l=[],r=[],a=null;const c=({state:h})=>{const m=yp(t,location),g=s.value,_=n.value;let w=0;if(h){if(s.value=m,n.value=h,a&&a===g){a=null;return}w=_?h.position-_.position:0}else o(m);l.forEach(C=>{C(s.value,g,{delta:w,type:no.pop,direction:w?w>0?Vs.forward:Vs.back:Vs.unknown})})};function p(){a=s.value}function u(h){l.push(h);const m=()=>{const g=l.indexOf(h);g>-1&&l.splice(g,1)};return r.push(m),m}function d(){const{history:h}=window;!h.state||h.replaceState(Be({},h.state,{scroll:ul()}),"")}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:p,listen:u,destroy:f}}function pi(t,n,s,o=!1,l=!1){return{back:t,current:n,forward:s,replaced:o,position:window.history.length,scroll:l?ul():null}}function xm(t){const{history:n,location:s}=window,o={value:yp(t,s)},l={value:n.state};l.value||r(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function r(p,u,d){const f=t.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+p:Cm()+t+p;try{n[d?"replaceState":"pushState"](u,"",h),l.value=u}catch(m){De("Error with push/replace State",m),s[d?"replace":"assign"](h)}}function a(p,u){const d=Be({},n.state,pi(l.value.back,p,l.value.forward,!0),u,{position:l.value.position});r(p,d,!0),o.value=p}function c(p,u){const d=Be({},l.value,n.state,{forward:p,scroll:ul()});n.state||De(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),r(d.current,d,!0);const f=Be({},pi(o.value,p,null),{position:d.position+1},u);r(p,f,!1),o.value=p}return{location:o,state:l,push:c,replace:a}}function Sm(t){t=_m(t);const n=xm(t),s=Bm(t,n.state,n.location,n.replace);function o(r,a=!0){a||s.pauseListeners(),history.go(r)}const l=Be({location:"",base:t,go:o,createHref:wm.bind(null,t)},n,s);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function $m(t){return typeof t=="string"||t&&typeof t=="object"}function mp(t){return typeof t=="string"||typeof t=="symbol"}const un={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},gp=Symbol("navigation failure");var ui;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ui||(ui={}));const Tm={[1]({location:t,currentLocation:n}){return`No match for
 ${JSON.stringify(t)}${n?`
while being at
`+JSON.stringify(n):""}`},[2]({from:t,to:n}){return`Redirected from "${t.fullPath}" to "${Fm(n)}" via a navigation guard.`},[4]({from:t,to:n}){return`Navigation aborted from "${t.fullPath}" to "${n.fullPath}" via a navigation guard.`},[8]({from:t,to:n}){return`Navigation cancelled from "${t.fullPath}" to "${n.fullPath}" with a new navigation.`},[16]({from:t,to:n}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function As(t,n){return Be(new Error(Tm[t](n)),{type:t,[gp]:!0},n)}function Gt(t,n){return t instanceof Error&&gp in t&&(n==null||!!(t.type&n))}const Pm=["params","query","hash"];function Fm(t){if(typeof t=="string")return t;if("path"in t)return t.path;const n={};for(const s of Pm)s in t&&(n[s]=t[s]);return JSON.stringify(n,null,2)}const di="[^/]+?",Om={sensitive:!1,strict:!1,start:!0,end:!0},Im=/[.+*?^${}()[\]/\\]/g;function Rm(t,n){const s=Be({},Om,n),o=[];let l=s.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[90];s.strict&&!u.length&&(l+="/");for(let f=0;f<u.length;f++){const h=u[f];let m=40+(s.sensitive?.25:0);if(h.type===0)f||(l+="/"),l+=h.value.replace(Im,"\\$&"),m+=40;else if(h.type===1){const{value:g,repeatable:_,optional:w,regexp:C}=h;r.push({name:g,repeatable:_,optional:w});const D=C||di;if(D!==di){m+=10;try{new RegExp(`(${D})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${D}): `+S.message)}}let B=_?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;f||(B=w&&u.length<2?`(?:/${B})`:"/"+B),w&&(B+="?"),l+=B,m+=20,w&&(m+=-8),_&&(m+=-20),D===".*"&&(m+=-50)}d.push(m)}o.push(d)}if(s.strict&&s.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}s.strict||(l+="/?"),s.end?l+="$":s.strict&&(l+="(?:/|$)");const a=new RegExp(l,s.sensitive?"":"i");function c(u){const d=u.match(a),f={};if(!d)return null;for(let h=1;h<d.length;h++){const m=d[h]||"",g=r[h-1];f[g.name]=m&&g.repeatable?m.split("/"):m}return f}function p(u){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of h)if(m.type===0)d+=m.value;else if(m.type===1){const{value:g,repeatable:_,optional:w}=m,C=g in u?u[g]:"";if(At(C)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const D=At(C)?C.join("/"):C;if(!D)if(w)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);d+=D}}return d||"/"}return{re:a,score:o,keys:r,parse:c,stringify:p}}function Lm(t,n){let s=0;for(;s<t.length&&s<n.length;){const o=n[s]-t[s];if(o)return o;s++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function Mm(t,n){let s=0;const o=t.score,l=n.score;for(;s<o.length&&s<l.length;){const r=Lm(o[s],l[s]);if(r)return r;s++}if(Math.abs(l.length-o.length)===1){if(fi(o))return 1;if(fi(l))return-1}return l.length-o.length}function fi(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const qm={type:0,value:""},Nm=/[a-zA-Z0-9_]/;function jm(t){if(!t)return[[]];if(t==="/")return[[qm]];if(!t.startsWith("/"))throw new Error(`Route paths should start with a "/": "${t}" should be "/${t}".`);function n(m){throw new Error(`ERR (${s})/"${u}": ${m}`)}let s=0,o=s;const l=[];let r;function a(){r&&l.push(r),r=[]}let c=0,p,u="",d="";function f(){!u||(s===0?r.push({type:0,value:u}):s===1||s===2||s===3?(r.length>1&&(p==="*"||p==="+")&&n(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):n("Invalid state to consume buffer"),u="")}function h(){u+=p}for(;c<t.length;){if(p=t[c++],p==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:p==="/"?(u&&f(),a()):p===":"?(f(),s=1):h();break;case 4:h(),s=o;break;case 1:p==="("?s=2:Nm.test(p)?h():(f(),s=0,p!=="*"&&p!=="?"&&p!=="+"&&c--);break;case 2:p===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+p:s=3:d+=p;break;case 3:f(),s=0,p!=="*"&&p!=="?"&&p!=="+"&&c--,d="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${u}"`),f(),a(),l}function Hm(t,n,s){const o=Rm(jm(t.path),s);{const r=new Set;for(const a of o.keys)r.has(a.name)&&De(`Found duplicated params with name "${a.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),r.add(a.name)}const l=Be(o,{record:t,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function Um(t,n){const s=[],o=new Map;n=mi({strict:!1,end:!0,sensitive:!1},n);function l(d){return o.get(d)}function r(d,f,h){const m=!h,g=Vm(d);Ym(g,f),g.aliasOf=h&&h.record;const _=mi(n,d),w=[g];if("alias"in d){const B=typeof d.alias=="string"?[d.alias]:d.alias;for(const S of B)w.push(Be({},g,{components:h?h.record.components:g.components,path:S,aliasOf:h?h.record:g}))}let C,D;for(const B of w){const{path:S}=B;if(f&&S[0]!=="/"){const V=f.record.path,W=V[V.length-1]==="/"?"":"/";B.path=f.record.path+(S&&W+S)}if(B.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(C=Hm(B,f,_),f&&S[0]==="/"&&Gm(C,f),h?(h.alias.push(C),Km(h,C)):(D=D||C,D!==C&&D.alias.push(C),m&&d.name&&!yi(C)&&a(d.name)),g.children){const V=g.children;for(let W=0;W<V.length;W++)r(V[W],C,h&&h.children[W])}h=h||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&p(C)}return D?()=>{a(D)}:Us}function a(d){if(mp(d)){const f=o.get(d);f&&(o.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&o.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return s}function p(d){let f=0;for(;f<s.length&&Mm(d,s[f])>=0&&(d.record.path!==s[f].record.path||!vp(d,s[f]));)f++;s.splice(f,0,d),d.record.name&&!yi(d)&&o.set(d.record.name,d)}function u(d,f){let h,m={},g,_;if("name"in d&&d.name){if(h=o.get(d.name),!h)throw As(1,{location:d});{const D=Object.keys(d.params||{}).filter(B=>!h.keys.find(S=>S.name===B));D.length&&De(`Discarded invalid param(s) "${D.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}_=h.record.name,m=Be(hi(f.params,h.keys.filter(D=>!D.optional).map(D=>D.name)),d.params&&hi(d.params,h.keys.map(D=>D.name))),g=h.stringify(m)}else if("path"in d)g=d.path,g.startsWith("/")||De(`The Matcher cannot resolve relative paths but received "${g}". Unless you directly called \`matcher.resolve("${g}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),h=s.find(D=>D.re.test(g)),h&&(m=h.parse(g),_=h.record.name);else{if(h=f.name?o.get(f.name):s.find(D=>D.re.test(f.path)),!h)throw As(1,{location:d,currentLocation:f});_=h.record.name,m=Be({},f.params,d.params),g=h.stringify(m)}const w=[];let C=h;for(;C;)w.unshift(C.record),C=C.parent;return{name:_,path:g,params:m,matched:w,meta:zm(w)}}return t.forEach(d=>r(d)),{addRoute:r,resolve:u,removeRoute:a,getRoutes:c,getRecordMatcher:l}}function hi(t,n){const s={};for(const o of n)o in t&&(s[o]=t[o]);return s}function Vm(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Wm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Wm(t){const n={},s=t.props||!1;if("component"in t)n.default=s;else for(const o in t.components)n[o]=typeof s=="boolean"?s:s[o];return n}function yi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function zm(t){return t.reduce((n,s)=>Be(n,s.meta),{})}function mi(t,n){const s={};for(const o in t)s[o]=o in n?n[o]:t[o];return s}function er(t,n){return t.name===n.name&&t.optional===n.optional&&t.repeatable===n.repeatable}function Km(t,n){for(const s of t.keys)if(!s.optional&&!n.keys.find(er.bind(null,s)))return De(`Alias "${n.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${s.name}"`);for(const s of n.keys)if(!s.optional&&!t.keys.find(er.bind(null,s)))return De(`Alias "${n.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${s.name}"`)}function Ym(t,n){n&&n.record.name&&!t.name&&!t.path&&De(`The route named "${String(n.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function Gm(t,n){for(const s of n.keys)if(!t.keys.find(er.bind(null,s)))return De(`Absolute path "${t.record.path}" must have the exact same param named "${s.name}" as its parent "${n.record.path}".`)}function vp(t,n){return n.children.some(s=>s===t||vp(t,s))}const _p=/#/g,Qm=/&/g,Jm=/\//g,Zm=/=/g,Xm=/\?/g,Ap=/\+/g,e9=/%5B/g,t9=/%5D/g,wp=/%5E/g,n9=/%60/g,bp=/%7B/g,s9=/%7C/g,Ep=/%7D/g,o9=/%20/g;function qr(t){return encodeURI(""+t).replace(s9,"|").replace(e9,"[").replace(t9,"]")}function l9(t){return qr(t).replace(bp,"{").replace(Ep,"}").replace(wp,"^")}function tr(t){return qr(t).replace(Ap,"%2B").replace(o9,"+").replace(_p,"%23").replace(Qm,"%26").replace(n9,"`").replace(bp,"{").replace(Ep,"}").replace(wp,"^")}function r9(t){return tr(t).replace(Zm,"%3D")}function a9(t){return qr(t).replace(_p,"%23").replace(Xm,"%3F")}function i9(t){return t==null?"":a9(t).replace(Jm,"%2F")}function so(t){try{return decodeURIComponent(""+t)}catch{De(`Error decoding "${t}". Using original value`)}return""+t}function c9(t){const n={};if(t===""||t==="?")return n;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let l=0;l<o.length;++l){const r=o[l].replace(Ap," "),a=r.indexOf("="),c=so(a<0?r:r.slice(0,a)),p=a<0?null:so(r.slice(a+1));if(c in n){let u=n[c];At(u)||(u=n[c]=[u]),u.push(p)}else n[c]=p}return n}function gi(t){let n="";for(let s in t){const o=t[s];if(s=r9(s),o==null){o!==void 0&&(n+=(n.length?"&":"")+s);continue}(At(o)?o.map(r=>r&&tr(r)):[o&&tr(o)]).forEach(r=>{r!==void 0&&(n+=(n.length?"&":"")+s,r!=null&&(n+="="+r))})}return n}function p9(t){const n={};for(const s in t){const o=t[s];o!==void 0&&(n[s]=At(o)?o.map(l=>l==null?null:""+l):o==null?o:""+o)}return n}const u9=Symbol("router view location matched"),vi=Symbol("router view depth"),Nr=Symbol("router"),Dp=Symbol("route location"),nr=Symbol("router view location");function Ss(){let t=[];function n(o){return t.push(o),()=>{const l=t.indexOf(o);l>-1&&t.splice(l,1)}}function s(){t=[]}return{add:n,list:()=>t,reset:s}}function yn(t,n,s,o,l){const r=o&&(o.enterCallbacks[l]=o.enterCallbacks[l]||[]);return()=>new Promise((a,c)=>{const p=f=>{f===!1?c(As(4,{from:s,to:n})):f instanceof Error?c(f):$m(f)?c(As(2,{from:n,to:f})):(r&&o.enterCallbacks[l]===r&&typeof f=="function"&&r.push(f),a())},u=t.call(o&&o.instances[l],n,s,d9(p,n,s));let d=Promise.resolve(u);if(t.length<3&&(d=d.then(p)),t.length>2){const f=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof u=="object"&&"then"in u)d=d.then(h=>p._called?h:(De(f),Promise.reject(new Error("Invalid navigation guard"))));else if(u!==void 0&&!p._called){De(f),c(new Error("Invalid navigation guard"));return}}d.catch(f=>c(f))})}function d9(t,n,s){let o=0;return function(){o++===1&&De(`The "next" callback was called more than once in one navigation guard when going from "${s.fullPath}" to "${n.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,o===1&&t.apply(null,arguments)}}function kl(t,n,s,o){const l=[];for(const r of t){!r.components&&!r.children.length&&De(`Record with path "${r.path}" is either missing a "component(s)" or "children" property.`);for(const a in r.components){let c=r.components[a];{if(!c||typeof c!="object"&&typeof c!="function")throw De(`Component "${a}" in record with path "${r.path}" is not a valid component. Received "${String(c)}".`),new Error("Invalid route component");if("then"in c){De(`Component "${a}" in record with path "${r.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const p=c;c=()=>p}else c.__asyncLoader&&!c.__warnedDefineAsync&&(c.__warnedDefineAsync=!0,De(`Component "${a}" in record with path "${r.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(n!=="beforeRouteEnter"&&!r.instances[a]))if(f9(c)){const u=(c.__vccOpts||c)[n];u&&l.push(yn(u,s,o,r,a))}else{let p=c();"catch"in p||(De(`Component "${a}" in record with path "${r.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),p=Promise.resolve(p)),l.push(()=>p.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const d=fm(u)?u.default:u;r.components[a]=d;const h=(d.__vccOpts||d)[n];return h&&yn(h,s,o,r,a)()}))}}}return l}function f9(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function _i(t){const n=x(Nr),s=x(Dp),o=F(()=>n.resolve(b(t.to))),l=F(()=>{const{matched:p}=o.value,{length:u}=p,d=p[u-1],f=s.matched;if(!d||!f.length)return-1;const h=f.findIndex(Cn.bind(null,d));if(h>-1)return h;const m=Ai(p[u-2]);return u>1&&Ai(d)===m&&f[f.length-1].path!==m?f.findIndex(Cn.bind(null,p[u-2])):h}),r=F(()=>l.value>-1&&g9(s.params,o.value.params)),a=F(()=>l.value>-1&&l.value===s.matched.length-1&&hp(s.params,o.value.params));function c(p={}){return m9(p)?n[b(t.replace)?"replace":"push"](b(t.to)).catch(Us):Promise.resolve()}if(en){const p=Yt();if(p){const u={route:o.value,isActive:r.value,isExactActive:a.value};p.__vrl_devtools=p.__vrl_devtools||[],p.__vrl_devtools.push(u),Es(()=>{u.route=o.value,u.isActive=r.value,u.isExactActive=a.value},{flush:"post"})}}return{route:o,href:F(()=>o.value.href),isActive:r,isExactActive:a,navigate:c}}const h9=je({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_i,setup(t,{slots:n}){const s=Xe(_i(t)),{options:o}=x(Nr),l=F(()=>({[wi(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[wi(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=n.default&&n.default(s);return t.custom?r:pl("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:l.value},r)}}}),y9=h9;function m9(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function g9(t,n){for(const s in n){const o=n[s],l=t[s];if(typeof o=="string"){if(o!==l)return!1}else if(!At(l)||l.length!==o.length||o.some((r,a)=>r!==l[a]))return!1}return!0}function Ai(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wi=(t,n,s)=>t??n??s,v9=je({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:s}){A9();const o=x(nr),l=F(()=>t.route||o.value),r=x(vi,0),a=F(()=>{let u=b(r);const{matched:d}=l.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),c=F(()=>l.value.matched[a.value]);gt(vi,F(()=>a.value+1)),gt(u9,c),gt(nr,l);const p=ae();return qe(()=>[p.value,c.value,t.name],([u,d,f],[h,m,g])=>{d&&(d.instances[f]=u,m&&m!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),u&&d&&(!m||!Cn(d,m)||!h)&&(d.enterCallbacks[f]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=l.value,d=t.name,f=c.value,h=f&&f.components[d];if(!h)return bi(s.default,{Component:h,route:u});const m=f.props[d],g=m?m===!0?u.params:typeof m=="function"?m(u):m:null,w=pl(h,Be({},g,n,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(f.instances[d]=null)},ref:p}));if(en&&w.ref){const C={depth:a.value,name:f.name,path:f.path,meta:f.meta};(At(w.ref)?w.ref.map(B=>B.i):[w.ref.i]).forEach(B=>{B.__vrv_devtools=C})}return bi(s.default,{Component:w,route:u})||w}}});function bi(t,n){if(!t)return null;const s=t(n);return s.length===1?s[0]:s}const _9=v9;function A9(){const t=Yt(),n=t.parent&&t.parent.type.name;if(n&&(n==="KeepAlive"||n.includes("Transition"))){const s=n==="KeepAlive"?"keep-alive":"transition";De(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${s}>
    <component :is="Component" />
  </${s}>
</router-view>`)}}function $s(t,n){const s=Be({},t,{matched:t.matched.map(o=>S9(o,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:n,value:s}}}function bo(t){return{_custom:{display:t}}}let w9=0;function b9(t,n,s){if(n.__hasDevtools)return;n.__hasDevtools=!0;const o=w9++;dm({id:"org.vuejs.router"+(o?"."+o:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},l=>{typeof l.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),l.on.inspectComponent((d,f)=>{d.instanceData&&d.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:$s(n.currentRoute.value,"Current Route")})}),l.on.visitComponentTree(({treeNode:d,componentInstance:f})=>{if(f.__vrv_devtools){const h=f.__vrv_devtools;d.tags.push({label:(h.name?`${h.name.toString()}: `:"")+h.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:kp})}At(f.__vrl_devtools)&&(f.__devtoolsApi=l,f.__vrl_devtools.forEach(h=>{let m=xp,g="";h.isExactActive?(m=Bp,g="This is exactly active"):h.isActive&&(m=Cp,g="This link is active"),d.tags.push({label:h.route.path,textColor:0,tooltip:g,backgroundColor:m})}))}),qe(n.currentRoute,()=>{p(),l.notifyComponentUpdate(),l.sendInspectorTree(c),l.sendInspectorState(c)});const r="router:navigations:"+o;l.addTimelineLayer({id:r,label:`Router${o?" "+o:""} Navigations`,color:4237508}),n.onError((d,f)=>{l.addTimelineEvent({layerId:r,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:l.now(),data:{error:d},groupId:f.meta.__navigationId}})});let a=0;n.beforeEach((d,f)=>{const h={guard:bo("beforeEach"),from:$s(f,"Current Location during this navigation"),to:$s(d,"Target location")};Object.defineProperty(d.meta,"__navigationId",{value:a++}),l.addTimelineEvent({layerId:r,event:{time:l.now(),title:"Start of navigation",subtitle:d.fullPath,data:h,groupId:d.meta.__navigationId}})}),n.afterEach((d,f,h)=>{const m={guard:bo("afterEach")};h?(m.failure={_custom:{type:Error,readOnly:!0,display:h?h.message:"",tooltip:"Navigation Failure",value:h}},m.status=bo("")):m.status=bo(""),m.from=$s(f,"Current Location during this navigation"),m.to=$s(d,"Target location"),l.addTimelineEvent({layerId:r,event:{title:"End of navigation",subtitle:d.fullPath,time:l.now(),data:m,logType:h?"warning":"default",groupId:d.meta.__navigationId}})});const c="router-inspector:"+o;l.addInspector({id:c,label:"Routes"+(o?" "+o:""),icon:"book",treeFilterPlaceholder:"Search routes"});function p(){if(!u)return;const d=u;let f=s.getRoutes().filter(h=>!h.parent);f.forEach(Tp),d.filter&&(f=f.filter(h=>sr(h,d.filter.toLowerCase()))),f.forEach(h=>$p(h,n.currentRoute.value)),d.rootNodes=f.map(Sp)}let u;l.on.getInspectorTree(d=>{u=d,d.app===t&&d.inspectorId===c&&p()}),l.on.getInspectorState(d=>{if(d.app===t&&d.inspectorId===c){const h=s.getRoutes().find(m=>m.record.__vd_id===d.nodeId);h&&(d.state={options:D9(h)})}}),l.sendInspectorTree(c),l.sendInspectorState(c)})}function E9(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function D9(t){const{record:n}=t,s=[{editable:!1,key:"path",value:n.path}];return n.name!=null&&s.push({editable:!1,key:"name",value:n.name}),s.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&s.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(o=>`${o.name}${E9(o)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),n.redirect!=null&&s.push({editable:!1,key:"redirect",value:n.redirect}),t.alias.length&&s.push({editable:!1,key:"aliases",value:t.alias.map(o=>o.record.path)}),Object.keys(t.record.meta).length&&s.push({editable:!1,key:"meta",value:t.record.meta}),s.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(o=>o.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),s}const kp=15485081,Cp=2450411,Bp=8702998,k9=2282478,xp=16486972,C9=6710886;function Sp(t){const n=[],{record:s}=t;s.name!=null&&n.push({label:String(s.name),textColor:0,backgroundColor:k9}),s.aliasOf&&n.push({label:"alias",textColor:0,backgroundColor:xp}),t.__vd_match&&n.push({label:"matches",textColor:0,backgroundColor:kp}),t.__vd_exactActive&&n.push({label:"exact",textColor:0,backgroundColor:Bp}),t.__vd_active&&n.push({label:"active",textColor:0,backgroundColor:Cp}),s.redirect&&n.push({label:typeof s.redirect=="string"?`redirect: ${s.redirect}`:"redirects",textColor:16777215,backgroundColor:C9});let o=s.__vd_id;return o==null&&(o=String(B9++),s.__vd_id=o),{id:o,label:s.path,tags:n,children:t.children.map(Sp)}}let B9=0;const x9=/^\/(.*)\/([a-z]*)$/;function $p(t,n){const s=n.matched.length&&Cn(n.matched[n.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=s,s||(t.__vd_active=n.matched.some(o=>Cn(o,t.record))),t.children.forEach(o=>$p(o,n))}function Tp(t){t.__vd_match=!1,t.children.forEach(Tp)}function sr(t,n){const s=String(t.re).match(x9);if(t.__vd_match=!1,!s||s.length<3)return!1;if(new RegExp(s[1].replace(/\$$/,""),s[2]).test(n))return t.children.forEach(a=>sr(a,n)),t.record.path!=="/"||n==="/"?(t.__vd_match=t.re.test(n),!0):!1;const l=t.record.path.toLowerCase(),r=so(l);return!n.startsWith("/")&&(r.includes(n)||l.includes(n))||r.startsWith(n)||l.startsWith(n)||t.record.name&&String(t.record.name).includes(n)?!0:t.children.some(a=>sr(a,n))}function S9(t,n){const s={};for(const o in t)n.includes(o)||(s[o]=t[o]);return s}function $9(t){const n=Um(t.routes,t),s=t.parseQuery||c9,o=t.stringifyQuery||gi,l=t.history;if(!l)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const r=Ss(),a=Ss(),c=Ss(),p=Wt(un);let u=un;en&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=El.bind(null,k=>""+k),f=El.bind(null,i9),h=El.bind(null,so);function m(k,ee){let K,te;return mp(k)?(K=n.getRecordMatcher(k),te=ee):te=k,n.addRoute(te,K)}function g(k){const ee=n.getRecordMatcher(k);ee?n.removeRoute(ee):De(`Cannot remove non-existent route "${String(k)}"`)}function _(){return n.getRoutes().map(k=>k.record)}function w(k){return!!n.getRecordMatcher(k)}function C(k,ee){if(ee=Be({},ee||p.value),typeof k=="string"){const ue=Dl(s,k,ee.path),y=n.resolve({path:ue.path},ee),v=l.createHref(ue.fullPath);return v.startsWith("//")?De(`Location "${k}" resolved to "${v}". A resolved location cannot start with multiple slashes.`):y.matched.length||De(`No match found for location with path "${k}"`),Be(ue,y,{params:h(y.params),hash:so(ue.hash),redirectedFrom:void 0,href:v})}let K;if("path"in k)"params"in k&&!("name"in k)&&Object.keys(k.params).length&&De(`Path "${k.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),K=Be({},k,{path:Dl(s,k.path,ee.path).path});else{const ue=Be({},k.params);for(const y in ue)ue[y]==null&&delete ue[y];K=Be({},k,{params:f(k.params)}),ee.params=f(ee.params)}const te=n.resolve(K,ee),ve=k.hash||"";ve&&!ve.startsWith("#")&&De(`A \`hash\` should always start with the character "#". Replace "${ve}" with "#${ve}".`),te.params=d(h(te.params));const Ee=mm(o,Be({},k,{hash:l9(ve),path:te.path})),he=l.createHref(Ee);return he.startsWith("//")?De(`Location "${k}" resolved to "${he}". A resolved location cannot start with multiple slashes.`):te.matched.length||De(`No match found for location with path "${"path"in k?k.path:k}"`),Be({fullPath:Ee,hash:ve,query:o===gi?p9(k.query):k.query||{}},te,{redirectedFrom:void 0,href:he})}function D(k){return typeof k=="string"?Dl(s,k,p.value.path):Be({},k)}function B(k,ee){if(u!==k)return As(8,{from:ee,to:k})}function S(k){return H(k)}function V(k){return S(Be(D(k),{replace:!0}))}function W(k){const ee=k.matched[k.matched.length-1];if(ee&&ee.redirect){const{redirect:K}=ee;let te=typeof K=="function"?K(k):K;if(typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=D(te):{path:te},te.params={}),!("path"in te)&&!("name"in te))throw De(`Invalid redirect found:
${JSON.stringify(te,null,2)}
 when navigating to "${k.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return Be({query:k.query,hash:k.hash,params:"path"in te?{}:k.params},te)}}function H(k,ee){const K=u=C(k),te=p.value,ve=k.state,Ee=k.force,he=k.replace===!0,ue=W(K);if(ue)return H(Be(D(ue),{state:typeof ue=="object"?Be({},ve,ue.state):ve,force:Ee,replace:he}),ee||K);const y=K;y.redirectedFrom=ee;let v;return!Ee&&ai(o,te,K)&&(v=As(16,{to:y,from:te}),Pe(te,te,!0,!1)),(v?Promise.resolve(v):ne(y,te)).catch(E=>Gt(E)?Gt(E,2)?E:ge(E):Z(E,y,te)).then(E=>{if(E){if(Gt(E,2))return ai(o,C(E.to),y)&&ee&&(ee._count=ee._count?ee._count+1:1)>10?(De(`Detected an infinite redirection in a navigation guard when going from "${te.fullPath}" to "${y.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):H(Be({replace:he},D(E.to),{state:typeof E.to=="object"?Be({},ve,E.to.state):ve,force:Ee}),ee||y)}else E=de(y,te,!0,he,ve);return re(y,te,E),E})}function N(k,ee){const K=B(k,ee);return K?Promise.reject(K):Promise.resolve()}function ne(k,ee){let K;const[te,ve,Ee]=T9(k,ee);K=kl(te.reverse(),"beforeRouteLeave",k,ee);for(const ue of te)ue.leaveGuards.forEach(y=>{K.push(yn(y,k,ee))});const he=N.bind(null,k,ee);return K.push(he),ls(K).then(()=>{K=[];for(const ue of r.list())K.push(yn(ue,k,ee));return K.push(he),ls(K)}).then(()=>{K=kl(ve,"beforeRouteUpdate",k,ee);for(const ue of ve)ue.updateGuards.forEach(y=>{K.push(yn(y,k,ee))});return K.push(he),ls(K)}).then(()=>{K=[];for(const ue of k.matched)if(ue.beforeEnter&&!ee.matched.includes(ue))if(At(ue.beforeEnter))for(const y of ue.beforeEnter)K.push(yn(y,k,ee));else K.push(yn(ue.beforeEnter,k,ee));return K.push(he),ls(K)}).then(()=>(k.matched.forEach(ue=>ue.enterCallbacks={}),K=kl(Ee,"beforeRouteEnter",k,ee),K.push(he),ls(K))).then(()=>{K=[];for(const ue of a.list())K.push(yn(ue,k,ee));return K.push(he),ls(K)}).catch(ue=>Gt(ue,8)?ue:Promise.reject(ue))}function re(k,ee,K){for(const te of c.list())te(k,ee,K)}function de(k,ee,K,te,ve){const Ee=B(k,ee);if(Ee)return Ee;const he=ee===un,ue=en?history.state:{};K&&(te||he?l.replace(k.fullPath,Be({scroll:he&&ue&&ue.scroll},ve)):l.push(k.fullPath,ve)),p.value=k,Pe(k,ee,K,he),ge()}let J;function we(){J||(J=l.listen((k,ee,K)=>{if(!an.listening)return;const te=C(k),ve=W(te);if(ve){H(Be(ve,{replace:!0}),te).catch(Us);return}u=te;const Ee=p.value;en&&Dm(ci(Ee.fullPath,K.delta),ul()),ne(te,Ee).catch(he=>Gt(he,12)?he:Gt(he,2)?(H(he.to,te).then(ue=>{Gt(ue,20)&&!K.delta&&K.type===no.pop&&l.go(-1,!1)}).catch(Us),Promise.reject()):(K.delta&&l.go(-K.delta,!1),Z(he,te,Ee))).then(he=>{he=he||de(te,Ee,!1),he&&(K.delta&&!Gt(he,8)?l.go(-K.delta,!1):K.type===no.pop&&Gt(he,20)&&l.go(-1,!1)),re(te,Ee,he)}).catch(Us)}))}let Ie=Ss(),ke=Ss(),Re;function Z(k,ee,K){ge(k);const te=ke.list();return te.length?te.forEach(ve=>ve(k,ee,K)):(De("uncaught error during route navigation:"),console.error(k)),Promise.reject(k)}function ce(){return Re&&p.value!==un?Promise.resolve():new Promise((k,ee)=>{Ie.add([k,ee])})}function ge(k){return Re||(Re=!k,we(),Ie.list().forEach(([ee,K])=>k?K(k):ee()),Ie.reset()),k}function Pe(k,ee,K,te){const{scrollBehavior:ve}=t;if(!en||!ve)return Promise.resolve();const Ee=!K&&km(ci(k.fullPath,0))||(te||!K)&&history.state&&history.state.scroll||null;return Ft().then(()=>ve(k,ee,Ee)).then(he=>he&&Em(he)).catch(he=>Z(he,k,ee))}const ht=k=>l.go(k);let tt;const dt=new Set,an={currentRoute:p,listening:!0,addRoute:m,removeRoute:g,hasRoute:w,getRoutes:_,resolve:C,options:t,push:S,replace:V,go:ht,back:()=>ht(-1),forward:()=>ht(1),beforeEach:r.add,beforeResolve:a.add,afterEach:c.add,onError:ke.add,isReady:ce,install(k){const ee=this;k.component("RouterLink",y9),k.component("RouterView",_9),k.config.globalProperties.$router=ee,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>b(p)}),en&&!tt&&p.value===un&&(tt=!0,S(l.location).catch(ve=>{De("Unexpected error when starting the router:",ve)}));const K={};for(const ve in un)K[ve]=F(()=>p.value[ve]);k.provide(Nr,ee),k.provide(Dp,Xe(K)),k.provide(nr,p);const te=k.unmount;dt.add(k),k.unmount=function(){dt.delete(k),dt.size<1&&(u=un,J&&J(),J=null,p.value=un,tt=!1,Re=!1),te()},en&&b9(k,ee,n)}};return an}function ls(t){return t.reduce((n,s)=>n.then(()=>s()),Promise.resolve())}function T9(t,n){const s=[],o=[],l=[],r=Math.max(n.matched.length,t.matched.length);for(let a=0;a<r;a++){const c=n.matched[a];c&&(t.matched.find(u=>Cn(u,c))?o.push(c):s.push(c));const p=t.matched[a];p&&(n.matched.find(u=>Cn(u,p))||l.push(p))}return[s,o,l]}const Cl=ae(!1),Ws=ae(!1),ds=ae(!1),P9=ae(!0),or=Ay({xs:460,...yy}),Vn=om(),Pp=zy(),F9=F(()=>Vn.height.value-Vn.width.value/An>180),Fp=Vy(It?document.body:null),gs=hy(),O9=F(()=>{var t,n;return["INPUT","TEXTAREA"].includes(((t=gs.value)==null?void 0:t.tagName)||"")||((n=gs.value)==null?void 0:n.classList.contains("CodeMirror-code"))}),I9=F(()=>{var t;return["BUTTON","A"].includes(((t=gs.value)==null?void 0:t.tagName)||"")});Rt("slidev-camera","default");Rt("slidev-mic","default");const So=Rt("slidev-scale",0),at=Rt("slidev-show-overview",!1),Bl=Rt("slidev-presenter-cursor",!0),Ei=Rt("slidev-show-editor",!1);Rt("slidev-editor-width",It?window.innerWidth*.4:100);const Op=cp(at);function Di(t,n,s,o=l=>l){return t*o(.5-n*(.5-s))}function R9(t){return[-t[0],-t[1]]}function St(t,n){return[t[0]+n[0],t[1]+n[1]]}function Et(t,n){return[t[0]-n[0],t[1]-n[1]]}function xt(t,n){return[t[0]*n,t[1]*n]}function L9(t,n){return[t[0]/n,t[1]/n]}function Ts(t){return[t[1],-t[0]]}function ki(t,n){return t[0]*n[0]+t[1]*n[1]}function M9(t,n){return t[0]===n[0]&&t[1]===n[1]}function q9(t){return Math.hypot(t[0],t[1])}function N9(t){return t[0]*t[0]+t[1]*t[1]}function Ci(t,n){return N9(Et(t,n))}function Ip(t){return L9(t,q9(t))}function j9(t,n){return Math.hypot(t[1]-n[1],t[0]-n[0])}function Ps(t,n,s){let o=Math.sin(s),l=Math.cos(s),r=t[0]-n[0],a=t[1]-n[1],c=r*l-a*o,p=r*o+a*l;return[c+n[0],p+n[1]]}function lr(t,n,s){return St(t,xt(Et(n,t),s))}function Bi(t,n,s){return St(t,xt(n,s))}var{min:rs,PI:H9}=Math,xi=.275,Fs=H9+1e-4;function U9(t,n={}){let{size:s=16,smoothing:o=.5,thinning:l=.5,simulatePressure:r=!0,easing:a=Z=>Z,start:c={},end:p={},last:u=!1}=n,{cap:d=!0,easing:f=Z=>Z*(2-Z)}=c,{cap:h=!0,easing:m=Z=>--Z*Z*Z+1}=p;if(t.length===0||s<=0)return[];let g=t[t.length-1].runningLength,_=c.taper===!1?0:c.taper===!0?Math.max(s,g):c.taper,w=p.taper===!1?0:p.taper===!0?Math.max(s,g):p.taper,C=Math.pow(s*o,2),D=[],B=[],S=t.slice(0,10).reduce((Z,ce)=>{let ge=ce.pressure;if(r){let Pe=rs(1,ce.distance/s),ht=rs(1,1-Pe);ge=rs(1,Z+(ht-Z)*(Pe*xi))}return(Z+ge)/2},t[0].pressure),V=Di(s,l,t[t.length-1].pressure,a),W,H=t[0].vector,N=t[0].point,ne=N,re=N,de=ne,J=!1;for(let Z=0;Z<t.length;Z++){let{pressure:ce}=t[Z],{point:ge,vector:Pe,distance:ht,runningLength:tt}=t[Z];if(Z<t.length-1&&g-tt<3)continue;if(l){if(r){let Ee=rs(1,ht/s),he=rs(1,1-Ee);ce=rs(1,S+(he-S)*(Ee*xi))}V=Di(s,l,ce,a)}else V=s/2;W===void 0&&(W=V);let dt=tt<_?f(tt/_):1,an=g-tt<w?m((g-tt)/w):1;V=Math.max(.01,V*Math.min(dt,an));let k=(Z<t.length-1?t[Z+1]:t[Z]).vector,ee=Z<t.length-1?ki(Pe,k):1,K=ki(Pe,H)<0&&!J,te=ee!==null&&ee<0;if(K||te){let Ee=xt(Ts(H),V);for(let he=1/13,ue=0;ue<=1;ue+=he)re=Ps(Et(ge,Ee),ge,Fs*ue),D.push(re),de=Ps(St(ge,Ee),ge,Fs*-ue),B.push(de);N=re,ne=de,te&&(J=!0);continue}if(J=!1,Z===t.length-1){let Ee=xt(Ts(Pe),V);D.push(Et(ge,Ee)),B.push(St(ge,Ee));continue}let ve=xt(Ts(lr(k,Pe,ee)),V);re=Et(ge,ve),(Z<=1||Ci(N,re)>C)&&(D.push(re),N=re),de=St(ge,ve),(Z<=1||Ci(ne,de)>C)&&(B.push(de),ne=de),S=ce,H=Pe}let we=t[0].point.slice(0,2),Ie=t.length>1?t[t.length-1].point.slice(0,2):St(t[0].point,[1,1]),ke=[],Re=[];if(t.length===1){if(!(_||w)||u){let Z=Bi(we,Ip(Ts(Et(we,Ie))),-(W||V)),ce=[];for(let ge=1/13,Pe=ge;Pe<=1;Pe+=ge)ce.push(Ps(Z,we,Fs*2*Pe));return ce}}else{if(!(_||w&&t.length===1))if(d)for(let ce=1/13,ge=ce;ge<=1;ge+=ce){let Pe=Ps(B[0],we,Fs*ge);ke.push(Pe)}else{let ce=Et(D[0],B[0]),ge=xt(ce,.5),Pe=xt(ce,.51);ke.push(Et(we,ge),Et(we,Pe),St(we,Pe),St(we,ge))}let Z=Ts(R9(t[t.length-1].vector));if(w||_&&t.length===1)Re.push(Ie);else if(h){let ce=Bi(Ie,Z,V);for(let ge=1/29,Pe=ge;Pe<1;Pe+=ge)Re.push(Ps(ce,Ie,Fs*3*Pe))}else Re.push(St(Ie,xt(Z,V)),St(Ie,xt(Z,V*.99)),Et(Ie,xt(Z,V*.99)),Et(Ie,xt(Z,V)))}return D.concat(Re,B.reverse(),ke)}function V9(t,n={}){var s;let{streamline:o=.5,size:l=16,last:r=!1}=n;if(t.length===0)return[];let a=.15+(1-o)*.85,c=Array.isArray(t[0])?t:t.map(({x:m,y:g,pressure:_=.5})=>[m,g,_]);if(c.length===2){let m=c[1];c=c.slice(0,-1);for(let g=1;g<5;g++)c.push(lr(c[0],m,g/4))}c.length===1&&(c=[...c,[...St(c[0],[1,1]),...c[0].slice(2)]]);let p=[{point:[c[0][0],c[0][1]],pressure:c[0][2]>=0?c[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,d=0,f=p[0],h=c.length-1;for(let m=1;m<c.length;m++){let g=r&&m===h?c[m].slice(0,2):lr(f.point,c[m],a);if(M9(f.point,g))continue;let _=j9(g,f.point);if(d+=_,m<h&&!u){if(d<l)continue;u=!0}f={point:g,pressure:c[m][2]>=0?c[m][2]:.5,vector:Ip(Et(f.point,g)),distance:_,runningLength:d},p.push(f)}return p[0].vector=((s=p[1])==null?void 0:s.vector)||[0,0],p}function W9(t,n={}){return U9(V9(t,n),n)}var z9=()=>({events:{},emit(t,...n){let s=this.events[t]||[];for(let o=0,l=s.length;o<l;o++)s[o](...n)},on(t,n){var s;return(s=this.events[t])!=null&&s.push(n)||(this.events[t]=[n]),()=>{var o;this.events[t]=(o=this.events[t])==null?void 0:o.filter(l=>n!==l)}}});function Vo(t,n){return t-n}function K9(t){return t<0?-1:1}function Wo(t){return[Math.abs(t),K9(t)]}function Rp(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var Y9=2,tn=Y9,Ds=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var n;const s=this.drauu.el,o=this.drauu.options.coordinateScale??1;if(this.drauu.options.coordinateTransform===!1){const l=this.drauu.el.getBoundingClientRect();return{x:(t.pageX-l.left)*o,y:(t.pageY-l.top)*o,pressure:t.pressure}}else{const l=this.drauu.svgPoint;l.x=t.clientX,l.y=t.clientY;const r=l.matrixTransform((n=s.getScreenCTM())==null?void 0:n.inverse());return{x:r.x*o,y:r.y*o,pressure:t.pressure}}}createElement(t,n){const s=document.createElementNS("http://www.w3.org/2000/svg",t),o=n?{...this.brush,...n}:this.brush;return s.setAttribute("fill",o.fill??"transparent"),s.setAttribute("stroke",o.color),s.setAttribute("stroke-width",o.size.toString()),s.setAttribute("stroke-linecap","round"),o.dasharray&&s.setAttribute("stroke-dasharray",o.dasharray),s}attr(t,n){this.el.setAttribute(t,typeof n=="string"?n:n.toFixed(tn))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},G9=class extends Ds{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){const n=W9(t,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!n.length)return"";const s=n.reduce((o,[l,r],a,c)=>{const[p,u]=c[(a+1)%c.length];return o.push(l,r,(l+p)/2,(r+u)/2),o},["M",...n[0],"Q"]);return s.push("Z"),s.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}},Q9=class extends Ds{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[n,s]=Wo(t.x-this.start.x),[o,l]=Wo(t.y-this.start.y);if(this.shiftPressed){const r=Math.min(n,o);n=r,o=r}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",n),this.attr("ry",o);else{const[r,a]=[this.start.x,this.start.x+n*s].sort(Vo),[c,p]=[this.start.y,this.start.y+o*l].sort(Vo);this.attr("cx",(r+a)/2),this.attr("cy",(c+p)/2),this.attr("rx",(a-r)/2),this.attr("ry",(p-c)/2)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function Lp(t,n){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","marker"),l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("fill",n),o.setAttribute("id",t),o.setAttribute("viewBox","0 -5 10 10"),o.setAttribute("refX","5"),o.setAttribute("refY","0"),o.setAttribute("markerWidth","4"),o.setAttribute("markerHeight","4"),o.setAttribute("orient","auto"),l.setAttribute("d","M0,-5L10,0L0,5"),o.appendChild(l),s.appendChild(o),s}var J9=class extends Ds{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const n=Rp(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Lp(n,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${n})`),s}return this.el}onMove(t){if(!this.el)return!1;let{x:n,y:s}=t;if(this.shiftPressed){const o=t.x-this.start.x,l=t.y-this.start.y;if(l!==0){let r=o/l;r=Math.round(r),Math.abs(r)<=1?(n=this.start.x+l*r,s=this.start.y+l):(n=this.start.x+o,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-n),this.attr("y1",this.start.y*2-s),this.attr("x2",n),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",n),this.attr("y2",s)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||t.getTotalLength()<5)}},Z9=class extends Ds{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[n,s]=Wo(t.x-this.start.x),[o,l]=Wo(t.y-this.start.y);if(this.shiftPressed){const r=Math.min(n,o);n=r,o=r}if(this.altPressed)this.attr("x",this.start.x-n),this.attr("y",this.start.y-o),this.attr("width",n*2),this.attr("height",o*2);else{const[r,a]=[this.start.x,this.start.x+n*s].sort(Vo),[c,p]=[this.start.y,this.start.y+o*l].sort(Vo);this.attr("x",r),this.attr("y",c),this.attr("width",a-r),this.attr("height",p-c)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function X9(t,n){const s=t.x-n.x,o=t.y-n.y;return s*s+o*o}function e6(t,n,s){let o=n.x,l=n.y,r=s.x-o,a=s.y-l;if(r!==0||a!==0){const c=((t.x-o)*r+(t.y-l)*a)/(r*r+a*a);c>1?(o=s.x,l=s.y):c>0&&(o+=r*c,l+=a*c)}return r=t.x-o,a=t.y-l,r*r+a*a}function t6(t,n){let s=t[0];const o=[s];let l;for(let r=1,a=t.length;r<a;r++)l=t[r],X9(l,s)>n&&(o.push(l),s=l);return s!==l&&l&&o.push(l),o}function rr(t,n,s,o,l){let r=o,a=0;for(let c=n+1;c<s;c++){const p=e6(t[c],t[n],t[s]);p>r&&(a=c,r=p)}r>o&&(a-n>1&&rr(t,n,a,o,l),l.push(t[a]),s-a>1&&rr(t,a,s,o,l))}function n6(t,n){const s=t.length-1,o=[t[0]];return rr(t,0,s,n,o),o.push(t[s]),o}function Si(t,n,s=!1){if(t.length<=2)return t;const o=n!==void 0?n*n:1;return t=s?t:t6(t,o),t=n6(t,o),t}var s6=class extends Ds{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Rp();const n=Lp(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=Si(this.points,1,!0),this.count=0),this.attr("d",Ti(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||(t.setAttribute("d",Ti(Si(this.points,1,!0))),!t.getTotalLength()))}};function o6(t,n){const s=n.x-t.x,o=n.y-t.y;return{length:Math.sqrt(s**2+o**2),angle:Math.atan2(o,s)}}function $i(t,n,s,o){const l=n||t,r=s||t,a=.2,c=o6(l,r),p=c.angle+(o?Math.PI:0),u=c.length*a,d=t.x+Math.cos(p)*u,f=t.y+Math.sin(p)*u;return{x:d,y:f}}function l6(t,n,s){const o=$i(s[n-1],s[n-2],t),l=$i(t,s[n-1],s[n+1],!0);return`C ${o.x.toFixed(tn)},${o.y.toFixed(tn)} ${l.x.toFixed(tn)},${l.y.toFixed(tn)} ${t.x.toFixed(tn)},${t.y.toFixed(tn)}`}function Ti(t){return t.reduce((n,s,o,l)=>o===0?`M ${s.x.toFixed(tn)},${s.y.toFixed(tn)}`:`${n} ${l6(s,o,l)}`,"")}var r6=class extends Ds{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(t){const n=(s,o)=>{if(s&&s.length)for(let l=0;l<s.length;l++){const r=s[l];if(r.getTotalLength){const a=r.getTotalLength();for(let c=0;c<this.pathSubFactor;c++){const p=r.getPointAtLength(a*c/this.pathSubFactor),u=r.getPointAtLength(a*(c+1)/this.pathSubFactor);this.pathFragments.push({x1:p.x,x2:u.x,y1:p.y,y2:u.y,segment:c,element:o||r})}}else r.children&&n(r.children,r)}};t&&n(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const n=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,n}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const t=[];if(this.pathFragments.length)for(let n=0;n<this.pathFragments.length;n++){const s=this.pathFragments[n],o={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(s,o)&&(s.element.remove(),t.push(n))}return t.length&&(this.pathFragments=this.pathFragments.filter((n,s)=>!t.includes(s))),t.length>0}lineLineIntersect(t,n){const s=t.x1,o=t.x2,l=n.x1,r=n.x2,a=t.y1,c=t.y2,p=n.y1,u=n.y2,d=(s-o)*(p-u)-(a-c)*(l-r),f=(s*c-a*o)*(l-r)-(s-o)*(l*u-p*r),h=(s*c-a*o)*(p-u)-(a-c)*(l*u-p*r),m=(g,_,w)=>g>=_&&g<=w?!0:g>=w&&g<=_;if(d===0)return!1;{const g={x:f/d,y:h/d};return m(g.x,s,o)&&m(g.y,a,c)&&m(g.x,l,r)&&m(g.y,p,u)}}};function a6(t){return{draw:new s6(t),stylus:new G9(t),line:new J9(t),rectangle:new Z9(t),ellipse:new Q9(t),eraseLine:new r6(t)}}var i6=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=z9(),this._models=a6(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,n){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(n)||this.el,o=this.eventStart.bind(this),l=this.eventMove.bind(this),r=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",o,{passive:!1}),window.addEventListener("pointermove",l,{passive:!1}),window.addEventListener("pointerup",r,{passive:!1}),window.addEventListener("pointercancel",r,{passive:!1}),window.addEventListener("keydown",a,!1),window.addEventListener("keyup",a,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",o),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",r),window.removeEventListener("pointercancel",r),window.removeEventListener("keydown",a,!1),window.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,n){return this._emitter.on(t,n)}undo(){const t=this.el;return t.lastElementChild?(this._undoStack.push(t.lastElementChild.cloneNode(!0)),t.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var t;return!!((t=this.el)!=null&&t.lastElementChild)}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){!this.acceptsInput(t)||(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const n=this.model._eventUp(t);n?(n instanceof Element&&n!==this._currentNode&&(this._currentNode=n),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(t){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}};function c6(t){return new i6(t)}const ar=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Ut=Rt("slidev-drawing-enabled",!1),rD=Rt("slidev-drawing-pinned",!1),p6=ae(!1),u6=ae(!1),d6=ae(!1),oo=ae(!1),Ln=Hh(Rt("slidev-drawing-brush",{color:ar[0],size:4,mode:"stylus"})),Pi=ae("stylus"),Mp=F(()=>$e.drawings.syncAll||Tt.value);let lo=!1;const Os=F({get(){return Pi.value},set(t){Pi.value=t,t==="arrow"?(Ln.mode="line",Ln.arrowEnd=!0):(Ln.mode=t,Ln.arrowEnd=!1)}}),f6=Xe({brush:Ln,acceptsInputTypes:F(()=>Ut.value&&(!$e.drawings.presenterOnly||Tt.value)?void 0:["pen"]),coordinateTransform:!1}),ut=_r(c6(f6));function h6(){ut.clear(),Mp.value&&lp(Ge.value,"")}function jr(){var t;u6.value=ut.canRedo(),p6.value=ut.canUndo(),d6.value=!!((t=ut.el)!=null&&t.children.length)}function y6(t){lo=!0;const n=Ho[t||Ge.value];n!=null?ut.load(n):ut.clear(),jr(),lo=!1}ut.on("changed",()=>{if(jr(),!lo){const t=ut.dump(),n=Ge.value;(Ho[n]||"")!==t&&Mp.value&&lp(n,ut.dump())}});Ph(t=>{lo=!0,t[Ge.value]!=null&&ut.load(t[Ge.value]||""),lo=!1,jr()});Ft(()=>{qe(Ge,()=>{!ut.mounted||y6()},{immediate:!0})});ut.on("start",()=>oo.value=!0);ut.on("end",()=>oo.value=!1);window.addEventListener("keydown",t=>{if(!Ut.value)return;const n=!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey;let s=!0;t.code==="KeyZ"&&(t.ctrlKey||t.metaKey)?t.shiftKey?ut.redo():ut.undo():t.code==="Escape"?Ut.value=!1:t.code==="KeyL"&&n?Os.value="line":t.code==="KeyA"&&n?Os.value="arrow":t.code==="KeyS"&&n?Os.value="stylus":t.code==="KeyR"&&n?Os.value="rectangle":t.code==="KeyE"&&n?Os.value="ellipse":t.code==="KeyC"&&n?h6():t.code.startsWith("Digit")&&n&&+t.code[5]<=ar.length?Ln.color=ar[+t.code[5]-1]:s=!1,s&&(t.preventDefault(),t.stopPropagation())},!1);function ze(...t){return F(()=>t.every(n=>pt(n)))}function yt(t){return F(()=>!pt(t))}const Fi=$y(),xl=Rt("slidev-color-schema","auto"),ir=F(()=>$e.colorSchema!=="auto"),Hr=F({get(){return ir.value?$e.colorSchema==="dark":xl.value==="auto"?Fi.value:xl.value==="dark"},set(t){ir.value||(xl.value=t===Fi.value?"auto":t?"dark":"light")}}),qp=cp(Hr);It&&qe(Hr,t=>{const n=document.querySelector("html");n.classList.toggle("dark",t),n.classList.toggle("light",!t)},{immediate:!0});const $o=ae(1),To=F(()=>Ve.length-1),vt=ae(0),Ur=ae(0);function m6(){vt.value>$o.value&&(vt.value-=1)}function g6(){vt.value<To.value&&(vt.value+=1)}function v6(){if(vt.value>$o.value){let t=vt.value-Ur.value;t<$o.value&&(t=$o.value),vt.value=t}}function _6(){if(vt.value<To.value){let t=vt.value+Ur.value;t>To.value&&(t=To.value),vt.value=t}}function A6(){const{escape:t,space:n,shift:s,left:o,right:l,up:r,down:a,enter:c,d:p,g:u,o:d}=Pp;let f=[{name:"next_space",key:ze(n,yt(s)),fn:Wn,autoRepeat:!0},{name:"prev_space",key:ze(n,s),fn:zn,autoRepeat:!0},{name:"next_right",key:ze(l,yt(s),yt(at)),fn:Wn,autoRepeat:!0},{name:"prev_left",key:ze(o,yt(s),yt(at)),fn:zn,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:Wn,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:zn,autoRepeat:!0},{name:"next_down",key:ze(a,yt(at)),fn:Ko,autoRepeat:!0},{name:"prev_up",key:ze(r,yt(at)),fn:()=>Yo(!1),autoRepeat:!0},{name:"next_shift",key:ze(l,s),fn:Ko,autoRepeat:!0},{name:"prev_shift",key:ze(o,s),fn:()=>Yo(!1),autoRepeat:!0},{name:"toggle_dark",key:ze(p,yt(Ut)),fn:qp},{name:"toggle_overview",key:ze(d,yt(Ut)),fn:Op},{name:"hide_overview",key:ze(t,yt(Ut)),fn:()=>at.value=!1},{name:"goto",key:ze(u,yt(Ut)),fn:()=>ds.value=!ds.value},{name:"next_overview",key:ze(l,at),fn:g6},{name:"prev_overview",key:ze(o,at),fn:m6},{name:"up_overview",key:ze(r,at),fn:v6},{name:"down_overview",key:ze(a,at),fn:_6},{name:"goto_from_overview",key:ze(c,at),fn:()=>{bs(vt.value),at.value=!1}}];const h=new Set(f.map(g=>g.name));if(f.filter(g=>g.name&&h.has(g.name)).length===0){const g=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(g),console.warn(g)}return f}const Np=ze(yt(O9),yt(I9),P9);function w6(t,n,s=!1){typeof t=="string"&&(t=Pp[t]);const o=ze(t,Np);let l=0,r;const a=()=>{if(clearTimeout(r),!o.value){l=0;return}s&&(r=setTimeout(a,Math.max(1e3-l*250,150)),l++),n()};return qe(o,a,{flush:"sync"})}function b6(t,n){return fy(t,s=>{!Np.value||s.repeat||n()})}function E6(){const t=A6();new Map(t.map(s=>[s.key,s])).forEach(s=>{s.fn&&w6(s.key,s.fn,s.autoRepeat)}),b6("f",()=>Fp.toggle())}const D6={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},k6=e("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),C6=[k6];function B6(t,n){return A(),se("svg",D6,C6)}const x6={name:"carbon-close",render:B6};function Vr(t,n=""){var l,r;const s=["slidev-page",n],o=(r=(l=t==null?void 0:t.meta)==null?void 0:l.slide)==null?void 0:r.no;return o!=null&&s.push(`slidev-page-${o}`),s.filter(Boolean).join(" ")}const S6=je({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(t){const n=t;x(I);const s=ae(),o=Uy(s),l=F(()=>n.width?n.width:o.width.value),r=F(()=>n.width?n.width/An:o.height.value);n.width&&Es(()=>{s.value&&(s.value.style.width=`${l.value}px`,s.value.style.height=`${r.value}px`)});const a=F(()=>l.value/r.value),c=F(()=>n.scale&&!ws.value?n.scale:a.value<An?l.value/wn:r.value*An/wn),p=F(()=>({height:`${Rr}px`,width:`${wn}px`,transform:`translate(-50%, -50%) scale(${c.value})`})),u=F(()=>({"select-none":!$e.selectable,"slidev-code-line-numbers":$e.lineNumbers}));return gt(sp,c),(d,f)=>(A(),se("div",{id:"slide-container",ref_key:"root",ref:s,class:He(b(u))},[e("div",{id:"slide-content",style:st(b(p))},[kn(d.$slots,"default")],4),kn(d.$slots,"controls")],2))}});const R=(t,n)=>{const s=t.__vccOpts||t;for(const[o,l]of n)s[o]=l;return s},jp=R(S6,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlideContainer.vue"]]),Wr=je({name:"SlideWrapper",props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(t,{emit:n}){const s=Ht(t,"clicks",n),o=Ht(t,"clicksElements",n),l=Ht(t,"clicksDisabled",n),r=Ht(t,"clicksOrderMap",n);o.value.length=0,gt(wh,t.route),gt(bh,t.context),gt(ep,s),gt(np,l),gt(tp,o),gt(Ah,r)},render(){var t,n;return this.$props.is?pl(this.$props.is):(n=(t=this.$slots)==null?void 0:t.default)==null?void 0:n.call(t)}}),$6=["innerHTML"],T6=je({__name:"DrawingPreview",props:{page:{type:Number,required:!0}},setup(t){return x(I),(n,s)=>b(Ho)[t.page]?(A(),se("svg",{key:0,ref:"svg",class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:b(Ho)[t.page]},null,8,$6)):_e("v-if",!0)}}),Hp=R(T6,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/DrawingPreview.vue"]]),P6=Object.freeze(Object.defineProperty({__proto__:null,default:Hp},Symbol.toStringTag,{value:"Module"})),F6={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},O6=["onClick"],I6=je({__name:"SlidesOverview",props:{modelValue:{type:Boolean,required:!0}},emits:[],setup(t,{emit:n}){const s=t;x(I);const o=Ht(s,"modelValue",n);function l(){o.value=!1}function r(m){bs(m),l()}function a(m){return m===vt.value}const c=or.smaller("xs"),p=or.smaller("sm"),u=4*16*2,d=2*16,f=F(()=>c.value?Vn.width.value-u:p.value?(Vn.width.value-u-d)/2:300),h=F(()=>Math.floor((Vn.width.value-u)/(f.value+d)));return Es(()=>{vt.value=Ge.value,Ur.value=h.value}),(m,g)=>{const _=x6;return A(),se(xe,null,[Tr(e("div",F6,[e("div",{class:"grid gap-y-4 gap-x-8 w-full",style:st(`grid-template-columns: repeat(auto-fit,minmax(${b(f)}px,1fr))`)},[(A(!0),se(xe,null,uo(b(Ve).slice(0,-1),(w,C)=>(A(),se("div",{key:w.path,class:"relative"},[e("div",{class:He(["inline-block border rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":a(C+1),"border-gray-400":!a(C+1)}]),style:st(b(Lr)),onClick:D=>r(+w.path)},[(A(),$(jp,{key:w.path,width:b(f),"clicks-disabled":!0,class:"pointer-events-none"},{default:T(()=>[X(b(Wr),{is:w==null?void 0:w.component,"clicks-disabled":!0,class:He(b(Vr)(w)),route:w,context:"overview"},null,8,["is","class","route"]),X(Hp,{page:+w.path},null,8,["page"])]),_:2},1032,["width"]))],14,O6),e("div",{class:"absolute top-0 opacity-50",style:st(`left: ${b(f)+5}px`)},Kn(C+1),5)]))),128))],4)],512),[[Xc,b(o)]]),b(o)?(A(),se("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:l},[X(_)])):_e("v-if",!0)],64)}}});const R6=R(I6,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlidesOverview.vue"]]),L6="/owasp-top-ten-workshop/assets/logo-b72bde5d.png",M6={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},q6=je({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(t,{emit:n}){const s=t;x(I);const o=Ht(s,"modelValue",n);function l(){o.value=!1}return(r,a)=>(A(),$(Bc,null,[b(o)?(A(),se("div",M6,[e("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=c=>l())}),e("div",{class:He(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ gray-400 opacity-10"},[kn(r.$slots,"default")],2)])):_e("v-if",!0)],1024))}}),N6=R(q6,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Modal.vue"]]),j6={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},H6=["innerHTML"],U6=e("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[e("div",{class:"flex gap-1 children:my-auto"},[e("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),e("img",{class:"w-5 h-5",src:L6,alt:"Slidev"}),e("div",{style:{color:"#2082A6"}},[e("b",null,"Sli"),i("dev ")])])],-1),V6=je({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(t,{emit:n}){const s=t;x(I);const o=Ht(s,"modelValue",n),l=F(()=>typeof $e.info=="string");return(r,a)=>(A(),$(N6,{modelValue:b(o),"onUpdate:modelValue":a[0]||(a[0]=c=>Ce(o)?o.value=c:null),class:"px-6 py-4"},{default:T(()=>[e("div",j6,[b(l)?(A(),se("div",{key:0,class:"mb-4",innerHTML:b($e).info},null,8,H6)):_e("v-if",!0),U6])]),_:1},8,["modelValue"]))}});const W6=R(V6,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/InfoDialog.vue"]]),z6=["disabled","onKeydown"],K6=je({__name:"Goto",setup(t){x(I);const n=ae(),s=ae(""),o=F(()=>{if(s.value.startsWith("/"))return!!Ve.find(a=>a.path===s.value.substring(1));{const a=+s.value;return!isNaN(a)&&a>0&&a<=tu.value}});function l(){o.value&&(s.value.startsWith("/")?bs(s.value.substring(1)):bs(+s.value)),r()}function r(){ds.value=!1}return qe(ds,async a=>{var c,p;a?(await Ft(),s.value="",(c=n.value)==null||c.focus()):(p=n.value)==null||p.blur()}),qe(s,a=>{a.match(/^[^0-9/]/)&&(s.value=s.value.substring(1))}),(a,c)=>(A(),se("div",{id:"slidev-goto-dialog",class:He(["fixed right-5 bg-main transform transition-all",b(ds)?"top-5":"-top-20"]),shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[Tr(e("input",{ref_key:"input",ref:n,"onUpdate:modelValue":c[0]||(c[0]=p=>s.value=p),type:"text",disabled:!b(ds),class:He(["outline-none bg-transparent",{"text-red-400":!b(o)&&s.value}]),placeholder:"Goto...",onKeydown:[qa(l,["enter"]),qa(r,["escape"])],onBlur:r},null,42,z6),[[dh,s.value]])],2))}}),Y6=R(K6,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Goto.vue"]]),G6=je({__name:"Controls",setup(t){x(I);const n=Wt(),s=Wt();return(o,l)=>(A(),se(xe,null,[X(R6,{modelValue:b(at),"onUpdate:modelValue":l[0]||(l[0]=r=>Ce(at)?at.value=r:null)},null,8,["modelValue"]),X(Y6),b(n)?(A(),$(b(n),{key:0})):_e("v-if",!0),b(s)?(A(),$(b(s),{key:1,modelValue:b(Cl),"onUpdate:modelValue":l[1]||(l[1]=r=>Ce(Cl)?Cl.value=r:null)},null,8,["modelValue"])):_e("v-if",!0),b($e).info?(A(),$(W6,{key:2,modelValue:b(Ws),"onUpdate:modelValue":l[2]||(l[2]=r=>Ce(Ws)?Ws.value=r:null)},null,8,["modelValue"])):_e("v-if",!0)],64))}}),Q6=R(G6,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Controls.vue"]]),J6={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Z6=e("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),X6=[Z6];function eg(t,n){return A(),se("svg",J6,X6)}const tg={name:"carbon-settings-adjust",render:eg},ng={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},sg=e("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),og=e("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),lg=[sg,og];function rg(t,n){return A(),se("svg",ng,lg)}const ag={name:"carbon-information",render:rg},ig={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},cg=e("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),pg=[cg];function ug(t,n){return A(),se("svg",ig,pg)}const dg={name:"carbon-download",render:ug},fg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},hg=e("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),yg=e("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),mg=[hg,yg];function gg(t,n){return A(),se("svg",fg,mg)}const vg={name:"carbon-user-speaker",render:gg},_g={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ag=e("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),wg=e("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),bg=[Ag,wg];function Eg(t,n){return A(),se("svg",_g,bg)}const Dg={name:"carbon-presentation-file",render:Eg},kg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Cg=e("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),Bg=[Cg];function xg(t,n){return A(),se("svg",kg,Bg)}const Sg={name:"carbon-pen",render:xg},$g={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Tg=e("path",{fill:"currentColor",d:"m38.2 48.5l58.2 155.2a8 8 0 0 0 15-.1l23.3-64.1a8.1 8.1 0 0 1 4.8-4.8l64.1-23.3a8 8 0 0 0 .1-15L48.5 38.2a8 8 0 0 0-10.3 10.3Z",opacity:".2"},null,-1),Pg=e("path",{fill:"currentColor",d:"m150.5 139.2l55.9-20.3a16 16 0 0 0 .1-30L51.3 30.7a16 16 0 0 0-20.6 20.6l58.2 155.2a15.9 15.9 0 0 0 15 10.4h.1a15.9 15.9 0 0 0 14.9-10.5l20.3-55.9l63.1 63.2a8.5 8.5 0 0 0 5.7 2.3a8.3 8.3 0 0 0 5.7-2.3a8.1 8.1 0 0 0 0-11.4Zm-46.6 61.7L45.7 45.7l155.2 58.2l-64.1 23.3a15.7 15.7 0 0 0-9.6 9.6Z"},null,-1),Fg=[Tg,Pg];function Og(t,n){return A(),se("svg",$g,Fg)}const Ig={name:"ph-cursor-duotone",render:Og},Rg={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Lg=e("path",{fill:"currentColor",d:"M213.7 202.3a8.1 8.1 0 0 1 0 11.4a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3l-63.1-63.2l-20.3 55.9a15.9 15.9 0 0 1-14.9 10.5h-.1a15.9 15.9 0 0 1-15-10.4L30.7 51.3a16 16 0 0 1 20.6-20.6l155.2 58.2a16 16 0 0 1-.1 30l-55.9 20.3Z"},null,-1),Mg=[Lg];function qg(t,n){return A(),se("svg",Rg,Mg)}const Up={name:"ph-cursor-fill",render:qg},Ng={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},jg=e("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),Hg=[jg];function Ug(t,n){return A(),se("svg",Ng,Hg)}const Vg={name:"carbon-sun",render:Ug},Wg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},zg=e("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),Kg=[zg];function Yg(t,n){return A(),se("svg",Wg,Kg)}const Gg={name:"carbon-moon",render:Yg},Qg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Jg=e("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),Zg=[Jg];function Xg(t,n){return A(),se("svg",Qg,Zg)}const ev={name:"carbon-apps",render:Xg},tv={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},nv=e("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),sv=[nv];function ov(t,n){return A(),se("svg",tv,sv)}const lv={name:"carbon-arrow-right",render:ov},rv={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},av=e("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),iv=[av];function cv(t,n){return A(),se("svg",rv,iv)}const pv={name:"carbon-arrow-left",render:cv},uv={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},dv=e("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),fv=[dv];function hv(t,n){return A(),se("svg",uv,fv)}const yv={name:"carbon-maximize",render:hv},mv={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},gv=e("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),vv=[gv];function _v(t,n){return A(),se("svg",mv,vv)}const Av={name:"carbon-minimize",render:_v},wv={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},bv=e("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),Ev=[bv];function Dv(t,n){return A(),se("svg",wv,Ev)}const kv={name:"carbon-checkmark",render:Dv},Cv={class:"select-list"},Bv={class:"title"},xv={class:"items"},Sv=["onClick"],$v=je({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(t,{emit:n}){const s=t;x(I);const o=Ht(s,"modelValue",n,{passive:!0});return(l,r)=>{const a=kv;return A(),se("div",Cv,[e("div",Bv,Kn(t.title),1),e("div",xv,[(A(!0),se(xe,null,uo(t.items,c=>(A(),se("div",{key:c.value,class:He(["item",{active:b(o)===c.value}]),onClick:()=>{var p;o.value=c.value,(p=c.onClick)==null||p.call(c)}},[X(a,{class:He(["text-green-500",{"opacity-0":b(o)!==c.value}])},null,8,["class"]),i(" "+Kn(c.display||c.value),1)],10,Sv))),128))])])}}});const Tv=R($v,[["__scopeId","data-v-3f89fa11"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SelectList.vue"]]),Pv={class:"text-sm"},Fv=je({__name:"Settings",setup(t){x(I);const n=[{display:"Fit",value:0},{display:"1:1",value:1}];return(s,o)=>(A(),se("div",Pv,[X(Tv,{modelValue:b(So),"onUpdate:modelValue":o[0]||(o[0]=l=>Ce(So)?So.value=l:null),title:"Scale",items:n},null,8,["modelValue"])]))}}),Ov=R(Fv,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Settings.vue"]]),Iv={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"},Rv=je({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(t,{emit:n}){const s=t;x(I);const o=Ht(s,"modelValue",n,{passive:!0}),l=ae();return uy(l,()=>{o.value=!1}),(r,a)=>(A(),se("div",{ref_key:"el",ref:l,class:"flex relative"},[e("button",{class:He({disabled:t.disabled}),onClick:a[0]||(a[0]=c=>o.value=!b(o))},[kn(r.$slots,"button",{class:He({disabled:t.disabled})})],2),(A(),$(Bc,null,[b(o)?(A(),se("div",Iv,[kn(r.$slots,"menu")])):_e("v-if",!0)],1024))],512))}}),Lv=R(Rv,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/MenuButton.vue"]]),Mv={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},qv={__name:"VerticalDivider",setup(t){return x(I),(n,s)=>(A(),se("div",Mv))}},Eo=R(qv,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/VerticalDivider.vue"]]),Nv={render(){return[]}},jv={class:"icon-btn"},Hv={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},Uv={class:"my-auto"},Vv={class:"opacity-50"},Wv=je({__name:"NavControls",props:{persist:{default:!1}},setup(t){const n=t;x(I);const s=or.smaller("md"),{isFullscreen:o,toggle:l}=Fp,r=F(()=>pr.value?`?password=${pr.value}`:""),a=F(()=>`/presenter/${Ge.value}${r.value}`),c=F(()=>`/${Ge.value}${r.value}`),p=ae(),u=()=>{p.value&&gs.value&&p.value.contains(gs.value)&&gs.value.blur()},d=F(()=>n.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),f=Wt(),h=Wt();return Jn(()=>import("./DrawingControls-4193fdaf.js"),[]).then(m=>h.value=m.default),(m,g)=>{const _=Av,w=yv,C=pv,D=lv,B=ev,S=Gg,V=Vg,W=Up,H=Ig,N=Sg,ne=Dg,re=jd("RouterLink"),de=vg,J=dg,we=ag,Ie=tg;return A(),se("nav",{ref_key:"root",ref:p,class:"flex flex-col"},[e("div",{class:He(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",b(d)]),onMouseleave:u},[b(Xt)?_e("v-if",!0):(A(),se("button",{key:0,class:"icon-btn",onClick:g[0]||(g[0]=(...ke)=>b(l)&&b(l)(...ke))},[b(o)?(A(),$(_,{key:0})):(A(),$(w,{key:1}))])),e("button",{class:He(["icon-btn",{disabled:!b(x7)}]),onClick:g[1]||(g[1]=(...ke)=>b(zn)&&b(zn)(...ke))},[X(C)],2),e("button",{class:He(["icon-btn",{disabled:!b(B7)}]),title:"Next",onClick:g[2]||(g[2]=(...ke)=>b(Wn)&&b(Wn)(...ke))},[X(D)],2),b(Xt)?_e("v-if",!0):(A(),se("button",{key:1,class:"icon-btn",title:"Slides overview",onClick:g[3]||(g[3]=ke=>b(Op)())},[X(B)])),b(ir)?_e("v-if",!0):(A(),se("button",{key:2,class:"icon-btn",title:"Toggle dark mode",onClick:g[4]||(g[4]=ke=>b(qp)())},[b(Hr)?(A(),$(S,{key:0})):(A(),$(V,{key:1}))])),X(Eo),b(Xt)?_e("v-if",!0):(A(),se(xe,{key:3},[!b(Tt)&&!b(s)&&b(f)?(A(),se(xe,{key:0},[X(b(f)),X(Eo)],64)):_e("v-if",!0),b(Tt)?(A(),se("button",{key:1,class:"icon-btn",title:"Show presenter cursor",onClick:g[5]||(g[5]=ke=>Bl.value=!b(Bl))},[b(Bl)?(A(),$(W,{key:0})):(A(),$(H,{key:1,class:"opacity-50"}))])):_e("v-if",!0)],64)),(!b($e).drawings.presenterOnly||b(Tt))&&!b(Xt)?(A(),se(xe,{key:4},[e("button",{class:"icon-btn relative",title:"Drawing",onClick:g[6]||(g[6]=ke=>Ut.value=!b(Ut))},[X(N),b(Ut)?(A(),se("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:st({background:b(Ln).color})},null,4)):_e("v-if",!0)]),X(Eo)],64)):_e("v-if",!0),b(Xt)?_e("v-if",!0):(A(),se(xe,{key:5},[b(Tt)?(A(),$(re,{key:0,to:b(c),class:"icon-btn",title:"Play Mode"},{default:T(()=>[X(ne)]),_:1},8,["to"])):_e("v-if",!0),b(E7)?(A(),$(re,{key:1,to:b(a),class:"icon-btn",title:"Presenter Mode"},{default:T(()=>[X(de)]),_:1},8,["to"])):_e("v-if",!0),_e("v-if",!0)],64)),(A(),se(xe,{key:6},[b($e).download?(A(),se("button",{key:0,class:"icon-btn",onClick:g[8]||(g[8]=(...ke)=>b(qi)&&b(qi)(...ke))},[X(J)])):_e("v-if",!0)],64)),!b(Tt)&&b($e).info&&!b(Xt)?(A(),se("button",{key:7,class:"icon-btn",onClick:g[9]||(g[9]=ke=>Ws.value=!b(Ws))},[X(we)])):_e("v-if",!0),!b(Tt)&&!b(Xt)?(A(),$(Lv,{key:8},{button:T(()=>[e("button",jv,[X(Ie)])]),menu:T(()=>[X(Ov)]),_:1})):_e("v-if",!0),b(Xt)?_e("v-if",!0):(A(),$(Eo,{key:9})),e("div",Hv,[e("div",Uv,[i(Kn(b(Ge))+" ",1),e("span",Vv,"/ "+Kn(b(tu)),1)])]),X(b(Nv))],34)],512)}}}),zv=R(Wv,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/NavControls.vue"]]),Vp={render(){return[]}},Wp={render(){return[]}},Kv={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},Yv=je({__name:"PresenterMouse",setup(t){return x(I),(n,s)=>{const o=Up;return b(bl).cursor?(A(),se("div",Kv,[X(o,{class:"absolute",style:st({left:`${b(bl).cursor.x}%`,top:`${b(bl).cursor.y}%`})},null,8,["style"])])):_e("v-if",!0)}}}),Gv=R(Yv,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PresenterMouse.vue"]]),Qv=je({__name:"SlidesShow",props:{context:{type:String,required:!0}},setup(t){x(I),qe(it,()=>{var o,l;((o=it.value)==null?void 0:o.meta)&&it.value.meta.preload!==!1&&(it.value.meta.__preloaded=!0),((l=Sl.value)==null?void 0:l.meta)&&Sl.value.meta.preload!==!1&&(Sl.value.meta.__preloaded=!0)},{immediate:!0});const n=Wt();Jn(()=>import("./DrawingLayer-41eabaf4.js"),[]).then(o=>n.value=o.default);const s=F(()=>Ve.filter(o=>{var l;return((l=o.meta)==null?void 0:l.__preloaded)||o===it.value}));return(o,l)=>(A(),se(xe,null,[_e(" Global Bottom "),X(b(Wp)),_e(" Slides "),X(rh,Y(z(b(T7))),{default:T(()=>[(A(!0),se(xe,null,uo(b(s),r=>{var a;return Tr((A(),$(b(Wr),{key:r.path,is:r==null?void 0:r.component,clicks:r===b(it)?b(Zn):0,"clicks-elements":((a=r.meta)==null?void 0:a.__clicksElements)||[],"clicks-disabled":!1,class:He(b(Vr)(r)),route:r,context:t.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[Xc,r===b(it)]])}),128))]),_:1},16),_e(" Global Top "),X(b(Vp)),b(n)?(A(),$(b(n),{key:0})):_e("v-if",!0),b(Tt)?_e("v-if",!0):(A(),$(Gv,{key:1}))],64))}}),Jv=R(Qv,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlidesShow.vue"]]),Zv=je({__name:"PrintStyle",setup(t){x(I);function n(s,{slots:o}){if(o.default)return pl("style",o.default())}return(s,o)=>(A(),$(n,null,{default:T(()=>[i(" @page { size: "+Kn(b(wn))+"px "+Kn(b(Rr))+"px; margin: 0px; } ",1)]),_:1}))}}),zp=R(Zv,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintStyle.vue"]]),Xv=je({__name:"Play",setup(t){x(I),E6();const n=ae();function s(r){var a;Ei.value||((a=r.target)==null?void 0:a.id)==="slide-container"&&(r.screenX/window.innerWidth>.6?Wn():zn())}P7(n);const o=F(()=>F9.value||Ei.value);Wt();const l=Wt();return Jn(()=>import("./DrawingControls-4193fdaf.js"),[]).then(r=>l.value=r.default),(r,a)=>(A(),se(xe,null,[b(ws)?(A(),$(zp,{key:0})):_e("v-if",!0),e("div",{id:"page-root",ref_key:"root",ref:n,class:"grid grid-cols-[1fr_max-content]",style:st(b(Lr))},[X(jp,{class:"w-full h-full",style:st({background:"var(--slidev-slide-container-background, black)"}),width:b(ws)?b(Vn).width.value:void 0,scale:b(So),onPointerdown:s},{default:T(()=>[X(Jv,{context:"slide"})]),controls:T(()=>[e("div",{class:He(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[b(o)?"opacity-100 right-0":"opacity-0 p-2",b(oo)?"pointer-events-none":""]])},[X(zv,{class:"m-auto",persist:b(o)},null,8,["persist"])],2),!b($e).drawings.presenterOnly&&!b(Xt)&&b(l)?(A(),$(b(l),{key:0,class:"ml-0"})):_e("v-if",!0)]),_:1},8,["style","width","scale"]),_e("v-if",!0)],4),X(Q6)],64))}}),e_=R(Xv,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Play.vue"]]);function Kp(t){return typeof t>"u"||t===null}function t_(t){return typeof t=="object"&&t!==null}function n_(t){return Array.isArray(t)?t:Kp(t)?[]:[t]}function s_(t,n){var s,o,l,r;if(n)for(r=Object.keys(n),s=0,o=r.length;s<o;s+=1)l=r[s],t[l]=n[l];return t}function o_(t,n){var s="",o;for(o=0;o<n;o+=1)s+=t;return s}function l_(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var r_=Kp,a_=t_,i_=n_,c_=o_,p_=l_,u_=s_,zr={isNothing:r_,isObject:a_,toArray:i_,repeat:c_,isNegativeZero:p_,extend:u_};function Yp(t,n){var s="",o=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(s+='in "'+t.mark.name+'" '),s+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!n&&t.mark.snippet&&(s+=`

`+t.mark.snippet),o+" "+s):o}function ro(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=Yp(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ro.prototype=Object.create(Error.prototype);ro.prototype.constructor=ro;ro.prototype.toString=function(n){return this.name+": "+Yp(this,n)};var In=ro,d_=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],f_=["scalar","sequence","mapping"];function h_(t){var n={};return t!==null&&Object.keys(t).forEach(function(s){t[s].forEach(function(o){n[String(o)]=s})}),n}function y_(t,n){if(n=n||{},Object.keys(n).forEach(function(s){if(d_.indexOf(s)===-1)throw new In('Unknown option "'+s+'" is met in definition of "'+t+'" YAML type.')}),this.options=n,this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(s){return s},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=h_(n.styleAliases||null),f_.indexOf(this.kind)===-1)throw new In('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var ot=y_;function Oi(t,n){var s=[];return t[n].forEach(function(o){var l=s.length;s.forEach(function(r,a){r.tag===o.tag&&r.kind===o.kind&&r.multi===o.multi&&(l=a)}),s[l]=o}),s}function m_(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,s;function o(l){l.multi?(t.multi[l.kind].push(l),t.multi.fallback.push(l)):t[l.kind][l.tag]=t.fallback[l.tag]=l}for(n=0,s=arguments.length;n<s;n+=1)arguments[n].forEach(o);return t}function cr(t){return this.extend(t)}cr.prototype.extend=function(n){var s=[],o=[];if(n instanceof ot)o.push(n);else if(Array.isArray(n))o=o.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(s=s.concat(n.implicit)),n.explicit&&(o=o.concat(n.explicit));else throw new In("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(r){if(!(r instanceof ot))throw new In("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(r.loadKind&&r.loadKind!=="scalar")throw new In("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(r.multi)throw new In("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(r){if(!(r instanceof ot))throw new In("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(cr.prototype);return l.implicit=(this.implicit||[]).concat(s),l.explicit=(this.explicit||[]).concat(o),l.compiledImplicit=Oi(l,"implicit"),l.compiledExplicit=Oi(l,"explicit"),l.compiledTypeMap=m_(l.compiledImplicit,l.compiledExplicit),l};var g_=cr,v_=new ot("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),__=new ot("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),A_=new ot("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),w_=new g_({explicit:[v_,__,A_]});function b_(t){if(t===null)return!0;var n=t.length;return n===1&&t==="~"||n===4&&(t==="null"||t==="Null"||t==="NULL")}function E_(){return null}function D_(t){return t===null}var k_=new ot("tag:yaml.org,2002:null",{kind:"scalar",resolve:b_,construct:E_,predicate:D_,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function C_(t){if(t===null)return!1;var n=t.length;return n===4&&(t==="true"||t==="True"||t==="TRUE")||n===5&&(t==="false"||t==="False"||t==="FALSE")}function B_(t){return t==="true"||t==="True"||t==="TRUE"}function x_(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var S_=new ot("tag:yaml.org,2002:bool",{kind:"scalar",resolve:C_,construct:B_,predicate:x_,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function $_(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function T_(t){return 48<=t&&t<=55}function P_(t){return 48<=t&&t<=57}function F_(t){if(t===null)return!1;var n=t.length,s=0,o=!1,l;if(!n)return!1;if(l=t[s],(l==="-"||l==="+")&&(l=t[++s]),l==="0"){if(s+1===n)return!0;if(l=t[++s],l==="b"){for(s++;s<n;s++)if(l=t[s],l!=="_"){if(l!=="0"&&l!=="1")return!1;o=!0}return o&&l!=="_"}if(l==="x"){for(s++;s<n;s++)if(l=t[s],l!=="_"){if(!$_(t.charCodeAt(s)))return!1;o=!0}return o&&l!=="_"}if(l==="o"){for(s++;s<n;s++)if(l=t[s],l!=="_"){if(!T_(t.charCodeAt(s)))return!1;o=!0}return o&&l!=="_"}}if(l==="_")return!1;for(;s<n;s++)if(l=t[s],l!=="_"){if(!P_(t.charCodeAt(s)))return!1;o=!0}return!(!o||l==="_")}function O_(t){var n=t,s=1,o;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),o=n[0],(o==="-"||o==="+")&&(o==="-"&&(s=-1),n=n.slice(1),o=n[0]),n==="0")return 0;if(o==="0"){if(n[1]==="b")return s*parseInt(n.slice(2),2);if(n[1]==="x")return s*parseInt(n.slice(2),16);if(n[1]==="o")return s*parseInt(n.slice(2),8)}return s*parseInt(n,10)}function I_(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!zr.isNegativeZero(t)}var R_=new ot("tag:yaml.org,2002:int",{kind:"scalar",resolve:F_,construct:O_,predicate:I_,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),L_=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function M_(t){return!(t===null||!L_.test(t)||t[t.length-1]==="_")}function q_(t){var n,s;return n=t.replace(/_/g,"").toLowerCase(),s=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:s*parseFloat(n,10)}var N_=/^[-+]?[0-9]+e/;function j_(t,n){var s;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(zr.isNegativeZero(t))return"-0.0";return s=t.toString(10),N_.test(s)?s.replace("e",".e"):s}function H_(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||zr.isNegativeZero(t))}var U_=new ot("tag:yaml.org,2002:float",{kind:"scalar",resolve:M_,construct:q_,predicate:H_,represent:j_,defaultStyle:"lowercase"}),V_=w_.extend({implicit:[k_,S_,R_,U_]}),W_=V_,Gp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Qp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function z_(t){return t===null?!1:Gp.exec(t)!==null||Qp.exec(t)!==null}function K_(t){var n,s,o,l,r,a,c,p=0,u=null,d,f,h;if(n=Gp.exec(t),n===null&&(n=Qp.exec(t)),n===null)throw new Error("Date resolve error");if(s=+n[1],o=+n[2]-1,l=+n[3],!n[4])return new Date(Date.UTC(s,o,l));if(r=+n[4],a=+n[5],c=+n[6],n[7]){for(p=n[7].slice(0,3);p.length<3;)p+="0";p=+p}return n[9]&&(d=+n[10],f=+(n[11]||0),u=(d*60+f)*6e4,n[9]==="-"&&(u=-u)),h=new Date(Date.UTC(s,o,l,r,a,c,p)),u&&h.setTime(h.getTime()-u),h}function Y_(t){return t.toISOString()}var G_=new ot("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:z_,construct:K_,instanceOf:Date,represent:Y_});function Q_(t){return t==="<<"||t===null}var J_=new ot("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Q_}),Kr=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Z_(t){if(t===null)return!1;var n,s,o=0,l=t.length,r=Kr;for(s=0;s<l;s++)if(n=r.indexOf(t.charAt(s)),!(n>64)){if(n<0)return!1;o+=6}return o%8===0}function X_(t){var n,s,o=t.replace(/[\r\n=]/g,""),l=o.length,r=Kr,a=0,c=[];for(n=0;n<l;n++)n%4===0&&n&&(c.push(a>>16&255),c.push(a>>8&255),c.push(a&255)),a=a<<6|r.indexOf(o.charAt(n));return s=l%4*6,s===0?(c.push(a>>16&255),c.push(a>>8&255),c.push(a&255)):s===18?(c.push(a>>10&255),c.push(a>>2&255)):s===12&&c.push(a>>4&255),new Uint8Array(c)}function eA(t){var n="",s=0,o,l,r=t.length,a=Kr;for(o=0;o<r;o++)o%3===0&&o&&(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]),s=(s<<8)+t[o];return l=r%3,l===0?(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]):l===2?(n+=a[s>>10&63],n+=a[s>>4&63],n+=a[s<<2&63],n+=a[64]):l===1&&(n+=a[s>>2&63],n+=a[s<<4&63],n+=a[64],n+=a[64]),n}function tA(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var nA=new ot("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Z_,construct:X_,predicate:tA,represent:eA}),sA=Object.prototype.hasOwnProperty,oA=Object.prototype.toString;function lA(t){if(t===null)return!0;var n=[],s,o,l,r,a,c=t;for(s=0,o=c.length;s<o;s+=1){if(l=c[s],a=!1,oA.call(l)!=="[object Object]")return!1;for(r in l)if(sA.call(l,r))if(!a)a=!0;else return!1;if(!a)return!1;if(n.indexOf(r)===-1)n.push(r);else return!1}return!0}function rA(t){return t!==null?t:[]}var aA=new ot("tag:yaml.org,2002:omap",{kind:"sequence",resolve:lA,construct:rA}),iA=Object.prototype.toString;function cA(t){if(t===null)return!0;var n,s,o,l,r,a=t;for(r=new Array(a.length),n=0,s=a.length;n<s;n+=1){if(o=a[n],iA.call(o)!=="[object Object]"||(l=Object.keys(o),l.length!==1))return!1;r[n]=[l[0],o[l[0]]]}return!0}function pA(t){if(t===null)return[];var n,s,o,l,r,a=t;for(r=new Array(a.length),n=0,s=a.length;n<s;n+=1)o=a[n],l=Object.keys(o),r[n]=[l[0],o[l[0]]];return r}var uA=new ot("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:cA,construct:pA}),dA=Object.prototype.hasOwnProperty;function fA(t){if(t===null)return!0;var n,s=t;for(n in s)if(dA.call(s,n)&&s[n]!==null)return!1;return!0}function hA(t){return t!==null?t:{}}var yA=new ot("tag:yaml.org,2002:set",{kind:"mapping",resolve:fA,construct:hA});W_.extend({implicit:[G_,J_],explicit:[nA,aA,uA,yA]});function Ii(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}var mA=new Array(256),gA=new Array(256);for(var as=0;as<256;as++)mA[as]=Ii(as)?1:0,gA[as]=Ii(as);function vA(t){return Array.from(new Set(t))}function Ri(...t){let n,s,o;t.length===1?(n=0,o=1,[s]=t):[n,s,o=1]=t;const l=[];let r=n;for(;r<s;)l.push(r),r+=o||1;return l}function Jp(t,n){if(!n||n==="all"||n==="*")return Ri(1,t+1);const s=[];for(const o of n.split(/[,;]/g))if(!o.includes("-"))s.push(+o);else{const[l,r]=o.split("-",2);s.push(...Ri(+l,r?+r+1:t+1))}return vA(s).filter(o=>o<=t).sort((o,l)=>o-l)}function _A(t){const n=F(()=>t.value.path),s=F(()=>Ve.length-1),o=F(()=>parseInt(n.value.split(/\//g).slice(-1)[0])||1),l=F(()=>Yr(o.value)),r=F(()=>Ve.find(h=>h.path===`${o.value}`)),a=F(()=>{var h,m,g;return(g=(m=(h=r.value)==null?void 0:h.meta)==null?void 0:m.slide)==null?void 0:g.id}),c=F(()=>{var h,m;return((m=(h=r.value)==null?void 0:h.meta)==null?void 0:m.layout)||(o.value===1?"cover":"default")}),p=F(()=>Ve.find(h=>h.path===`${Math.min(Ve.length,o.value+1)}`)),u=F(()=>Ve.filter(h=>{var m,g;return(g=(m=h.meta)==null?void 0:m.slide)==null?void 0:g.title}).reduce((h,m)=>(Gr(h,m),h),[])),d=F(()=>Qr(u.value,r.value)),f=F(()=>Jr(d.value));return{route:t,path:n,total:s,currentPage:o,currentPath:l,currentRoute:r,currentSlideId:a,currentLayout:c,nextRoute:p,rawTree:u,treeWithActiveStatuses:d,tree:f}}function AA(t,n,s){const o=ae(0);Ft(()=>{bn.afterEach(async()=>{await Ft(),o.value+=1})});const l=F(()=>{var p,u;return o.value,((u=(p=n.value)==null?void 0:p.meta)==null?void 0:u.__clicksElements)||[]}),r=F(()=>{var p,u;return+(((u=(p=n.value)==null?void 0:p.meta)==null?void 0:u.clicks)??l.value.length)}),a=F(()=>s.value<Ve.length-1||t.value<r.value),c=F(()=>s.value>1||t.value>0);return{clicks:t,clicksElements:l,clicksTotal:r,hasNext:a,hasPrev:c}}const wA=["id"],bA=je({__name:"PrintSlideClick",props:{clicks:{type:Number,required:!0},clicksElements:{type:Array,required:!1},nav:{type:null,required:!0},route:{type:null,required:!0}},emits:["update:clicksElements"],setup(t,{emit:n}){const s=t,o=Ht(s,"clicksElements",n),l=F(()=>({height:`${Rr}px`,width:`${wn}px`})),r=Wt();Jn(()=>Promise.resolve().then(()=>P6),void 0).then(u=>r.value=u.default);const a=F(()=>s.clicks),c=AA(a,s.nav.currentRoute,s.nav.currentPage),p=F(()=>`${s.route.path.toString().padStart(3,"0")}-${(a.value+1).toString().padStart(2,"0")}`);return gt(I,Xe({nav:{...s.nav,...c},configs:$e,themeConfigs:F(()=>$e.themeConfig)})),(u,d)=>{var f;return A(),se("div",{id:b(p),class:"print-slide-container",style:st(b(l))},[X(b(Wp)),X(b(Wr),{is:(f=t.route)==null?void 0:f.component,"clicks-elements":b(o),"onUpdate:clicks-elements":d[0]||(d[0]=h=>Ce(o)?o.value=h:null),clicks:b(a),"clicks-disabled":!1,class:He(b(Vr)(t.route)),route:t.route},null,8,["is","clicks-elements","clicks","class","route"]),b(r)?(A(),$(b(r),{key:0,page:+t.route.path},null,8,["page"])):_e("v-if",!0),X(b(Vp))],12,wA)}}}),Li=R(bA,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintSlideClick.vue"]]),EA=je({__name:"PrintSlide",props:{route:{type:null,required:!0}},setup(t){var r;const n=t;x(I);const s=Xe(((r=n.route.meta)==null?void 0:r.__clicksElements)||[]),o=F(()=>n.route),l=_A(o);return(a,c)=>(A(),se(xe,null,[X(Li,{"clicks-elements":s,"onUpdate:clicks-elements":c[0]||(c[0]=p=>s=p),clicks:0,nav:b(l),route:b(o)},null,8,["clicks-elements","nav","route"]),b(eu)?_e("v-if",!0):(A(!0),se(xe,{key:0},uo(s.length,p=>(A(),$(Li,{key:p,clicks:p,nav:b(l),route:b(o)},null,8,["clicks","nav","route"]))),128))],64))}}),DA=R(EA,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintSlide.vue"]]),kA={id:"print-content"},CA=je({__name:"PrintContainer",props:{width:{type:Number,required:!0}},setup(t){const n=t;x(I);const s=F(()=>n.width),o=F(()=>n.width/An),l=F(()=>s.value/o.value),r=F(()=>l.value<An?s.value/wn:o.value*An/wn);let a=Ve.slice(0,-1);Kt.value.query.range&&(a=Jp(a.length,Kt.value.query.range).map(u=>a[u-1]));const c=F(()=>({"select-none":!$e.selectable,"slidev-code-line-numbers":$e.lineNumbers}));return gt(sp,r),(p,u)=>(A(),se("div",{id:"print-container",class:He(b(c))},[e("div",kA,[(A(!0),se(xe,null,uo(b(a),d=>(A(),$(DA,{key:d.path,route:d},null,8,["route"]))),128))]),kn(p.$slots,"controls")],2))}});const BA=R(CA,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintContainer.vue"]]),xA=je({__name:"Print",setup(t){return x(I),Es(()=>{ws?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(n,s)=>(A(),se(xe,null,[b(ws)?(A(),$(zp,{key:0})):_e("v-if",!0),e("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:st(b(Lr))},[X(BA,{class:"w-full h-full",style:st({background:"var(--slidev-slide-container-background, black)"}),width:b(Vn).width.value},null,8,["style","width"])],4)],64))}});const SA=R(xA,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Print.vue"]]);const $A={class:"slidev-layout end"},TA={__name:"end",setup(t){return x(I),(n,s)=>(A(),se("div",$A," END "))}},PA=R(TA,[["__scopeId","data-v-e532b98d"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/layouts/end.vue"]]),FA="/owasp-top-ten-workshop/images/nearform.svg",OA="/owasp-top-ten-workshop/assets/owasp-8902e583.png",IA={class:"slidev-layout default"},RA={__name:"default",setup(t){return x(I),(n,s)=>(A(),se("div",IA,[kn(n.$slots,"default")]))}},G=R(RA,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/layouts/default.vue"]]),LA=e("img",{class:"logo",src:FA},null,-1),MA=e("h1",null,"OWASP Top Ten Security Vulnerabilities Workshop",-1),qA=e("img",{src:OA,style:{width:"30%"}},null,-1),NA=e("div",{class:"copyright"},[e("p",null," Copyright 2022 NearForm Ltd. All Rights Reserved.")],-1),jA={__name:"1",setup(t){const n={theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[LA,MA,qA,NA]),_:1},16))}},HA=R(jA,[["__file","/@slidev/slides/1.md"]]),UA=e("h1",null,"Introduction: OWASP ",-1),VA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("p",null,[i("The Open Web Application Security Project ("),e("strong",null,"OWASP"),i(") is a "),e("strong",null,"non profit"),i(" foundation that works to improve the security of software")])]),e("li",null,[e("p",null,[i("OWASP has community-led "),e("strong",null,"open-source"),i(" software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences")])])])],-1),WA={__name:"2",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[UA,VA]),_:1},16))}},zA=R(WA,[["__file","/@slidev/slides/2.md"]]),KA=e("h1",null,"Introduction: OWASP Top Ten",-1),YA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("The "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/",target:"_blank",rel:"noopener"},"OWASP Top Ten")]),i(" is a standard awareness document for developers and web application security")]),e("li",null,"It represents a broad consensus about the most critical security risks to web applications")])],-1),GA={__name:"3",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[KA,YA]),_:1},16))}},QA=R(GA,[["__file","/@slidev/slides/3.md"]]),JA=e("h1",null,"Workshop Setup",-1),ZA=e("div",{class:"dense"},[e("ul",null,[e("li",null,"This workshop will explain each of the 10 vulnerabilities"),e("li",null,"There is a Fastify node.js server demonstrating the security issues"),e("li",null,"At each step you are asked to fix the vulnerability in the server"),e("li",null,[i("You will find the solution to each step in the file "),e("code",null,"solution.js"),i(" inside "),e("code",null,"src/a{n}-{name}"),i(" folder (the actual path may vary)")]),e("li",null,"The  icon indicates hints")])],-1),XA={__name:"4",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[JA,ZA]),_:1},16))}},ew=R(XA,[["__file","/@slidev/slides/4.md"]]),tw={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},nw=e("path",{fill:"currentColor",d:"M200 32h-36.3a47.8 47.8 0 0 0-71.4 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32.1 32.1 0 0 1 32 32H96a32.1 32.1 0 0 1 32-32Zm72 184H56V48h26.8A47.2 47.2 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.2 47.2 0 0 0-2.8-16H200Z"},null,-1),sw=[nw];function ow(t,n){return A(),se("svg",tw,sw)}const lw={name:"ph-clipboard",render:ow},rw={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},aw=e("path",{fill:"currentColor",d:"M177.8 98.5a8 8 0 0 1-.3 11.3l-58.6 56a8.1 8.1 0 0 1-5.6 2.2a7.9 7.9 0 0 1-5.5-2.2l-29.3-28a8 8 0 1 1 11-11.6l23.8 22.7l53.2-50.7a8 8 0 0 1 11.3.3ZM232 128A104 104 0 1 1 128 24a104.2 104.2 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),iw=[aw];function cw(t,n){return A(),se("svg",rw,iw)}const pw={name:"ph-check-circle",render:cw},uw=["title"],dw=je({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(t){const n=t;x(I);const s=x(ep),o=x(tp),l=x(np);function r(f=5){const h=[],m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",g=m.length;for(let _=0;_<f;_++)h.push(m.charAt(Math.floor(Math.random()*g)));return h.join("")}const a=ae(),c=Yt();po(()=>{const f=n.at==null?o==null?void 0:o.value.length:n.at,h=F(()=>l!=null&&l.value?n.ranges.length-1:Math.min(Math.max(0,((s==null?void 0:s.value)||0)-(f||0)),n.ranges.length-1)),m=F(()=>n.ranges[h.value]||"");if(n.ranges.length>=2&&!(l!=null&&l.value)){const g=r(),_=kh(n.ranges.length-1).map(w=>g+w);o!=null&&o.value&&(o.value.push(..._),rl(()=>_.forEach(w=>Dh(o.value,w)),c))}Es(()=>{if(!a.value)return;const _=a.value.querySelector(".shiki-dark")?Array.from(a.value.querySelectorAll(".shiki")):[a.value];for(const w of _){const C=Array.from(w.querySelectorAll(".line")),D=Jp(C.length,m.value);if(C.forEach((B,S)=>{const V=D.includes(S+1);B.classList.toggle(Eh,!0),B.classList.toggle("highlighted",V),B.classList.toggle("dishonored",!V)}),n.maxHeight){const B=w.querySelector(".line.highlighted");B&&B.scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:p,copy:u}=wy();function d(){var h,m;const f=(m=(h=a.value)==null?void 0:h.querySelector(".slidev-code"))==null?void 0:m.textContent;f&&u(f)}return(f,h)=>{const m=pw,g=lw;return A(),se("div",{ref_key:"el",ref:a,class:"slidev-code-wrapper relative group",style:st({"max-height":n.maxHeight,"overflow-y":n.maxHeight?"scroll":void 0})},[kn(f.$slots,"default"),b($e).codeCopy?(A(),se("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:b(p)?"Copied":"Copy",onClick:h[0]||(h[0]=_=>d())},[b(p)?(A(),$(m,{key:0,class:"p-2 w-8 h-8"})):(A(),$(g,{key:1,class:"p-2 w-8 h-8"}))],8,uw)):_e("v-if",!0)],4)}}}),Je=R(dw,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),fw=e("h1",null,"Getting setup",-1),hw={class:"dense"},yw=e("h4",null,"Requirements",-1),mw=e("br",null,null,-1),gw=e("ul",null,[e("li",null,"Node LTS"),e("li",null,"docker"),e("li",null,"docker-compose"),e("li",null,"Postman (if you want to be able to test vulnerabilities)")],-1),vw=e("h4",null,"Setup",-1),_w=e("br",null,null,-1),Aw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"git"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"clone"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"https://github.com/nearform/owasp-top-ten-workshop")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"ci")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"run"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"db:up")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"run"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"db:migrate")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"git"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"clone"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"https://github.com/nearform/owasp-top-ten-workshop")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"ci")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"run"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"db:up")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"run"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"db:migrate")])])])],-1),ww={__name:"5",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[fw,e("div",hw,[yw,mw,gw,vw,_w,X(l,We({},{ranges:[""]}),{default:T(()=>[Aw]),_:1},16)])]),_:1},16)}}},bw=R(ww,[["__file","/@slidev/slides/5.md"]]),Ew=e("h1",null,"Running the modules",-1),Dw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("code",null,"cd src/a{x}-step-name")]),e("li",null,[e("code",null,"npm start"),i(" will run the server ready to respond to requests")]),e("li",null,[e("code",null,"npm run verify"),i(" will run automated tests that fail by default until this steps issue is solved")]),e("li",null,"Check out README.md in the projects for potential additional info")])],-1),kw=e("h3",null,"Example",-1),Cw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#B8A965"}},"cd"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"src/a01-access-control")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"start")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#998418"}},"cd"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"src/a01-access-control")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"start")])])])],-1),Bw=e("p",null,[i("The server for that step will run on "),e("a",{href:"http://localhost:3000",target:"_blank",rel:"noopener"},"http://localhost:3000")],-1),xw={__name:"6",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[Ew,Dw,kw,X(l,We({},{ranges:[""]}),{default:T(()=>[Cw]),_:1},16),Bw]),_:1},16)}}},Sw=R(xw,[["__file","/@slidev/slides/6.md"]]),$w=e("h1",null,"Testing the vulnerabilities",-1),Tw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests"),e("li",null,[i("The "),e("code",null,"postman"),i(" folder contains a collection that can be imported into Postman to easily send those requests")]),e("li",null,[i("The Postman collection is pre-logged in with user "),e("code",null,"alice"),i(". The "),e("code",null,"Bearer token"),i(" is set that represents "),e("code",null,"alice"),i(".")])])],-1),Pw={__name:"7",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[$w,Tw]),_:1},16))}},Fw=R(Pw,[["__file","/@slidev/slides/7.md"]]),Ow=e("h1",null,"Automated testing",-1),Iw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities have automated tests which verify the presence of the vulnerability"),e("li",null,"Those tests will fail until you fix the vulnerability"),e("li",null,[e("code",null,"npm run verify"),i(" in a steps folder")])])],-1),Rw={__name:"8",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[Ow,Iw]),_:1},16))}},Lw=R(Rw,[["__file","/@slidev/slides/8.md"]]),Mw=e("h1",null,"A01 Broken Access Control",-1),qw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A01_2021-Broken_Access_Control/",target:"_blank",rel:"noopener"},"AO1:2021 - Broken Access Control")]),e("li",null,"User should only act based on specific permissions"),e("li",null,"Incorrect permissions -> unauthorised access of data")])],-1),Nw={__name:"9",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[Mw,qw]),_:1},16))}},jw=R(Nw,[["__file","/@slidev/slides/9.md"]]),Hw=e("h1",null,"A01 Common vulnerabilities",-1),Uw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Not applying principle of "),e("strong",null,"least privilege")]),e("li",null,"Checks can be bypassed by tampering with page or request"),e("li",null,"Allowing access to someone elses info by knowing the UUID"),e("li",null,"CORS allows untrusted origins")])],-1),Vw={__name:"10",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[Hw,Uw]),_:1},16))}},Ww=R(Vw,[["__file","/@slidev/slides/10.md"]]),zw=e("h1",null,"A01 How to Prevent",-1),Kw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Deny access by default"),e("li",null,"Avoid duplication of access control logic"),e("li",null,[i("Enforce "),e("strong",null,"user ownership"),i(" when manipulating data")])])],-1),Yw={__name:"11",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[zw,Kw]),_:1},16))}},Gw=R(Yw,[["__file","/@slidev/slides/11.md"]]),Qw=e("h1",null,"A01 Exercise",-1),Jw={class:"dense"},Zw=e("ul",null,[e("li",null,[i("The "),e("code",null,"/profile"),i(" route returns sensitive user data")]),e("li",null,[i("It takes a "),e("code",null,"username"),i(" query parameter to return the users info")])],-1),Xw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#dbd7caee"}},"GET http://localhost:3000/profile?username=alice")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#393a34"}},"GET http://localhost:3000/profile?username=alice")])])])],-1),e1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"23")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"23")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),t1={__name:"12",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[Qw,e("div",Jw,[Zw,Xw,X(l,We({},{ranges:[""]}),{default:T(()=>[e1]),_:1},16)])]),_:1},16)}}},n1=R(t1,[["__file","/@slidev/slides/12.md"]]),s1=e("h1",null,"A01 The problem",-1),o1={class:"dense"},l1=e("ul",null,[e("li",null,[i("Run the server for step 1 ("),e("code",null,"cd src/a01-access-control"),i(", "),e("code",null,"npm start"),i(")")]),e("li",null,"In Postman, run the query for A01: Access Control. Observe the data for Alice being returned"),e("li",null,[i("Now change the "),e("code",null,"username"),i(" query parameter to "),e("code",null,"bob"),i(". Result:")])],-1),r1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"31")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"31")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),a1=e("ul",null,[e("li",null,"Bobs data is being exposed! Remember were logged in as Alice and shouldnt see Bobs data")],-1),i1={__name:"13",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[s1,e("div",o1,[l1,X(l,We({},{ranges:[""]}),{default:T(()=>[r1]),_:1},16),a1])]),_:1},16)}}},c1=R(i1,[["__file","/@slidev/slides/13.md"]]),p1=e("h1",null,"A01 Fixing it ",-1),u1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the automated tests for step 1 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldnt return Bobs data"),e("li",null,[i("Edit the "),e("code",null,"/profile"),i(" route in the exercise folder to return only the "),e("code",null,"logged-in"),i(" users profile without exposing other peoples profiles")]),e("li",null,[i(" The server uses "),e("a",{href:"https://github.com/fastify/fastify-jwt",target:"_blank",rel:"noopener"},"fastify-jwt"),i(" to handle authentication")])])],-1),d1={__name:"14",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[p1,u1]),_:1},16))}},f1=R(d1,[["__file","/@slidev/slides/14.md"]]),h1=e("h1",null,"A01 Solution ",-1),y1={class:"dense"},m1=e("ul",null,[e("li",null,[i("The issue comes from the usage of a user-supplied "),e("code",null,"query"),i(" parameter to choose which profiles info to check")]),e("li",null,[i("The server should instead fetch the only the "),e("code",null,"logged-in"),i(" users info and reply with "),e("code",null,"403"),i(" in other cases")])],-1),g1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"//  We get the username from the logged in user, not from the query!")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"query"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// if does not match with the user's one, return a 403 Forbidden error")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"//  We get the username from the logged in user, not from the query!")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// if does not match with the user's one, return a 403 Forbidden error")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),v1={__name:"15",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[h1,e("div",y1,[m1,X(l,We({},{ranges:[""]}),{default:T(()=>[g1]),_:1},16)])]),_:1},16)}}},_1=R(v1,[["__file","/@slidev/slides/15.md"]]),A1=e("h1",null,"A02 Cryptographic Failures",-1),w1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A02_2021-Cryptographic_Failures/",target:"_blank",rel:"noopener"},"A02: Cryptographic Failures")]),e("li",null,[i("Weak or inexistent "),e("strong",null,"cryptography"),i(" of sensitive data")]),e("li",null,"Passwords, credit card numbers, health records, personal information, business secrets"),e("li",null,"Anything protected by privacy laws or other regulations")])],-1),b1={__name:"16",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[A1,w1]),_:1},16))}},E1=R(b1,[["__file","/@slidev/slides/16.md"]]),D1=e("h1",null,"A02 Common vulnerabilities",-1),k1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Weak or outdated cryptographic algorithms like "),e("strong",null,"md5 ")]),e("li",null,"Weak secret keys, default ones, keys from online tutorials, keys checked in source control"),e("li",null,[i("Lack of traffic encryption ("),e("strong",null,"HTTPS"),i(")")]),e("li",null,"Insufficient entropy in seed generation")])],-1),C1={__name:"17",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[D1,k1]),_:1},16))}},B1=R(C1,[["__file","/@slidev/slides/17.md"]]),x1=e("h1",null,"A02 How to Prevent",-1),S1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Check sensitive data is well "),e("strong",null,"encrypted"),i(". Avoid storing sensitive data unnecessarily")]),e("li",null,"Use up to date and strong standard algorithms"),e("li",null,[i("Proper key/secrets management ("),e("strong",null,"private keys in git "),i(")")]),e("li",null,"Disable caching for responses that contain sensitive data")])],-1),$1={__name:"18",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[x1,S1]),_:1},16))}},T1=R($1,[["__file","/@slidev/slides/18.md"]]),P1=e("h1",null,"A02 A weak hashing algorithm",-1),F1={class:"dense"},O1=e("ul",null,[e("li",null,[i("The "),e("code",null,"/all-data"),i(" endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach")]),e("li",null,[i("Result of the "),e("code",null,"all-data"),i(" endpoint")])],-1),I1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"[")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#C98A7DAA"}},'"')]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#C98A7DAA"}},'"')]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"]")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"[")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#B56959AA"}},'"')]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#B56959AA"}},'"')]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"]")])])])],-1),R1={__name:"19",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[P1,e("div",F1,[O1,X(l,We({},{ranges:[""]}),{default:T(()=>[I1]),_:1},16)])]),_:1},16)}}},L1=R(R1,[["__file","/@slidev/slides/19.md"]]),M1=e("h1",null,"A02 The problem",-1),q1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Using the "),e("code",null,"/all-data"),i(" route, find Alices encrypted password")]),e("li",null,"With this encrypted password hash, try to find the original unencrypted password Alice created"),e("li",null,"the Postman collection contains requests for doing the queries"),e("li",null," There are websites to decrypt md5")])],-1),N1={__name:"20",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[M1,q1]),_:1},16))}},j1=R(N1,[["__file","/@slidev/slides/20.md"]]),H1=e("h1",null,"A02 Fixing it ",-1),U1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"md5 encryption is vulnerable and shouldnt be used"),e("li",null,[i("In "),e("code",null,"src/a02-cryptographic-failure"),i(", fix the encryption used to be a strong algorithm instead of md5")]),e("li",null,[i("Using "),e("a",{href:"https://www.npmjs.com/package/bcrypt",target:"_blank",rel:"noopener"},"bcrypt"),i(" is a good idea for passwords")]),e("li",null,[i("The application exposes a "),e("code",null,"/change-password"),i(" route used to change a users password")])])],-1),V1={__name:"21",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[H1,U1]),_:1},16))}},W1=R(V1,[["__file","/@slidev/slides/21.md"]]),z1=e("h1",null,"A02 Solution ",-1),K1={class:"dense"},Y1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/encryption.js")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"compare"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"bcrypt"),e("span",{style:{color:"#C98A7DAA"}},"'")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"saltRounds"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"10")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"encryptPassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"hash"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"saltRounds"),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/encryption.js")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"compare"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"bcrypt"),e("span",{style:{color:"#B56959AA"}},"'")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"10")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"encryptPassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"hash"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),G1={__name:"22",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[z1,e("div",K1,[X(l,We({},{ranges:[""]}),{default:T(()=>[Y1]),_:1},16)])]),_:1},16)}}},Q1=R(G1,[["__file","/@slidev/slides/22.md"]]),J1=e("h1",null,"A02 Solution  (2)",-1),Z1={class:"dense"},X1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/encryption.js")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"compare"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/encryption.js")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"compare"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),e0={__name:"23",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[J1,e("div",Z1,[X(l,We({},{ranges:[""]}),{default:T(()=>[X1]),_:1},16)])]),_:1},16)}}},t0=R(e0,[["__file","/@slidev/slides/23.md"]]),n0=e("h1",null,"A03 Injection ",-1),s0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A03_2021-Injection/",target:"_blank",rel:"noopener"},"A03: Injection")]),e("li",null,"Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server"),e("li",null,"Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover."),e("li",null,[i("Common targets: "),e("strong",null,"SQL, NoSQL, ORM, LDAP, JS eval")])])],-1),o0={__name:"24",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[n0,s0]),_:1},16))}},l0=R(o0,[["__file","/@slidev/slides/24.md"]]),r0=e("h1",null,"A03 Common vulnerabilities",-1),a0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Lack of validation or "),e("strong",null,"sanitization"),i(" of user input")]),e("li",null,[i("Dynamic queries or non-parameterized calls without context-aware "),e("strong",null,"escaping"),i(" are used directly in the interpreter")]),e("li",null,[i("Hostile data is used within object-relational mapping (ORM) "),e("strong",null,"search parameters"),i(" to extract additional, sensitive records")])])],-1),i0={__name:"25",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[r0,a0]),_:1},16))}},c0=R(i0,[["__file","/@slidev/slides/25.md"]]),p0=e("h1",null,"A03 Attack",-1),u0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the server for step 3 ("),e("code",null,"cd src/a03-injection"),i(", "),e("code",null,"npm start"),i(")")]),e("li",null,[i("In Postman, run the query for "),e("code",null,"A03: Get customer by name"),i(". Observe the data for "),e("code",null,'name: "alice"'),i(" being returned")]),e("li",null,[i("Try to run the query for "),e("code",null,"A03: SQL Injection"),i(". Observe all the customers being returned")]),e("li",null,[i("The query param value "),e("code",null,"' OR '1'='1"),i(" takes advantage of the unsafe string concatenation to create this SQL query "),e("code",null,"SELECT * FROM customers WHERE name='' OR '1'='1'"),i(" which will return every record in the table")])])],-1),d0={__name:"26",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[p0,u0]),_:1},16))}},f0=R(d0,[["__file","/@slidev/slides/26.md"]]),h0=e("h1",null,"A03 Fixing it ",-1),y0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i(" Prefer using a safe API that "),e("strong",null,"sanitizes input"),i(" e.g "),e("code",null,"@nearform/sql")]),e("li",null,[e("strong",null,"Escape special characters"),i(" using the specific escape syntax for that interpreter")]),e("li",null,"Avoid user-supplied table names or column names as they cannot be escaped"),e("li",null,[e("strong",null,"Automated testing"),i(" of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged")])])],-1),m0={__name:"27",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[h0,y0]),_:1},16))}},g0=R(m0,[["__file","/@slidev/slides/27.md"]]),v0=e("h1",null,"A03 Solution ",-1),_0={class:"dense"},A0=e("ul",null,[e("li",null,[i("The "),e("code",null,"@nearform/sql"),i(" library escapes special characters contained in the users input")])],-1),w0=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// import SQL from '@nearform/sql'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"customer"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/customer"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"name"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"query")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"customers"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"name"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"customers"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#B8A965"}},"length"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"customers")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// import SQL from '@nearform/sql'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"customer"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/customer"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"name"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"name"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#998418"}},"length"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),b0={__name:"28",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[v0,e("div",_0,[A0,X(l,We({},{ranges:[""]}),{default:T(()=>[w0]),_:1},16)])]),_:1},16)}}},E0=R(b0,[["__file","/@slidev/slides/28.md"]]),D0=e("h1",null,"A04 Insecure Design",-1),k0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A04_2021-Insecure_Design/",target:"_blank",rel:"noopener"},"A04: Insecure Design")]),e("li",null,[i("Fundamental "),e("strong",null,"design flaws"),i(" of the software can cause security issues")]),e("li",null,"Those issues cannot be fixed by a better more secure code implementation"),e("li",null,"Failure to determine the level of security required during design")])],-1),C0={__name:"29",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[D0,k0]),_:1},16))}},B0=R(C0,[["__file","/@slidev/slides/29.md"]]),x0=e("h1",null,"A04 Examples",-1),S0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("A forgotten password flow with "),e("strong",null,[e("em",null,'"security questions"')]),i(" is insecure by design because more than one person can know the answer")]),e("li",null,"An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)"),e("li",null,[i("A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make "),e("strong",null,"hundreds of small booking requests"),i(" at once to block all seats, causing massive revenue loss")])])],-1),$0={__name:"30",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[x0,S0]),_:1},16))}},T0=R($0,[["__file","/@slidev/slides/30.md"]]),P0=e("h1",null,"A04 How to prevent",-1),F0=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Model threats for the application, all its flows and business logic"),e("li",null,"Continuously evaluate security requirement and design during the development lifecycle"),e("li",null,"Consider security rules and access controls for every user story"),e("li",null,[e("strong",null,"Use unit and integration tests"),i(" to verify the application is resistant to the threat model")])])],-1),O0={__name:"31",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[P0,F0]),_:1},16))}},I0=R(O0,[["__file","/@slidev/slides/31.md"]]),R0=e("h1",null,"A04 Exercise",-1),L0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("The "),e("code",null,"/buy-product"),i(" endpoint does not have protection against bots run by scalpers")]),e("li",null,"It means that someone can buy a lot of stock quickly and leave legitimate customers without any")])],-1),M0={__name:"32",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[R0,L0]),_:1},16))}},q0=R(M0,[["__file","/@slidev/slides/32.md"]]),N0=e("h1",null,"A04 Scalping",-1),j0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the server for step 4 ("),e("code",null,"cd src/a04-insecure-design"),i(", "),e("code",null,"npm start"),i(")")]),e("li",null,[i("In Postman, run the query for "),e("code",null,"A04: Buy product"),i(". Observe the data for "),e("code",null,"success: true"),i(" being returned")]),e("li",null,"Run the query many times in a row in a short period of time"),e("li",null,"Notice that there is no protection against multiple sequential purchases")])],-1),H0={__name:"33",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[N0,j0]),_:1},16))}},U0=R(H0,[["__file","/@slidev/slides/33.md"]]),V0=e("h1",null,"A04 Fixing it ",-1),W0=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Prefer using rate limiter for your routes"),e("li",null,[i(" Using "),e("a",{href:"https://github.com/fastify/fastify-rate-limit",target:"_blank",rel:"noopener"},[e("code",null,"fastify-rate-limit")]),i(" is a good idea for setting a rate limit")]),e("li",null,"Lets consider a scenario where a user can buy a maximum of two products per minute"),e("li",null,[i("Edit the "),e("code",null,"/buy-product"),i(" route in the exercise folder considering the scenario above")])])],-1),z0={__name:"34",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[V0,W0]),_:1},16))}},K0=R(z0,[["__file","/@slidev/slides/34.md"]]),Y0=e("h1",null,"A04 Solution ",-1),G0={class:"dense"},Q0=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// register the rateLimit plugin in the server.js file")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"register"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"rateLimit"),e("span",{style:{color:"#666666"}},")")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// register the rateLimit plugin in the server.js file")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"register"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"rateLimit"),e("span",{style:{color:"#999999"}},")")])])])],-1),J0=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// the rate limit is set to a maximum of two purchases per minute")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"ecommerce"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/buy-product"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"config"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"rateLimit"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"max"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"timeWindow"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"1 minute"),e("span",{style:{color:"#C98A7DAA"}},"'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"reply"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"reply"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"({"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#B8A965"}},"success"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// the rate limit is set to a maximum of two purchases per minute")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"ecommerce"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/buy-product"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"config"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"rateLimit"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"max"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"timeWindow"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"1 minute"),e("span",{style:{color:"#B56959AA"}},"'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"({"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#998418"}},"success"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Z0={__name:"35",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[Y0,e("div",G0,[X(l,We({},{ranges:[""]}),{default:T(()=>[Q0]),_:1},16),X(l,We({},{ranges:[""]}),{default:T(()=>[J0]),_:1},16)])]),_:1},16)}}},X0=R(Z0,[["__file","/@slidev/slides/35.md"]]),e3=e("h1",null,"A05 Security Misconfiguration",-1),t3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk"),e("li",null,[e("strong",null,"Badly configured"),i(" servers or services can lead to vulnerabilities")]),e("li",null,"With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration")])],-1),n3={__name:"36",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[e3,t3]),_:1},16))}},s3=R(n3,[["__file","/@slidev/slides/36.md"]]),o3=e("h1",null,"A05 Common Vulnerabilities",-1),l3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Improperly configured "),e("strong",null,"permissions"),i(" or security settings")]),e("li",null,"Unnecessary features enabled: open ports, services, accounts with elevated accesss"),e("li",null,[e("strong",null,"Default credentials"),i(" unchanged")]),e("li",null,"Out of date or vulnerable server"),e("li",null,"Stack trace from error handling revealing information to users")])],-1),r3={__name:"37",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[o3,l3]),_:1},16))}},a3=R(r3,[["__file","/@slidev/slides/37.md"]]),i3=e("h1",null,"A05 How to prevent",-1),c3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Repeatable, automated and fast to deploy environments"),e("li",null,"Different credentials should be used in each environment"),e("li",null,"Frequently review security updates, patches and permissions"),e("li",null,[i("A "),e("strong",null,"segmented architecture"),i(" increases security by separating components, tenants, containers or cloud security groups")]),e("li",null,[i("An automated "),e("strong",null,"test"),i(" to verify the effectiveness of the configurations")])])],-1),p3={__name:"38",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[i3,c3]),_:1},16))}},u3=R(p3,[["__file","/@slidev/slides/38.md"]]),d3=e("h1",null,"A05 Unsigned Cookies ",-1),f3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the server for step 5 ("),e("code",null,"cd src/a05-security-misconfiguration"),i(", "),e("code",null,"npm start"),i(")")]),e("li",null,[i("In Postman, run the query for "),e("code",null,"A05: Login"),i(". Observe a cookie with "),e("code",null,"userId=1"),i(" being returned")]),e("li",null,[i("Try to run the query for "),e("code",null,"A05: Profile"),i(". Observe the information about profile with "),e("code",null,"userId=1"),i(" being returned")]),e("li",null,[i("Try to "),e("a",{href:"https://learning.postman.com/docs/sending-requests/cookies/",target:"_blank",rel:"noopener"},"change the value of the cookie"),i(" to "),e("code",null,"userId=2"),i(". Observe information about "),e("code",null,"userId=2"),i(" being returned")])])],-1),h3={__name:"39",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[d3,f3]),_:1},16))}},y3=R(h3,[["__file","/@slidev/slides/39.md"]]),m3=e("h1",null,"A05 Fixing it ",-1),g3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i(" Cookie must always be "),e("strong",null,[e("a",{href:"https://github.com/fastify/fastify-cookie",target:"_blank",rel:"noopener"},"signed")]),i(" to ensure they are not getting tampered with on client-side by an attacker")]),e("li",null,[i("Its important to use "),e("strong",null,"httpOnly"),i(" cookies to prevent the cookie being accessed through client side script")]),e("li",null,[i("Store the "),e("strong",null,"signing secret"),i(" safely.")]),e("li",null,"Dont store sentive information in cleartext")])],-1),v3={__name:"40",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[m3,g3]),_:1},16))}},_3=R(v3,[["__file","/@slidev/slides/40.md"]]),A3=e("h1",null,"A05 Solution ",-1),w3={class:"dense"},b3=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"login"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/login"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"schema"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"},"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"rep"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"body")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"username"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"No matching user found"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"passwordMatch"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"passwordMatch"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Invalid Password"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BF9763"}},"rep"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"setCookie"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"userId"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"stringify"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"id"),e("span",{style:{color:"#666666"}},"),"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"signed"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"//  signing the cookie")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"httpOnly"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// http only")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"user logged in"),e("span",{style:{color:"#C98A7DAA"}},"'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"login"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/login"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"schema"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"},"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"username"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"No matching user found"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Invalid Password"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"setCookie"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"userId"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"stringify"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},"),"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"signed"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"//  signing the cookie")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"httpOnly"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// http only")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"user logged in"),e("span",{style:{color:"#B56959AA"}},"'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),E3={__name:"41",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[A3,e("div",w3,[X(l,We({},{ranges:[""]}),{default:T(()=>[b3]),_:1},16)])]),_:1},16)}}},D3=R(E3,[["__file","/@slidev/slides/41.md"]]),k3=e("h1",null,"A05 Solution  (2)",-1),C3={class:"dense"},B3=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profile"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"value"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"id"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"valid"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"unsignCookie"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"//unsign the cookie and check validity")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BF9763"}},"cookies"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BF9763"}},"userId"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"||"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"''")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"valid"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"// check if the cookie has been tampered")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"id"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profile"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"value"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"unsignCookie"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"//unsign the cookie and check validity")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"userId"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"||"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"''")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"// check if the cookie has been tampered")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"id"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),x3={__name:"42",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[k3,e("div",C3,[X(l,We({},{ranges:[""]}),{default:T(()=>[B3]),_:1},16)])]),_:1},16)}}},S3=R(x3,[["__file","/@slidev/slides/42.md"]]),$3=e("h1",null,"A06 Vulnerable and Outdated Components",-1),T3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Applications use a variety of components and libraries which can have security issues"),e("li",null,"Vulnerable components can be an attack vector until they are patched"),e("li",null,[i("Particularly relevant in the node.js world with an ever-growing "),e("strong",null,"NPM dependency tree")])])],-1),P3={__name:"43",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[$3,T3]),_:1},16))}},F3=R(P3,[["__file","/@slidev/slides/43.md"]]),O3=e("h1",null,"A06 Common Vulnerabilities",-1),I3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Not "),e("strong",null,"tracking versions"),i(" of used components, including nested dependencies")]),e("li",null,"Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes"),e("li",null,[i("Not "),e("strong",null,"scanning for vulnerabilities"),i(" regularly and subscribing to security news for used components")]),e("li",null,"Not fixing vulnerable dependencies in a timely fashion")])],-1),R3={__name:"44",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[O3,I3]),_:1},16))}},L3=R(R3,[["__file","/@slidev/slides/44.md"]]),M3=e("h1",null,"A06 How to prevent",-1),q3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Remove "),e("strong",null,"unused dependencies"),i(", unnecessary features, components, files, and documentation")]),e("li",null,"Continuously inventory the versions of components and their dependencies"),e("li",null,[i("Monitor for libraries and components that are "),e("strong",null,"unmaintained"),i(" or do not create security patches for older versions")]),e("li",null,[i("Only obtain components from "),e("strong",null,"official"),i(" sources over secure links")])])],-1),N3={__name:"45",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[M3,q3]),_:1},16))}},j3=R(N3,[["__file","/@slidev/slides/45.md"]]),H3=e("h1",null,"A06 The attack ",-1),U3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the server for step 6 ("),e("code",null,"cd src/a06-vulnerable-outdated"),i(", "),e("code",null,"npm start"),i(")")]),e("li",null,[i("In Postman, run the query for "),e("code",null,"A06: Profile"),i(". Observe error "),e("code",null,"404"),i(" being returned")]),e("li",null,[i("Try to run the query for "),e("code",null,"A06: Exploit vulnerability"),i(". Observe the error message response")])])],-1),V3={__name:"46",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[H3,U3]),_:1},16))}},W3=R(V3,[["__file","/@slidev/slides/46.md"]]),z3=e("h1",null,"A06 The attack (2)",-1),K3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Because of an outdated version of the HTTP client library "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici",target:"_blank",rel:"noopener"},"undici")]),i(" we can exploit a known "),e("strong",null,[e("a",{href:"https://www.cvedetails.com/cve/CVE-2022-35949/",target:"_blank",rel:"noopener"},"vulnerability")])]),e("li",null,[i("By passing the value "),e("code",null,"//127.0.0.1"),i(" in the username query param, we override the original hostname and we can make the server perform a GET to "),e("code",null,"127.0.0.1:80")])])],-1),Y3={__name:"47",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[z3,K3]),_:1},16))}},G3=R(Y3,[["__file","/@slidev/slides/47.md"]]),Q3=e("h1",null,"A06 Fixing it ",-1),J3=e("div",{class:"dense"},[e("ul",null,[e("li",null," Update the library to a version in which this vulnerability was fixed")])],-1),Z3={__name:"48",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[Q3,J3]),_:1},16))}},X3=R(Z3,[["__file","/@slidev/slides/48.md"]]),eb=e("h1",null,"A06 The Solution ",-1),tb={class:"dense"},nb=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"request"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"undici"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// updated undici version >= 5.8.1")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"query")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#4D9375"}},"^"),e("span",{style:{color:"#E6CC77"}},"\\/"),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"test"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},"))"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"        "),e("span",{style:{color:"#758575DD"}},"// check username doesn't start with /")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"({")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"origin"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://example.com"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"pathname"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"200"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"request"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"undici"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// updated undici version >= 5.8.1")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#1E754F"}},"^"),e("span",{style:{color:"#BDA437"}},"\\/"),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"test"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},"))"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"        "),e("span",{style:{color:"#A0ADA0"}},"// check username doesn't start with /")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"({")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"origin"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"http://example.com"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"pathname"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"200"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),sb={__name:"49",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[eb,e("div",tb,[X(l,We({},{ranges:[""]}),{default:T(()=>[nb]),_:1},16)])]),_:1},16)}}},ob=R(sb,[["__file","/@slidev/slides/49.md"]]),lb=e("h1",null,"A07 Identification and Authentication Failures",-1),rb=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Verification of the users identity, "),e("strong",null,"authentication"),i(", and session management is crucial to security")]),e("li",null,"Weak or vulnerable authentication systems can be exploited to gain access"),e("li",null,"Systems with broken authentication can lead to data breaches and passwords leak")])],-1),ab={__name:"50",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[lb,rb]),_:1},16))}},ib=R(ab,[["__file","/@slidev/slides/50.md"]]),cb=e("h1",null,"A07 Common Vulnerabilities",-1),pb=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Application allows for credentials stuffing or brute forcing"),e("li",null,"Allows default, weak or known passwords"),e("li",null,"Exploitable credential recovery processes"),e("li",null,[i("Lack of effective "),e("strong",null,"multi-factor authentication")]),e("li",null,[i("Unencrypted or weakly encrypted "),e("strong",null,"password storage")])])],-1),ub={__name:"51",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[cb,pb]),_:1},16))}},db=R(ub,[["__file","/@slidev/slides/51.md"]]),fb=e("h1",null,"A07 How to prevent",-1),hb=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Where possible, implement "),e("strong",null,"multi-factor authentication")]),e("li",null,[i("Require "),e("strong",null,"strong passwords"),i(" (length, complexity, rotation policies, and dont allow leaked passwords use)")]),e("li",null,"Ensure registration and credential recovery use the same messages for all outcomes"),e("li",null,"Limit or increasingly delay failed login attempts"),e("li",null,"Use secure password data store practices (salting + hashing)")])],-1),yb={__name:"52",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[fb,hb]),_:1},16))}},mb=R(yb,[["__file","/@slidev/slides/52.md"]]),gb=e("h1",null,"A07 Allowing leaked passwords ",-1),vb=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("In 2017 the NIST "),e("strong",null,[e("a",{href:"https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value",target:"_blank",rel:"noopener"},"recommended")]),i(" that websites should check all new passwords against available lists of data breaches.")]),e("li",null,[i("This practice has been adopted by OWASP and became part of their "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.",target:"_blank",rel:"noopener"},"recommendation")]),i(".")]),e("li",null,[i("In the real scenario you should try to use something like "),e("strong",null,[e("a",{href:"https://haveibeenpwned.com/Passwords",target:"_blank",rel:"noopener"},"Have I Been Pwned")])])])],-1),_b={__name:"53",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[gb,vb]),_:1},16))}},Ab=R(_b,[["__file","/@slidev/slides/53.md"]]),wb=e("h1",null,"A07 Allowing leaked passwords  (2)",-1),bb=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("In the workshop - the database contains the list of leaked passwords in "),e("code",null,"databreachrecords")]),e("li",null,[i("Run the server for step 7 ("),e("code",null,"cd src/a07-authentication-failures"),i(", "),e("code",null,"npm start"),i(")")]),e("li",null,[i("In Postman, run the query for "),e("code",null,"A07: Register"),i(". Observe a token is succesfully returned")]),e("li",null,[i("In the database check the "),e("code",null,"databreachrecords"),i(" table for password used in the Postman request body")])])],-1),Eb={__name:"54",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[wb,bb]),_:1},16))}},Db=R(Eb,[["__file","/@slidev/slides/54.md"]]),kb=e("h1",null,"A07 Allowing leaked passwords  (3)",-1),Cb=e("div",{class:"dense"},[e("ul",null,[e("li",null,"It should not allow to use passwords that are known to be leaked"),e("li",null,"Instead it should require the user to set a different password indicating what is the reason"),e("li",null,[i("Place your solution in the "),e("code",null,"routes/user/index.js")]),e("li",null,[i("Test it by running "),e("code",null,"npm run verify"),i(" (it will fail initially)")])])],-1),Bb={__name:"55",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[kb,Cb]),_:1},16))}},xb=R(Bb,[["__file","/@slidev/slides/55.md"]]),Sb=e("h1",null,"A07 Fixing it ",-1),$b=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i(" Using data available in "),e("code",null,"dataBreachRecords"),i(" check if requested password is safe to use")]),e("li",null,[i("Run "),e("code",null,"sql"),i(" query inside the "),e("code",null,"/register"),i(" endpoint to check if the password is there")]),e("li",null,[i("Return a "),e("code",null,"400"),i(" error with "),e("code",null,"message"),i(" indicating the source of the leak: "),e("code",null,"'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'")])])],-1),Tb={__name:"56",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[Sb,$b]),_:1},16))}},Pb=R(Tb,[["__file","/@slidev/slides/56.md"]]),Fb=e("h1",null,"A07 Solution ",-1),Ob={class:"dense"},Ib=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"breach"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"password"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"breach"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"res"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"breach"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"source"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#C98A7DAA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"password"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"res"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"breach"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"source"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#B56959AA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Rb={__name:"57",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[Fb,e("div",Ob,[X(l,We({},{ranges:[""]}),{default:T(()=>[Ib]),_:1},16)])]),_:1},16)}}},Lb=R(Rb,[["__file","/@slidev/slides/57.md"]]),Mb=e("h1",null,"A08 Software and Data Integrity Failures",-1),qb=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Code and infrastructure not protected against "),e("strong",null,"integrity violations")]),e("li",null,"Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users")])],-1),Nb={__name:"58",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[Mb,qb]),_:1},16))}},jb=R(Nb,[["__file","/@slidev/slides/58.md"]]),Hb=e("h1",null,"A08 Common Vulnerabilities",-1),Ub=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Libraries coming from "),e("strong",null,"untrusted sources"),i(", repos or CDNs")]),e("li",null,[i("Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to "),e("strong",null,"insecure deserialization")]),e("li",null,"An insecure CI/CD pipeline"),e("li",null,"Updates downloaded without sufficient integrity verification")])],-1),Vb={__name:"59",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[Hb,Ub]),_:1},16))}},Wb=R(Vb,[["__file","/@slidev/slides/59.md"]]),zb=e("h1",null,"A08 How to prevent",-1),Kb=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Using digital signatures for integrity checks on data and downloaded software"),e("li",null,[i("Ensure "),e("strong",null,"npm dependencies"),i(" are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies")]),e("li",null,"Use automated tools to verify that components dont contain known vulnerabilities"),e("li",null,"Ensure there are code reviews for changes to minimise the risk of malicious code being introduced")])],-1),Yb={__name:"60",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[zb,Kb]),_:1},16))}},Gb=R(Yb,[["__file","/@slidev/slides/60.md"]]),Qb=e("h1",null,"A08 Exercise: Insecure Deserialization",-1),Jb=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the server for step 8 ("),e("code",null,"cd src/a08-software-data-integrity-failures"),i(", "),e("code",null,"npm start"),i(")")]),e("li",null,[i("In Postman, try to run the query for "),e("code",null,"A08: Get profile from cookie"),i(". There is a cookie attached to the request "),e("code",null,"/profile"),i(" containing the users profile encoded as base64. Observe the request "),e("code",null,"status code 500"),i(" being returned")]),e("li",null,[i("This is happening because the server is deserializing a "),e("code",null,"cookie containing a malicious JavaScript"),i(" code which is forcing the server to throw an exception")])])],-1),Zb={__name:"61",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[Qb,Jb]),_:1},16))}},Xb=R(Zb,[["__file","/@slidev/slides/61.md"]]),eE=e("h1",null,"A08 Exercise: Insecure Deserialization",-1),tE={class:"dense"},nE=e("ul",null,[e("li",null,[i("When decoding the cookie attached to the "),e("code",null,"/profile"),i(" request, this is what the output looks like:")])],-1),sE=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// base64 to ASCII")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"id"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"username"),e("span",{style:{color:"#666666"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"_$$ND_FUNC$$_function () {"),e("span",{style:{color:"#C99076"}},"\\n"),e("span",{style:{color:"#C98A7D"}},"    throw new Error('server error')"),e("span",{style:{color:"#C99076"}},"\\n"),e("span",{style:{color:"#C98A7D"}},"  }()"),e("span",{style:{color:"#C98A7DAA"}},'"')]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// base64 to ASCII")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"id"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"username"),e("span",{style:{color:"#999999"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"_$$ND_FUNC$$_function () {"),e("span",{style:{color:"#A65E2B"}},"\\n"),e("span",{style:{color:"#B56959"}},"    throw new Error('server error')"),e("span",{style:{color:"#A65E2B"}},"\\n"),e("span",{style:{color:"#B56959"}},"  }()"),e("span",{style:{color:"#B56959AA"}},'"')]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),oE=e("ul",null,[e("li",null,[i("Note that there is an "),e("code",null,"IIFE"),i(" at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization")]),e("li",null,[i("The full step by step to serialize a JavaScript code and inject it as a cookie can be found "),e("a",{href:"https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/",target:"_blank",rel:"noopener"},"in this article")])],-1),lE={__name:"62",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[eE,e("div",tE,[nE,X(l,We({},{ranges:[""]}),{default:T(()=>[sE]),_:1},16),oE])]),_:1},16)}}},rE=R(lE,[["__file","/@slidev/slides/62.md"]]),aE=e("h1",null,"A08 Fixing it ",-1),iE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the automated tests for step 8 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldnt trust a library that provides a way to deserialize strings into executable JavaScript code"),e("li",null,[i("Untrusted data passed into "),e("code",null,"unserialize()"),i(" function in "),e("code",null,"node-serialize"),i(" module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)")]),e("li",null,[i(" "),e("code",null,"JSON.parse"),i(" is a safer way to deserialize data")])])],-1),cE={__name:"63",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[aE,iE]),_:1},16))}},pE=R(cE,[["__file","/@slidev/slides/63.md"]]),uE=e("h1",null,"A08 Solution ",-1),dE={class:"dense"},fE=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"solution"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"cookieAsStr"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"Buffer"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"from"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"cookies"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"base64"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")."),e("span",{style:{color:"#80A665"}},"toString"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"ascii"),e("span",{style:{color:"#C98A7DAA"}},"'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"parse"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"cookieAsStr"),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"+"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello guest"),e("span",{style:{color:"#C98A7DAA"}},"'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"solution"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"Buffer"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"from"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"base64"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")."),e("span",{style:{color:"#59873A"}},"toString"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"ascii"),e("span",{style:{color:"#B56959AA"}},"'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"parse"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Hello "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"+"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Hello guest"),e("span",{style:{color:"#B56959AA"}},"'")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),hE={__name:"64",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[uE,e("div",dE,[X(l,We({},{ranges:[""]}),{default:T(()=>[fE]),_:1},16)])]),_:1},16)}}},yE=R(hE,[["__file","/@slidev/slides/64.md"]]),mE=e("h1",null,"A09 Security Logging and Monitoring Failures",-1),gE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Proper logging and monitoring is "),e("strong",null,"critical"),i(" to detecting and responding to breaches")]),e("li",null,"It is important for alerting, accountability, visibility and forensics of security incidents")])],-1),vE={__name:"65",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[mE,gE]),_:1},16))}},_E=R(vE,[["__file","/@slidev/slides/65.md"]]),AE=e("h1",null,"A09 Common Vulnerabilities",-1),wE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Auditable events, such as logins, failed logins, and "),e("strong",null,"high-value transactions"),i(", are not logged")]),e("li",null,"Warnings and errors generate no, inadequate, or unclear log messages"),e("li",null,[i("Logs of applications and APIs are not monitored for "),e("strong",null,"suspicious activity")]),e("li",null,"The application cannot detect, escalate, or alert for active attacks in real-time or near real-time")])],-1),bE={__name:"66",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[AE,wE]),_:1},16))}},EE=R(bE,[["__file","/@slidev/slides/66.md"]]),DE=e("h1",null,"A09 How to prevent",-1),kE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Ensure all login, access control, and server-side input validation failures can be logged with "),e("strong",null,"sufficient user context"),i(" to identify suspicious or malicious accounts")]),e("li",null,"Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems"),e("li",null,"Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.")])],-1),CE={__name:"67",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[DE,kE]),_:1},16))}},BE=R(CE,[["__file","/@slidev/slides/67.md"]]),xE=e("h1",null,"A09 Suspicious activity ",-1),SE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the server for step 5 ("),e("code",null,"cd src/a09-security-logging"),i(", "),e("code",null,"npm run verify"),i(")")]),e("li",null,[i("You can observe a log message "),e("code",null,"something suspicious is happening")]),e("li",null,[i("Note that the application is using a vulnerable version of the http client "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3",target:"_blank",rel:"noopener"},"undici")])])])],-1),$E={__name:"68",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[xE,SE]),_:1},16))}},TE=R($E,[["__file","/@slidev/slides/68.md"]]),PE=e("h1",null,"A09 Fixing it ",-1),FE=e("div",{class:"dense"},[e("ul",null,[e("li",null," Log user input to identify suspicious or malicious access"),e("li",null,"Validate user input")])],-1),OE={__name:"69",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[PE,FE]),_:1},16))}},IE=R(OE,[["__file","/@slidev/slides/69.md"]]),RE=e("h1",null,"A09 Solution ",-1),LE={class:"dense"},ME=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// profile route handler")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"console"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"log"),e("span",{style:{color:"#666666"}},"({")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// add context to logs to help identify the user")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"input"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"headerCharRegex"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#C4704F"}}," "),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#CB7676"}},"^"),e("span",{style:{color:"#C99076"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#666666"}},"]"),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate user input")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"headerCharRegex"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"exec"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"])"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"null"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://localhost:3001"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"method"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"GET"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"headers"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// profile route handler")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"console"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"log"),e("span",{style:{color:"#999999"}},"({")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// add context to logs to help identify the user")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"input"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#AB5E3F"}}," "),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#AB5959"}},"^"),e("span",{style:{color:"#A65E2B"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#999999"}},"]"),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate user input")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"exec"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"])"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"null"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"http://localhost:3001"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"method"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"GET"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"headers"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),qE={__name:"70",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[RE,e("div",LE,[X(l,We({},{ranges:[""]}),{default:T(()=>[ME]),_:1},16)])]),_:1},16)}}},NE=R(qE,[["__file","/@slidev/slides/70.md"]]),jE=e("h1",null,"A10 Server Side Request Forgery",-1),HE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("SSRF flaws occur whenever a web application is fetching a remote resource without "),e("strong",null,"validating"),i(" the user-supplied URL")]),e("li",null,[i("It allows an attacker to coerce the application to send a crafted request to an "),e("strong",null,"unexpected destination"),i(", even when protected by a firewall, VPN, or another type of network access control list")])])],-1),UE={__name:"71",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[jE,HE]),_:1},16))}},VE=R(UE,[["__file","/@slidev/slides/71.md"]]),WE=e("h1",null,"A10 How to prevent",-1),zE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("strong",null,"Sanitize and validate"),i(" all client-supplied input data")]),e("li",null,"Enforce the URL schema, port, and destination with a positive allow list"),e("li",null,"Do not send raw responses to clients"),e("li",null,"Disable HTTP redirections"),e("li",null," Do not mitigate SSRF via the use of a deny list or regular expression")])],-1),KE={__name:"72",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[WE,zE]),_:1},16))}},YE=R(KE,[["__file","/@slidev/slides/72.md"]]),GE=e("h1",null,"A10 The Attack ",-1),QE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("Run the server for step 10 ("),e("code",null,"cd src/a10-server-side-request-forgery"),i(", "),e("code",null,"npm start"),i(")")]),e("li",null,[i("In Postman, run the query for "),e("code",null,"A10: Upload Image"),i(". Observe an image being returned")]),e("li",null,[i("Try to run the query for "),e("code",null,"A10: Malicious Image url"),i(". Observe "),e("code",null,"something suspicious is happening"),i(" being returned")]),e("li",null,"The server is not sanitizing user input so it will send a request to whatever url provided in the payload")])],-1),JE={__name:"73",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[GE,QE]),_:1},16))}},ZE=R(JE,[["__file","/@slidev/slides/73.md"]]),XE=e("h1",null,"A10 Fixing it ",-1),e7=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Sanitize the url making sure its valid"),e("li",null,[i("Create a whitelist of allowed domains by adding them in the database column "),e("code",null,"allowedImageDomain")]),e("li",null," Make sure the requested domain is in the whitelist")])],-1),t7={__name:"74",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[XE,e7]),_:1},16))}},n7=R(t7,[["__file","/@slidev/slides/74.md"]]),s7=e("h1",null,"A10 Solution ",-1),o7={class:"dense"},l7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profilePicture"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/user/image"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"imgUrl"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"body")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"url"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"validateUrl"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"imgUrl"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate url using the URL object")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"whitelisted"),e("span",{style:{color:"#666666"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"hostname"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"whitelisted"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"data"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"axios"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"href"),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"data")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profilePicture"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/user/image"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"validateUrl"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate url using the URL object")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},"]")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"hostname"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"axios"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"href"),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),r7={__name:"75",setup(t){const n={};return x(I),(s,o)=>{const l=Je;return A(),$(G,Y(z(n)),{default:T(()=>[s7,e("div",o7,[X(l,We({},{ranges:[""]}),{default:T(()=>[l7]),_:1},16)])]),_:1},16)}}},a7=R(r7,[["__file","/@slidev/slides/75.md"]]),i7=e("h1",null,"Beyond the Top 10",-1),c7=e("div",{class:"dense"},[e("ul",null,[e("li",null,"The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing"),e("li",null,"By its nature, the Top 10 is a series of guidelines but cant be tested easily as its applications are broad"),e("li",null,[i("On the other hand the "),e("a",{href:"https://owasp.org/www-project-application-security-verification-standard/",target:"_blank",rel:"noopener"},"OWASP Application Security Verification Standard"),i(" is a comprehensive list of security criteria")]),e("li",null,"Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail")])],-1),p7={__name:"76",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[i7,c7]),_:1},16))}},u7=R(p7,[["__file","/@slidev/slides/76.md"]]),d7=e("h1",null,"Other useful OWASP resources",-1),f7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[i("The "),e("a",{href:"https://cheatsheetseries.owasp.org",target:"_blank",rel:"noopener"},"OWASP Cheat Sheet Series"),i(" provides condensed information on specific security topics related to OWASP standards")]),e("li",null,[i("The "),e("a",{href:"https://owaspsamm.org",target:"_blank",rel:"noopener"},"OWASP Software Assurance Maturity Model"),i(" can help an organization analyze and improve their software security")])])],-1),h7={__name:"77",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[d7,f7]),_:1},16))}},y7=R(h7,[["__file","/@slidev/slides/77.md"]]),m7=e("h1",null,"Thanks For Having Us!",-1),g7=e("h2",null,"",-1),v7={__name:"78",setup(t){const n={};return x(I),(s,o)=>(A(),$(G,Y(z(n)),{default:T(()=>[m7,g7]),_:1},16))}},_7=R(v7,[["__file","/@slidev/slides/78.md"]]),A7=[{path:"1",name:"page-1",component:HA,meta:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop",slide:{raw:`---
theme: slidev-theme-nearform
layout: default
highlighter: shiki
lineNumbers: false
---

<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>
`,title:"OWASP Top Ten Security Vulnerabilities Workshop",level:1,content:`<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>`,frontmatter:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop"},index:0,start:0,end:19,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:zA,meta:{slide:{raw:`
# Introduction: OWASP 

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>
`,title:"Introduction: OWASP ",level:1,content:`# Introduction: OWASP 

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>`,frontmatter:{},index:1,start:20,end:31,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:QA,meta:{slide:{raw:`
# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>
`,title:"Introduction: OWASP Top Ten",level:1,content:`# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>`,frontmatter:{},index:2,start:32,end:42,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:ew,meta:{slide:{raw:`
# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The  icon indicates hints

</div>
`,title:"Workshop Setup",level:1,content:`# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The  icon indicates hints

</div>`,frontmatter:{},index:3,start:43,end:56,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:bw,meta:{slide:{raw:`
# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>
`,title:"Getting setup",level:1,content:`# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>`,frontmatter:{},index:4,start:57,end:84,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:Sw,meta:{slide:{raw:`
# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000
`,title:"Running the modules",level:1,content:`# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000`,frontmatter:{},index:5,start:85,end:106,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:Fw,meta:{slide:{raw:`
# Testing the vulnerabilities

<div class="dense">

- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests
- The \`postman\` folder contains a collection that can be imported into Postman to easily send those requests
- The Postman collection is pre-logged in with user \`alice\`. The \`Bearer token\` is set that represents \`alice\`.

</div>
`,title:"Testing the vulnerabilities",level:1,content:'# Testing the vulnerabilities\n\n<div class="dense">\n\n- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests\n- The `postman` folder contains a collection that can be imported into Postman to easily send those requests\n- The Postman collection is pre-logged in with user `alice`. The `Bearer token` is set that represents `alice`.\n\n</div>',frontmatter:{},index:6,start:107,end:118,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:Lw,meta:{slide:{raw:`
# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>
`,title:"Automated testing",level:1,content:`# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>`,frontmatter:{},index:7,start:119,end:130,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:jw,meta:{slide:{raw:`
# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>
`,title:"A01 Broken Access Control",level:1,content:`# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>`,frontmatter:{},index:8,start:131,end:141,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:Ww,meta:{slide:{raw:`
# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>
`,title:"A01 Common vulnerabilities",level:1,content:`# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>`,frontmatter:{},index:9,start:142,end:154,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:Gw,meta:{slide:{raw:`
# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>
`,title:"A01 How to Prevent",level:1,content:`# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>`,frontmatter:{},index:10,start:155,end:166,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:n1,meta:{slide:{raw:`
# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>
`,title:"A01 Exercise",level:1,content:`# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>`,frontmatter:{},index:11,start:167,end:189,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:c1,meta:{slide:{raw:`
# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>
`,title:"A01 The problem",level:1,content:`# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>`,frontmatter:{},index:12,start:190,end:211,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:f1,meta:{slide:{raw:`
# A01 Fixing it 

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
-  The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>
`,title:"A01 Fixing it ",level:1,content:`# A01 Fixing it 

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
-  The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>`,frontmatter:{},index:13,start:212,end:224,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:_1,meta:{slide:{raw:`
# A01 Solution 

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username //  We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>
`,title:"A01 Solution ",level:1,content:`# A01 Solution 

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username //  We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>`,frontmatter:{},index:14,start:225,end:248,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:E1,meta:{slide:{raw:`
# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>
`,title:"A02 Cryptographic Failures",level:1,content:`# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>`,frontmatter:{},index:15,start:249,end:261,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:B1,meta:{slide:{raw:`
# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 **
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>
`,title:"A02 Common vulnerabilities",level:1,content:`# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 **
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>`,frontmatter:{},index:16,start:262,end:274,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:T1,meta:{slide:{raw:`
# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git **)
- Disable caching for responses that contain sensitive data

</div>
`,title:"A02 How to Prevent",level:1,content:`# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git **)
- Disable caching for responses that contain sensitive data

</div>`,frontmatter:{},index:17,start:275,end:287,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:L1,meta:{slide:{raw:`
# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>
`,title:"A02 A weak hashing algorithm",level:1,content:`# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>`,frontmatter:{},index:18,start:288,end:311,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:j1,meta:{slide:{raw:`
# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's encrypted password
- With this encrypted password hash, try to find the original unencrypted password Alice created
- the Postman collection contains requests for doing the queries
-  There are websites to decrypt md5

</div>
`,title:"A02 The problem",level:1,content:`# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's encrypted password
- With this encrypted password hash, try to find the original unencrypted password Alice created
- the Postman collection contains requests for doing the queries
-  There are websites to decrypt md5

</div>`,frontmatter:{},index:19,start:312,end:324,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:W1,meta:{slide:{raw:`
# A02 Fixing it 

<div class="dense">

- md5 encryption is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the encryption used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>
`,title:"A02 Fixing it ",level:1,content:`# A02 Fixing it 

<div class="dense">

- md5 encryption is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the encryption used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>`,frontmatter:{},index:20,start:325,end:337,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:Q1,meta:{slide:{raw:`
# A02 Solution 

<div class="dense">

\`\`\`js
// utils/encryption.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function encryptPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>
`,title:"A02 Solution ",level:1,content:`# A02 Solution 

<div class="dense">

\`\`\`js
// utils/encryption.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function encryptPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>`,frontmatter:{},index:21,start:338,end:356,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:t0,meta:{slide:{raw:`
# A02 Solution  (2)

<div class="dense">

\`\`\`js
// utils/encryption.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>
`,title:"A02 Solution  (2)",level:1,content:`# A02 Solution  (2)

<div class="dense">

\`\`\`js
// utils/encryption.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>`,frontmatter:{},index:22,start:357,end:371,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:l0,meta:{slide:{raw:`
# A03 Injection 

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>
`,title:"A03 Injection ",level:1,content:`# A03 Injection 

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>`,frontmatter:{},index:23,start:372,end:384,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:c0,meta:{slide:{raw:`
# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>
`,title:"A03 Common vulnerabilities",level:1,content:`# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>`,frontmatter:{},index:24,start:385,end:396,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:f0,meta:{slide:{raw:`
# A03 Attack

<div class="dense">

- Run the server for step 3 (\`cd src/a03-injection\`, \`npm start\`)
- In Postman, run the query for \`A03: Get customer by name\`. Observe the data for \`name: "alice"\` being returned
- Try to run the query for \`A03: SQL Injection\`. Observe all the customers being returned
- The query param value \`' OR '1'='1\` takes advantage of the unsafe string concatenation to create this SQL query
  \`SELECT * FROM customers WHERE name='' OR '1'='1'\` which will return every record in the table

</div>
`,title:"A03 Attack",level:1,content:"# A03 Attack\n\n<div class=\"dense\">\n\n- Run the server for step 3 (`cd src/a03-injection`, `npm start`)\n- In Postman, run the query for `A03: Get customer by name`. Observe the data for `name: \"alice\"` being returned\n- Try to run the query for `A03: SQL Injection`. Observe all the customers being returned\n- The query param value `' OR '1'='1` takes advantage of the unsafe string concatenation to create this SQL query\n  `SELECT * FROM customers WHERE name='' OR '1'='1'` which will return every record in the table\n\n</div>",frontmatter:{},index:25,start:397,end:410,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:g0,meta:{slide:{raw:`
# A03 Fixing it 

<div class="dense">

-  Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>
`,title:"A03 Fixing it ",level:1,content:`# A03 Fixing it 

<div class="dense">

-  Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>`,frontmatter:{},index:26,start:411,end:423,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:E0,meta:{slide:{raw:`
# A03 Solution 

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>
`,title:"A03 Solution ",level:1,content:`# A03 Solution 

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:27,start:424,end:453,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:B0,meta:{slide:{raw:`
# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>
`,title:"A04 Insecure Design",level:1,content:`# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>`,frontmatter:{},index:28,start:454,end:466,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:T0,meta:{slide:{raw:`
# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>
`,title:"A04 Examples",level:1,content:`# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>`,frontmatter:{},index:29,start:467,end:478,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",name:"page-31",component:I0,meta:{slide:{raw:`
# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>
`,title:"A04 How to prevent",level:1,content:`# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>`,frontmatter:{},index:30,start:479,end:491,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:30,no:31},__clicksElements:[],__preloaded:!1}},{path:"32",name:"page-32",component:q0,meta:{slide:{raw:`
# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>
`,title:"A04 Exercise",level:1,content:`# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>`,frontmatter:{},index:31,start:492,end:502,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:31,no:32},__clicksElements:[],__preloaded:!1}},{path:"33",name:"page-33",component:U0,meta:{slide:{raw:`
# A04 Scalping

<div class="dense">

- Run the server for step 4 (\`cd src/a04-insecure-design\`, \`npm start\`)
- In Postman, run the query for \`A04: Buy product\`. Observe the data for \`success: true\` being returned
- Run the query many times in a row in a short period of time
- Notice that there is no protection against multiple sequential purchases
</div>
`,title:"A04 Scalping",level:1,content:'# A04 Scalping\n\n<div class="dense">\n\n- Run the server for step 4 (`cd src/a04-insecure-design`, `npm start`)\n- In Postman, run the query for `A04: Buy product`. Observe the data for `success: true` being returned\n- Run the query many times in a row in a short period of time\n- Notice that there is no protection against multiple sequential purchases\n</div>',frontmatter:{},index:32,start:503,end:514,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:32,no:33},__clicksElements:[],__preloaded:!1}},{path:"34",name:"page-34",component:K0,meta:{slide:{raw:`
# A04 Fixing it 

<div class="dense">

- Prefer using rate limiter for your routes
-  Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>
`,title:"A04 Fixing it ",level:1,content:`# A04 Fixing it 

<div class="dense">

- Prefer using rate limiter for your routes
-  Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>`,frontmatter:{},index:33,start:515,end:527,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:33,no:34},__clicksElements:[],__preloaded:!1}},{path:"35",name:"page-35",component:X0,meta:{slide:{raw:`
# A04 Solution 

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>
`,title:"A04 Solution ",level:1,content:`# A04 Solution 

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:34,start:528,end:560,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:34,no:35},__clicksElements:[],__preloaded:!1}},{path:"36",name:"page-36",component:s3,meta:{slide:{raw:`
# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>
`,title:"A05 Security Misconfiguration",level:1,content:`# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>`,frontmatter:{},index:35,start:561,end:572,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:35,no:36},__clicksElements:[],__preloaded:!1}},{path:"37",name:"page-37",component:a3,meta:{slide:{raw:`
# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>
`,title:"A05 Common Vulnerabilities",level:1,content:`# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>`,frontmatter:{},index:36,start:573,end:586,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:36,no:37},__clicksElements:[],__preloaded:!1}},{path:"38",name:"page-38",component:u3,meta:{slide:{raw:`
# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>
`,title:"A05 How to prevent",level:1,content:`# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>`,frontmatter:{},index:37,start:587,end:600,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:37,no:38},__clicksElements:[],__preloaded:!1}},{path:"39",name:"page-39",component:y3,meta:{slide:{raw:'\n# A05 Unsigned Cookies \n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>\n',title:"A05 Unsigned Cookies ",level:1,content:'# A05 Unsigned Cookies \n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>',frontmatter:{},index:38,start:601,end:613,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:38,no:39},__clicksElements:[],__preloaded:!1}},{path:"40",name:"page-40",component:_3,meta:{slide:{raw:`
# A05 Fixing it 

<div class="dense">

-  Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>
`,title:"A05 Fixing it ",level:1,content:`# A05 Fixing it 

<div class="dense">

-  Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>`,frontmatter:{},index:39,start:614,end:626,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:39,no:40},__clicksElements:[],__preloaded:!1}},{path:"41",name:"page-41",component:D3,meta:{slide:{raw:`
# A05 Solution 

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, //  signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>
`,title:"A05 Solution ",level:1,content:`# A05 Solution 

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, //  signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>`,frontmatter:{},index:40,start:627,end:659,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:40,no:41},__clicksElements:[],__preloaded:!1}},{path:"42",name:"page-42",component:S3,meta:{slide:{raw:`
# A05 Solution  (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>
`,title:"A05 Solution  (2)",level:1,content:`# A05 Solution  (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>`,frontmatter:{},index:41,start:660,end:692,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:41,no:42},__clicksElements:[],__preloaded:!1}},{path:"43",name:"page-43",component:F3,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>
`,title:"A06 Vulnerable and Outdated Components",level:1,content:`# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>`,frontmatter:{},index:42,start:693,end:704,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:42,no:43},__clicksElements:[],__preloaded:!1}},{path:"44",name:"page-44",component:L3,meta:{slide:{raw:`
# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>
`,title:"A06 Common Vulnerabilities",level:1,content:`# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>`,frontmatter:{},index:43,start:705,end:717,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:43,no:44},__clicksElements:[],__preloaded:!1}},{path:"45",name:"page-45",component:j3,meta:{slide:{raw:`
# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>
`,title:"A06 How to prevent",level:1,content:`# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>`,frontmatter:{},index:44,start:718,end:730,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:44,no:45},__clicksElements:[],__preloaded:!1}},{path:"46",name:"page-46",component:W3,meta:{slide:{raw:'\n# A06 The attack \n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>\n',title:"A06 The attack ",level:1,content:'# A06 The attack \n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>',frontmatter:{},index:45,start:731,end:741,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:45,no:46},__clicksElements:[],__preloaded:!1}},{path:"47",name:"page-47",component:G3,meta:{slide:{raw:`
# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>
`,title:"A06 The attack (2)",level:1,content:`# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>`,frontmatter:{},index:46,start:742,end:751,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:46,no:47},__clicksElements:[],__preloaded:!1}},{path:"48",name:"page-48",component:X3,meta:{slide:{raw:`
# A06 Fixing it 

<div class="dense">

-  Update the library to a version in which this vulnerability was fixed

</div>
`,title:"A06 Fixing it ",level:1,content:`# A06 Fixing it 

<div class="dense">

-  Update the library to a version in which this vulnerability was fixed

</div>`,frontmatter:{},index:47,start:752,end:761,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:47,no:48},__clicksElements:[],__preloaded:!1}},{path:"49",name:"page-49",component:ob,meta:{slide:{raw:`
# A06 The Solution 

<div class="dense">

\`\`\`js
import { request } from 'undici' // updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>
`,title:"A06 The Solution ",level:1,content:`# A06 The Solution 

<div class="dense">

\`\`\`js
import { request } from 'undici' // updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:48,start:762,end:796,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:48,no:49},__clicksElements:[],__preloaded:!1}},{path:"50",name:"page-50",component:ib,meta:{slide:{raw:`
# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>
`,title:"A07 Identification and Authentication Failures",level:1,content:`# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>`,frontmatter:{},index:49,start:797,end:808,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:49,no:50},__clicksElements:[],__preloaded:!1}},{path:"51",name:"page-51",component:db,meta:{slide:{raw:`
# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>
`,title:"A07 Common Vulnerabilities",level:1,content:`# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>`,frontmatter:{},index:50,start:809,end:822,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:50,no:51},__clicksElements:[],__preloaded:!1}},{path:"52",name:"page-52",component:mb,meta:{slide:{raw:`
# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>
`,title:"A07 How to prevent",level:1,content:`# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>`,frontmatter:{},index:51,start:823,end:836,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:51,no:52},__clicksElements:[],__preloaded:!1}},{path:"53",name:"page-53",component:Ab,meta:{slide:{raw:`
# A07 Allowing leaked passwords 

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>
`,title:"A07 Allowing leaked passwords ",level:1,content:`# A07 Allowing leaked passwords 

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>`,frontmatter:{},index:52,start:837,end:848,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:52,no:53},__clicksElements:[],__preloaded:!1}},{path:"54",name:"page-54",component:Db,meta:{slide:{raw:`
# A07 Allowing leaked passwords  (2)

<div class="dense">

- In the workshop - the database contains the list of leaked passwords in \`databreachrecords\`
- Run the server for step 7 (\`cd src/a07-authentication-failures\`, \`npm start\`)
- In Postman, run the query for \`A07: Register\`. Observe a token is succesfully returned
- In the database check the \`databreachrecords\` table for password used in the Postman request body

</div>
`,title:"A07 Allowing leaked passwords  (2)",level:1,content:'# A07 Allowing leaked passwords  (2)\n\n<div class="dense">\n\n- In the workshop - the database contains the list of leaked passwords in `databreachrecords`\n- Run the server for step 7 (`cd src/a07-authentication-failures`, `npm start`)\n- In Postman, run the query for `A07: Register`. Observe a token is succesfully returned\n- In the database check the `databreachrecords` table for password used in the Postman request body\n\n</div>',frontmatter:{},index:53,start:849,end:861,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:53,no:54},__clicksElements:[],__preloaded:!1}},{path:"55",name:"page-55",component:xb,meta:{slide:{raw:`
# A07 Allowing leaked passwords  (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>
`,title:"A07 Allowing leaked passwords  (3)",level:1,content:`# A07 Allowing leaked passwords  (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>`,frontmatter:{},index:54,start:862,end:874,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:54,no:55},__clicksElements:[],__preloaded:!1}},{path:"56",name:"page-56",component:Pb,meta:{slide:{raw:"\n# A07 Fixing it \n\n<div class=\"dense\">\n\n-  Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>\n",title:"A07 Fixing it ",level:1,content:"# A07 Fixing it \n\n<div class=\"dense\">\n\n-  Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>",frontmatter:{},index:55,start:875,end:886,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:55,no:56},__clicksElements:[],__preloaded:!1}},{path:"57",name:"page-57",component:Lb,meta:{slide:{raw:`
# A07 Solution 

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>
`,title:"A07 Solution ",level:1,content:`# A07 Solution 

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>`,frontmatter:{},index:56,start:887,end:910,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:56,no:57},__clicksElements:[],__preloaded:!1}},{path:"58",name:"page-58",component:jb,meta:{slide:{raw:`
# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>
`,title:"A08 Software and Data Integrity Failures",level:1,content:`# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>`,frontmatter:{},index:57,start:911,end:921,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:57,no:58},__clicksElements:[],__preloaded:!1}},{path:"59",name:"page-59",component:Wb,meta:{slide:{raw:`
# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>
`,title:"A08 Common Vulnerabilities",level:1,content:`# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>`,frontmatter:{},index:58,start:922,end:934,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:58,no:59},__clicksElements:[],__preloaded:!1}},{path:"60",name:"page-60",component:Gb,meta:{slide:{raw:`
# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>
`,title:"A08 How to prevent",level:1,content:`# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>`,frontmatter:{},index:59,start:935,end:947,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:59,no:60},__clicksElements:[],__preloaded:!1}},{path:"61",name:"page-61",component:Xb,meta:{slide:{raw:'\n# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>\n',title:"A08 Exercise: Insecure Deserialization",level:1,content:'# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>',frontmatter:{},index:60,start:948,end:959,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:60,no:61},__clicksElements:[],__preloaded:!1}},{path:"62",name:"page-62",component:rE,meta:{slide:{raw:`
# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>
`,title:"A08 Exercise: Insecure Deserialization",level:1,content:`# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>`,frontmatter:{},index:61,start:960,end:981,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:61,no:62},__clicksElements:[],__preloaded:!1}},{path:"63",name:"page-63",component:pE,meta:{slide:{raw:`
# A08 Fixing it 

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
-  \`JSON.parse\` is a safer way to deserialize data

</div>
`,title:"A08 Fixing it ",level:1,content:`# A08 Fixing it 

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
-  \`JSON.parse\` is a safer way to deserialize data

</div>`,frontmatter:{},index:62,start:982,end:994,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:62,no:63},__clicksElements:[],__preloaded:!1}},{path:"64",name:"page-64",component:yE,meta:{slide:{raw:`
# A08 Solution 

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>
`,title:"A08 Solution ",level:1,content:`# A08 Solution 

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>`,frontmatter:{},index:63,start:995,end:1020,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:63,no:64},__clicksElements:[],__preloaded:!1}},{path:"65",name:"page-65",component:_E,meta:{slide:{raw:`
# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>
`,title:"A09 Security Logging and Monitoring Failures",level:1,content:`# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>`,frontmatter:{},index:64,start:1021,end:1031,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:64,no:65},__clicksElements:[],__preloaded:!1}},{path:"66",name:"page-66",component:EE,meta:{slide:{raw:`
# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>
`,title:"A09 Common Vulnerabilities",level:1,content:`# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>`,frontmatter:{},index:65,start:1032,end:1044,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:65,no:66},__clicksElements:[],__preloaded:!1}},{path:"67",name:"page-67",component:BE,meta:{slide:{raw:`
# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>
`,title:"A09 How to prevent",level:1,content:`# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>`,frontmatter:{},index:66,start:1045,end:1056,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:66,no:67},__clicksElements:[],__preloaded:!1}},{path:"68",name:"page-68",component:TE,meta:{slide:{raw:`
# A09 Suspicious activity 

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>
`,title:"A09 Suspicious activity ",level:1,content:`# A09 Suspicious activity 

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>`,frontmatter:{},index:67,start:1057,end:1068,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:67,no:68},__clicksElements:[],__preloaded:!1}},{path:"69",name:"page-69",component:IE,meta:{slide:{raw:`
# A09 Fixing it 

<div class="dense">

-  Log user input to identify suspicious or malicious access
- Validate user input

</div>
`,title:"A09 Fixing it ",level:1,content:`# A09 Fixing it 

<div class="dense">

-  Log user input to identify suspicious or malicious access
- Validate user input

</div>`,frontmatter:{},index:68,start:1069,end:1079,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:68,no:69},__clicksElements:[],__preloaded:!1}},{path:"70",name:"page-70",component:NE,meta:{slide:{raw:`
# A09 Solution 

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>
`,title:"A09 Solution ",level:1,content:`# A09 Solution 

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>`,frontmatter:{},index:69,start:1080,end:1109,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:69,no:70},__clicksElements:[],__preloaded:!1}},{path:"71",name:"page-71",component:VE,meta:{slide:{raw:`
# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>
`,title:"A10 Server Side Request Forgery",level:1,content:`# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>`,frontmatter:{},index:70,start:1110,end:1120,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:70,no:71},__clicksElements:[],__preloaded:!1}},{path:"72",name:"page-72",component:YE,meta:{slide:{raw:`
# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
-  Do not mitigate SSRF via the use of a deny list or regular expression

</div>
`,title:"A10 How to prevent",level:1,content:`# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
-  Do not mitigate SSRF via the use of a deny list or regular expression

</div>`,frontmatter:{},index:71,start:1121,end:1134,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:71,no:72},__clicksElements:[],__preloaded:!1}},{path:"73",name:"page-73",component:ZE,meta:{slide:{raw:`
# A10 The Attack 

<div class="dense">

- Run the server for step 10 (\`cd src/a10-server-side-request-forgery\`, \`npm start\`)
- In Postman, run the query for \`A10: Upload Image\`. Observe an image being returned
- Try to run the query for \`A10: Malicious Image url\`. Observe \`something suspicious is happening\` being returned
- The server is not sanitizing user input so it will send a request to whatever url provided in the payload

</div>
`,title:"A10 The Attack ",level:1,content:'# A10 The Attack \n\n<div class="dense">\n\n- Run the server for step 10 (`cd src/a10-server-side-request-forgery`, `npm start`)\n- In Postman, run the query for `A10: Upload Image`. Observe an image being returned\n- Try to run the query for `A10: Malicious Image url`. Observe `something suspicious is happening` being returned\n- The server is not sanitizing user input so it will send a request to whatever url provided in the payload\n\n</div>',frontmatter:{},index:72,start:1135,end:1147,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:72,no:73},__clicksElements:[],__preloaded:!1}},{path:"74",name:"page-74",component:n7,meta:{slide:{raw:`
# A10 Fixing it 

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
-  Make sure the requested domain is in the whitelist

</div>
`,title:"A10 Fixing it ",level:1,content:`# A10 Fixing it 

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
-  Make sure the requested domain is in the whitelist

</div>`,frontmatter:{},index:73,start:1148,end:1159,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:73,no:74},__clicksElements:[],__preloaded:!1}},{path:"75",name:"page-75",component:a7,meta:{slide:{raw:`
# A10 Solution 

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>
`,title:"A10 Solution ",level:1,content:`# A10 Solution 

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:74,start:1160,end:1192,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:74,no:75},__clicksElements:[],__preloaded:!1}},{path:"76",name:"page-76",component:u7,meta:{slide:{raw:`
# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>
`,title:"Beyond the Top 10",level:1,content:`# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>`,frontmatter:{},index:75,start:1193,end:1205,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:75,no:76},__clicksElements:[],__preloaded:!1}},{path:"77",name:"page-77",component:y7,meta:{slide:{raw:`
# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>
`,title:"Other useful OWASP resources",level:1,content:`# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>`,frontmatter:{},index:76,start:1206,end:1216,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:76,no:77},__clicksElements:[],__preloaded:!1}},{path:"78",name:"page-78",component:_7,meta:{slide:{raw:`
# Thanks For Having Us!

## 
`,title:"Thanks For Having Us!",level:1,content:`# Thanks For Having Us!

## `,frontmatter:{},index:77,start:1217,end:1222,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:77,no:78},__clicksElements:[],__preloaded:!1}},{path:"79",component:PA,meta:{layout:"end"}}],Ve=A7,Po=[{name:"play",path:"/",component:e_,children:[...Ve]},{name:"print",path:"/print",component:SA},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}];Po.push({path:"/presenter/print",component:()=>Jn(()=>import("./PresenterPrint-822cbe76.js"),["assets/PresenterPrint-822cbe76.js","assets/NoteViewer-56a6a8c4.js","assets/index-d21e8330.js"])}),Po.push({name:"presenter",path:"/presenter/:no",component:()=>Jn(()=>import("./Presenter-2be29435.js"),["assets/Presenter-2be29435.js","assets/NoteViewer-56a6a8c4.js","assets/DrawingControls-4193fdaf.js","assets/index-d21e8330.js","assets/Presenter-e94b00f0.css"]),beforeEnter:t=>{if(!Ms.remote||Ms.remote===t.query.password)return!0;if(Ms.remote&&t.query.password===void 0){const n=prompt("Enter password");if(Ms.remote===n)return!0}return t.params.no?{path:`/${t.params.no}`}:{path:""}}}),Po.push({path:"/presenter",redirect:{path:"/presenter/1"}});const bn=$9({history:Sm("/owasp-top-ten-workshop/"),routes:Po});function w7(t,n,{mode:s="replace"}={}){return F({get(){const o=bn.currentRoute.value.query[t];return o==null?n??null:Array.isArray(o)?o.filter(Boolean):o},set(o){Ft(()=>{bn[b(s)]({query:{...bn.currentRoute.value.query,[t]:o}})})}})}const Zp=ae(0);Ft(()=>{bn.afterEach(async()=>{await Ft(),Zp.value+=1})});const Xp=ae(0),Kt=F(()=>bn.currentRoute.value),ws=F(()=>Kt.value.query.print!==void 0),b7=F(()=>Kt.value.query.print==="clicks"),Xt=F(()=>Kt.value.query.embedded!==void 0),Tt=F(()=>Kt.value.path.startsWith("/presenter")),eu=F(()=>ws.value&&!b7.value),pr=F(()=>Kt.value.query.password),E7=F(()=>!Tt.value&&(!$e.remote||pr.value===$e.remote)),Mi=w7("clicks","0"),tu=F(()=>Ve.length-1),D7=F(()=>Kt.value.path),Ge=F(()=>parseInt(D7.value.split(/\//g).slice(-1)[0])||1);F(()=>Yr(Ge.value));const it=F(()=>Ve.find(t=>t.path===`${Ge.value}`));F(()=>{var t,n,s;return(s=(n=(t=it.value)==null?void 0:t.meta)==null?void 0:n.slide)==null?void 0:s.id});F(()=>{var t,n;return((n=(t=it.value)==null?void 0:t.meta)==null?void 0:n.layout)||(Ge.value===1?"cover":"default")});const Sl=F(()=>Ve.find(t=>t.path===`${Math.min(Ve.length,Ge.value+1)}`)),k7=F(()=>Ve.find(t=>t.path===`${Math.max(1,Ge.value-1)}`)),C7=F(()=>{var t,n;return Zp.value,((n=(t=it.value)==null?void 0:t.meta)==null?void 0:n.__clicksElements)||[]}),Zn=F({get(){if(eu.value)return 99999;let t=+(Mi.value||0);return isNaN(t)&&(t=0),t},set(t){Mi.value=t.toString()}}),zo=F(()=>{var t,n;return+(((n=(t=it.value)==null?void 0:t.meta)==null?void 0:n.clicks)??C7.value.length)}),B7=F(()=>Ge.value<Ve.length-1||Zn.value<zo.value),x7=F(()=>Ge.value>1||Zn.value>0),S7=F(()=>Ve.filter(t=>{var n,s;return(s=(n=t.meta)==null?void 0:n.slide)==null?void 0:s.title}).reduce((t,n)=>(Gr(t,n),t),[])),$7=F(()=>Qr(S7.value,it.value));F(()=>Jr($7.value));const T7=F(()=>I7(Xp.value,it.value,k7.value));qe(it,(t,n)=>{Xp.value=Number(t==null?void 0:t.path)-Number(n==null?void 0:n.path)});function Wn(){zo.value<=Zn.value?Ko():Zn.value+=1}async function zn(){Zn.value<=0?await Yo():Zn.value-=1}function Yr(t){return Tt.value?`/presenter/${t}`:`/${t}`}function Ko(){const t=Math.min(Ve.length,Ge.value+1);return bs(t)}async function Yo(t=!0){const n=Math.max(1,Ge.value-1);await bs(n),t&&zo.value&&bn.replace({query:{...Kt.value.query,clicks:zo.value}})}function bs(t,n){return bn.push({path:Yr(t),query:{...Kt.value.query,clicks:n}})}function P7(t){const n=ae(0),{direction:s,distanceX:o,distanceY:l}=Ky(t,{onSwipeStart(r){r.pointerType==="touch"&&(oo.value||(n.value=Gl()))},onSwipeEnd(r){if(r.pointerType!=="touch"||!n.value||oo.value)return;const a=Math.abs(o.value),c=Math.abs(l.value);a/window.innerWidth>.3||a>100?s.value===nn.LEFT?Wn():zn():(c/window.innerHeight>.4||c>200)&&(s.value===nn.DOWN?Yo():Ko())}})}async function qi(){const{saveAs:t}=await Jn(()=>import("./FileSaver.min-17c85779.js").then(n=>n.F),[]);t(rp($e.download)?$e.download:$e.exportFilename?`${$e.exportFilename}.pdf`:"/owasp-top-ten-workshop/slidev-exported.pdf",`${$e.title}.pdf`)}async function aD(t){var n,s;if(t==null){const o=(s=(n=it.value)==null?void 0:n.meta)==null?void 0:s.slide;if(!(o!=null&&o.filepath))return!1;t=`${o.filepath}:${o.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(t)}`),!0}function Gr(t,n,s=1){var l,r,a,c,p;const o=(r=(l=n.meta)==null?void 0:l.slide)==null?void 0:r.level;o&&o>s&&t.length>0?Gr(t[t.length-1].children,n,s+1):t.push({children:[],level:s,path:n.path,hideInToc:Boolean((a=n.meta)==null?void 0:a.hideInToc),title:(p=(c=n.meta)==null?void 0:c.slide)==null?void 0:p.title})}function Qr(t,n,s=!1,o){return t.map(l=>{const r={...l,active:l.path===(n==null?void 0:n.path),hasActiveParent:s};return r.children.length>0&&(r.children=Qr(r.children,n,r.active||r.hasActiveParent,r)),o&&(r.active||r.activeParent)&&(o.activeParent=!0),r})}function Jr(t,n=1){return t.filter(s=>!s.hideInToc).map(s=>({...s,children:Jr(s.children,n+1)}))}const F7={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function O7(t,n=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let s=t.name.includes("|")?t.name:F7[t.name]||t.name;if(s.includes("|")){const[o,l]=s.split("|").map(r=>r.trim());s=n?l:o}if(!!s)return{...t,name:s}}function I7(t,n,s){var l,r;let o=t>0?(l=s==null?void 0:s.meta)==null?void 0:l.transition:(r=n==null?void 0:n.meta)==null?void 0:r.transition;return o||(o=$e.transition),O7(o,t<0)}export{V7 as $,ae as A,Z7 as B,J7 as C,Te as D,tD as E,xe as F,Dt as G,X7 as H,vu as I,_u as J,po as K,Ft as L,$r as M,We as N,Qn as O,_r as P,Yt as Q,R7 as R,eu as S,q7 as T,Eh as U,Dh as V,np as W,tp as X,ep as Y,Ah as Z,R as _,Q7 as a,Tr as a$,W7 as a0,z7 as a1,H7 as a2,U7 as a3,_A as a4,AA as a5,qi as a6,Wn as a7,Ko as a8,aD as a9,jp as aA,at as aB,R6 as aC,zo as aD,B7 as aE,Sl as aF,bl as aG,oo as aH,Bl as aI,Jv as aJ,Vr as aK,Wr as aL,L7 as aM,M7 as aN,zv as aO,Y6 as aP,Rt as aQ,eD as aR,kn as aS,Os as aT,Ln as aU,Ut as aV,ar as aW,p6 as aX,u6 as aY,d6 as aZ,h6 as a_,zn as aa,Yo as ab,Kt as ac,j7 as ad,Es as ae,Ce as af,sD as ag,ed as ah,e as ai,Kn as aj,uo as ak,st as al,Ve as am,tu as an,i as ao,_e as ap,Lr as aq,He as ar,oD as as,it as at,$ as au,E6 as av,P7 as aw,nD as ax,lD as ay,T as az,Ge as b,Xc as b0,rD as b1,ut as b2,Eo as b3,Sg as b4,sp as b5,y6 as b6,$e as c,Zn as d,Tt as e,je as f,Yr as g,x as h,K7 as i,I as j,jd as k,se as l,X as m,A as n,Y7 as o,G7 as p,Xe as q,bn as r,pl as s,F as t,N7 as u,ka as v,qe as w,Sr as x,b as y,iu as z};
