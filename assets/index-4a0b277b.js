(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function Un(e,n){const s=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)s[o[r]]=!0;return n?r=>!!s[r.toLowerCase()]:r=>!!s[r]}function at(e){if(ue(e)){const n={};for(let s=0;s<e.length;s++){const o=e[s],r=He(o)?ty(o):at(o);if(r)for(const l in r)n[l]=r[l]}return n}else{if(He(e))return e;if(Me(e))return e}}const Zh=/;(?![^(]*\))/g,Xh=/:([^]+)/,ey=/\/\*.*?\*\//gs;function ty(e){const n={};return e.replace(ey,"").split(Zh).forEach(s=>{if(s){const o=s.split(Xh);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function Ke(e){let n="";if(He(e))n=e;else if(ue(e))for(let s=0;s<e.length;s++){const o=Ke(e[s]);o&&(n+=o+" ")}else if(Me(e))for(const s in e)e[s]&&(n+=s+" ");return n.trim()}function J(e){if(!e)return null;let{class:n,style:s}=e;return n&&!He(n)&&(e.class=Ke(n)),s&&(e.style=at(s)),e}const ny="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",sy="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",gp=Un(ny),oy=Un(sy),ry="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ly=Un(ry);function vp(e){return!!e||e===""}const fn=e=>He(e)?e:e==null?"":ue(e)||Me(e)&&(e.toString===bp||!fe(e.toString))?JSON.stringify(e,_p,2):String(e),_p=(e,n)=>n&&n.__v_isRef?_p(e,n.value):cs(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[o,r])=>(s[`${o} =>`]=r,s),{})}:Ap(n)?{[`Set(${n.size})`]:[...n.values()]}:Me(n)&&!ue(n)&&!Ep(n)?String(n):n,je=Object.freeze({}),Ts=Object.freeze([]),_t=()=>{},wp=()=>!1,ay=/^on[^a-z]/,qo=e=>ay.test(e),Cr=e=>e.startsWith("onUpdate:"),We=Object.assign,Ja=(e,n)=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)},iy=Object.prototype.hasOwnProperty,Ce=(e,n)=>iy.call(e,n),ue=Array.isArray,cs=e=>Ho(e)==="[object Map]",Ap=e=>Ho(e)==="[object Set]",cy=e=>Ho(e)==="[object RegExp]",fe=e=>typeof e=="function",He=e=>typeof e=="string",Za=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",Xa=e=>Me(e)&&fe(e.then)&&fe(e.catch),bp=Object.prototype.toString,Ho=e=>bp.call(e),ei=e=>Ho(e).slice(8,-1),Ep=e=>Ho(e)==="[object Object]",ti=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,yr=Un(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uy=Un("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Gr=e=>{const n=Object.create(null);return s=>n[s]||(n[s]=e(s))},py=/-(\w)/g,nn=Gr(e=>e.replace(py,(n,s)=>s?s.toUpperCase():"")),dy=/\B([A-Z])/g,hn=Gr(e=>e.replace(dy,"-$1").toLowerCase()),ms=Gr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Jn=Gr(e=>e?`on${ms(e)}`:""),Eo=(e,n)=>!Object.is(e,n),es=(e,n)=>{for(let s=0;s<e.length;s++)e[s](n)},xr=(e,n,s)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:s})},fy=e=>{const n=parseFloat(e);return isNaN(n)?e:n},hy=e=>{const n=He(e)?Number(e):NaN;return isNaN(n)?e:n};let Ji;const Dp=()=>Ji||(Ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Br(e,...n){console.warn(`[Vue warn] ${e}`,...n)}let kt;class kp{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=kt,!n&&kt&&(this.index=(kt.scopes||(kt.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const s=kt;try{return kt=this,n()}finally{kt=s}}else Br("cannot run an inactive effect scope.")}on(){kt=this}off(){kt=this.parent}stop(n){if(this._active){let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.scopes)for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function yy(e){return new kp(e)}function my(e,n=kt){n&&n.active&&n.effects.push(e)}function Qr(){return kt}function ni(e){kt?kt.cleanups.push(e):Br("onScopeDispose() is called when there is no active effect scope to be associated with.")}const si=e=>{const n=new Set(e);return n.w=0,n.n=0,n},Cp=e=>(e.w&jn)>0,xp=e=>(e.n&jn)>0,gy=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=jn},vy=e=>{const{deps:n}=e;if(n.length){let s=0;for(let o=0;o<n.length;o++){const r=n[o];Cp(r)&&!xp(r)?r.delete(e):n[s++]=r,r.w&=~jn,r.n&=~jn}n.length=s}},Sr=new WeakMap;let oo=0,jn=1;const Jl=30;let ft;const us=Symbol("iterate"),Zl=Symbol("Map key iterate");class oi{constructor(n,s=null,o){this.fn=n,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,my(this,o)}run(){if(!this.active)return this.fn();let n=ft,s=On;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=ft,ft=this,On=!0,jn=1<<++oo,oo<=Jl?gy(this):Zi(this),this.fn()}finally{oo<=Jl&&vy(this),jn=1<<--oo,ft=this.parent,On=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ft===this?this.deferStop=!0:this.active&&(Zi(this),this.onStop&&this.onStop(),this.active=!1)}}function Zi(e){const{deps:n}=e;if(n.length){for(let s=0;s<n.length;s++)n[s].delete(e);n.length=0}}let On=!0;const Bp=[];function vs(){Bp.push(On),On=!1}function _s(){const e=Bp.pop();On=e===void 0?!0:e}function At(e,n,s){if(On&&ft){let o=Sr.get(e);o||Sr.set(e,o=new Map);let r=o.get(s);r||o.set(s,r=si()),Sp(r,{effect:ft,target:e,type:n,key:s})}}function Sp(e,n){let s=!1;oo<=Jl?xp(e)||(e.n|=jn,s=!Cp(e)):s=!e.has(ft),s&&(e.add(ft),ft.deps.push(e),ft.onTrack&&ft.onTrack(Object.assign({effect:ft},n)))}function yn(e,n,s,o,r,l){const a=Sr.get(e);if(!a)return;let i=[];if(n==="clear")i=[...a.values()];else if(s==="length"&&ue(e)){const p=Number(o);a.forEach((d,f)=>{(f==="length"||f>=p)&&i.push(d)})}else switch(s!==void 0&&i.push(a.get(s)),n){case"add":ue(e)?ti(s)&&i.push(a.get("length")):(i.push(a.get(us)),cs(e)&&i.push(a.get(Zl)));break;case"delete":ue(e)||(i.push(a.get(us)),cs(e)&&i.push(a.get(Zl)));break;case"set":cs(e)&&i.push(a.get(us));break}const c={target:e,type:n,key:s,newValue:o,oldValue:r,oldTarget:l};if(i.length===1)i[0]&&Xl(i[0],c);else{const p=[];for(const d of i)d&&p.push(...d);Xl(si(p),c)}}function Xl(e,n){const s=ue(e)?e:[...e];for(const o of s)o.computed&&Xi(o,n);for(const o of s)o.computed||Xi(o,n)}function Xi(e,n){(e!==ft||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(We({effect:e},n)),e.scheduler?e.scheduler():e.run())}function _y(e,n){var s;return(s=Sr.get(e))===null||s===void 0?void 0:s.get(n)}const wy=Un("__proto__,__v_isRef,__isVue"),$p=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Za)),Ay=Jr(),by=Jr(!1,!0),Ey=Jr(!0),Dy=Jr(!0,!0),ec=ky();function ky(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...s){const o=ye(this);for(let l=0,a=this.length;l<a;l++)At(o,"get",l+"");const r=o[n](...s);return r===-1||r===!1?o[n](...s.map(ye)):r}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...s){vs();const o=ye(this)[n].apply(this,s);return _s(),o}}),e}function Cy(e){const n=ye(this);return At(n,"has",e),n.hasOwnProperty(e)}function Jr(e=!1,n=!1){return function(o,r,l){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return n;if(r==="__v_raw"&&l===(e?n?Fp:Rp:n?Lp:Mp).get(o))return o;const a=ue(o);if(!e){if(a&&Ce(ec,r))return Reflect.get(ec,r,l);if(r==="hasOwnProperty")return Cy}const i=Reflect.get(o,r,l);return(Za(r)?$p.has(r):wy(r))||(e||At(o,"get",r),n)?i:Oe(i)?a&&ti(r)?i:i.value:Me(i)?e?Ut(i):Ve(i):i}}const xy=Tp(),By=Tp(!0);function Tp(e=!1){return function(s,o,r,l){let a=s[o];if(qn(a)&&Oe(a)&&!Oe(r))return!1;if(!e&&(!$r(r)&&!qn(r)&&(a=ye(a),r=ye(r)),!ue(s)&&Oe(a)&&!Oe(r)))return a.value=r,!0;const i=ue(s)&&ti(o)?Number(o)<s.length:Ce(s,o),c=Reflect.set(s,o,r,l);return s===ye(l)&&(i?Eo(r,a)&&yn(s,"set",o,r,a):yn(s,"add",o,r)),c}}function Sy(e,n){const s=Ce(e,n),o=e[n],r=Reflect.deleteProperty(e,n);return r&&s&&yn(e,"delete",n,void 0,o),r}function $y(e,n){const s=Reflect.has(e,n);return(!Za(n)||!$p.has(n))&&At(e,"has",n),s}function Ty(e){return At(e,"iterate",ue(e)?"length":us),Reflect.ownKeys(e)}const Op={get:Ay,set:xy,deleteProperty:Sy,has:$y,ownKeys:Ty},Pp={get:Ey,set(e,n){return Br(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0},deleteProperty(e,n){return Br(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}},Oy=We({},Op,{get:by,set:By}),Py=We({},Pp,{get:Dy}),ri=e=>e,Zr=e=>Reflect.getPrototypeOf(e);function Jo(e,n,s=!1,o=!1){e=e.__v_raw;const r=ye(e),l=ye(n);s||(n!==l&&At(r,"get",n),At(r,"get",l));const{has:a}=Zr(r),i=o?ri:s?li:Do;if(a.call(r,n))return i(e.get(n));if(a.call(r,l))return i(e.get(l));e!==r&&e.get(n)}function Zo(e,n=!1){const s=this.__v_raw,o=ye(s),r=ye(e);return n||(e!==r&&At(o,"has",e),At(o,"has",r)),e===r?s.has(e):s.has(e)||s.has(r)}function Xo(e,n=!1){return e=e.__v_raw,!n&&At(ye(e),"iterate",us),Reflect.get(e,"size",e)}function tc(e){e=ye(e);const n=ye(this);return Zr(n).has.call(n,e)||(n.add(e),yn(n,"add",e,e)),this}function nc(e,n){n=ye(n);const s=ye(this),{has:o,get:r}=Zr(s);let l=o.call(s,e);l?Ip(s,o,e):(e=ye(e),l=o.call(s,e));const a=r.call(s,e);return s.set(e,n),l?Eo(n,a)&&yn(s,"set",e,n,a):yn(s,"add",e,n),this}function sc(e){const n=ye(this),{has:s,get:o}=Zr(n);let r=s.call(n,e);r?Ip(n,s,e):(e=ye(e),r=s.call(n,e));const l=o?o.call(n,e):void 0,a=n.delete(e);return r&&yn(n,"delete",e,void 0,l),a}function oc(){const e=ye(this),n=e.size!==0,s=cs(e)?new Map(e):new Set(e),o=e.clear();return n&&yn(e,"clear",void 0,void 0,s),o}function er(e,n){return function(o,r){const l=this,a=l.__v_raw,i=ye(a),c=n?ri:e?li:Do;return!e&&At(i,"iterate",us),a.forEach((p,d)=>o.call(r,c(p),c(d),l))}}function tr(e,n,s){return function(...o){const r=this.__v_raw,l=ye(r),a=cs(l),i=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,p=r[e](...o),d=s?ri:n?li:Do;return!n&&At(l,"iterate",c?Zl:us),{next(){const{value:f,done:h}=p.next();return h?{value:f,done:h}:{value:i?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function bn(e){return function(...n){{const s=n[0]?`on key "${n[0]}" `:"";console.warn(`${ms(e)} operation ${s}failed: target is readonly.`,ye(this))}return e==="delete"?!1:this}}function Iy(){const e={get(l){return Jo(this,l)},get size(){return Xo(this)},has:Zo,add:tc,set:nc,delete:sc,clear:oc,forEach:er(!1,!1)},n={get(l){return Jo(this,l,!1,!0)},get size(){return Xo(this)},has:Zo,add:tc,set:nc,delete:sc,clear:oc,forEach:er(!1,!0)},s={get(l){return Jo(this,l,!0)},get size(){return Xo(this,!0)},has(l){return Zo.call(this,l,!0)},add:bn("add"),set:bn("set"),delete:bn("delete"),clear:bn("clear"),forEach:er(!0,!1)},o={get(l){return Jo(this,l,!0,!0)},get size(){return Xo(this,!0)},has(l){return Zo.call(this,l,!0)},add:bn("add"),set:bn("set"),delete:bn("delete"),clear:bn("clear"),forEach:er(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=tr(l,!1,!1),s[l]=tr(l,!0,!1),n[l]=tr(l,!1,!0),o[l]=tr(l,!0,!0)}),[e,s,n,o]}const[My,Ly,Ry,Fy]=Iy();function Xr(e,n){const s=n?e?Fy:Ry:e?Ly:My;return(o,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(Ce(s,r)&&r in o?s:o,r,l)}const Ny={get:Xr(!1,!1)},jy={get:Xr(!1,!0)},qy={get:Xr(!0,!1)},Hy={get:Xr(!0,!0)};function Ip(e,n,s){const o=ye(s);if(o!==s&&n.call(e,o)){const r=ei(e);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Mp=new WeakMap,Lp=new WeakMap,Rp=new WeakMap,Fp=new WeakMap;function Vy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uy(e){return e.__v_skip||!Object.isExtensible(e)?0:Vy(ei(e))}function Ve(e){return qn(e)?e:el(e,!1,Op,Ny,Mp)}function Wy(e){return el(e,!1,Oy,jy,Lp)}function Ut(e){return el(e,!0,Pp,qy,Rp)}function Ss(e){return el(e,!0,Py,Hy,Fp)}function el(e,n,s,o,r){if(!Me(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(n&&e.__v_isReactive))return e;const l=r.get(e);if(l)return l;const a=Uy(e);if(a===0)return e;const i=new Proxy(e,a===2?o:s);return r.set(e,i),i}function ps(e){return qn(e)?ps(e.__v_raw):!!(e&&e.__v_isReactive)}function qn(e){return!!(e&&e.__v_isReadonly)}function $r(e){return!!(e&&e.__v_isShallow)}function Tr(e){return ps(e)||qn(e)}function ye(e){const n=e&&e.__v_raw;return n?ye(n):e}function tl(e){return xr(e,"__v_skip",!0),e}const Do=e=>Me(e)?Ve(e):e,li=e=>Me(e)?Ut(e):e;function ai(e){On&&ft&&(e=ye(e),Sp(e.dep||(e.dep=si()),{target:e,type:"get",key:"value"}))}function ii(e,n){e=ye(e);const s=e.dep;s&&Xl(s,{target:e,type:"set",key:"value",newValue:n})}function Oe(e){return!!(e&&e.__v_isRef===!0)}function Y(e){return Np(e,!1)}function sn(e){return Np(e,!0)}function Np(e,n){return Oe(e)?e:new zy(e,n)}class zy{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:ye(n),this._value=s?n:Do(n)}get value(){return ai(this),this._value}set value(n){const s=this.__v_isShallow||$r(n)||qn(n);n=s?n:ye(n),Eo(n,this._rawValue)&&(this._rawValue=n,this._value=s?n:Do(n),ii(this,n))}}function C(e){return Oe(e)?e.value:e}const Ky={get:(e,n,s)=>C(Reflect.get(e,n,s)),set:(e,n,s,o)=>{const r=e[n];return Oe(r)&&!Oe(s)?(r.value=s,!0):Reflect.set(e,n,s,o)}};function jp(e){return ps(e)?e:new Proxy(e,Ky)}class Yy{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:o}=n(()=>ai(this),()=>ii(this));this._get=s,this._set=o}get value(){return this._get()}set value(n){this._set(n)}}function ci(e){return new Yy(e)}function Gy(e){Tr(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const n=ue(e)?new Array(e.length):{};for(const s in e)n[s]=qp(e,s);return n}class Qy{constructor(n,s,o){this._object=n,this._key=s,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return _y(ye(this._object),this._key)}}function qp(e,n,s){const o=e[n];return Oe(o)?o:new Qy(e,n,s)}var Hp;class Jy{constructor(n,s,o,r){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Hp]=!1,this._dirty=!0,this.effect=new oi(n,()=>{this._dirty||(this._dirty=!0,ii(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const n=ye(this);return ai(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}Hp="__v_isReadonly";function Zy(e,n,s=!1){let o,r;const l=fe(e);l?(o=e,r=()=>{console.warn("Write operation failed: computed value is readonly")}):(o=e.get,r=e.set);const a=new Jy(o,r,l||!r,s);return n&&!s&&(a.effect.onTrack=n.onTrack,a.effect.onTrigger=n.onTrigger),a}const ds=[];function mr(e){ds.push(e)}function gr(){ds.pop()}function q(e,...n){vs();const s=ds.length?ds[ds.length-1].component:null,o=s&&s.appContext.config.warnHandler,r=Xy();if(o)dn(o,s,11,[e+n.join(""),s&&s.proxy,r.map(({vnode:l})=>`at <${pl(s,l.type)}>`).join(`
`),r]);else{const l=[`[Vue warn]: ${e}`,...n];r.length&&l.push(`
`,...em(r)),console.warn(...l)}_s()}function Xy(){let e=ds[ds.length-1];if(!e)return[];const n=[];for(;e;){const s=n[0];s&&s.vnode===e?s.recurseCount++:n.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return n}function em(e){const n=[];return e.forEach((s,o)=>{n.push(...o===0?[]:[`
`],...tm(s))}),n}function tm({vnode:e,recurseCount:n}){const s=n>0?`... (${n} recursive calls)`:"",o=e.component?e.component.parent==null:!1,r=` at <${pl(e.component,e.type,o)}`,l=">"+s;return e.props?[r,...nm(e.props),l]:[r+l]}function nm(e){const n=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{n.push(...Vp(o,e[o]))}),s.length>3&&n.push(" ..."),n}function Vp(e,n,s){return He(n)?(n=JSON.stringify(n),s?n:[`${e}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?s?n:[`${e}=${n}`]:Oe(n)?(n=Vp(e,ye(n.value),!0),s?n:[`${e}=Ref<`,n,">"]):fe(n)?[`${e}=fn${n.name?`<${n.name}>`:""}`]:(n=ye(n),s?n:[`${e}=`,n])}function sm(e,n){e!==void 0&&(typeof e!="number"?q(`${n} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&q(`${n} is NaN - the duration expression might be incorrect.`))}const ui={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function dn(e,n,s,o){let r;try{r=o?e(...o):e()}catch(l){nl(l,n,s)}return r}function Lt(e,n,s,o){if(fe(e)){const l=dn(e,n,s,o);return l&&Xa(l)&&l.catch(a=>{nl(a,n,s)}),l}const r=[];for(let l=0;l<e.length;l++)r.push(Lt(e[l],n,s,o));return r}function nl(e,n,s,o=!0){const r=n?n.vnode:null;if(n){let l=n.parent;const a=n.proxy,i=ui[s];for(;l;){const p=l.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](e,a,i)===!1)return}l=l.parent}const c=n.appContext.config.errorHandler;if(c){dn(c,null,10,[e,a,i]);return}}om(e,s,r,o)}function om(e,n,s,o=!0){{const r=ui[n];if(s&&mr(s),q(`Unhandled error${r?` during execution of ${r}`:""}`),s&&gr(),o)throw e;console.error(e)}}let ko=!1,ea=!1;const lt=[];let Jt=0;const Os=[];let Qt=null,Cn=0;const Up=Promise.resolve();let pi=null;const rm=100;function st(e){const n=pi||Up;return e?n.then(this?e.bind(this):e):n}function lm(e){let n=Jt+1,s=lt.length;for(;n<s;){const o=n+s>>>1;Co(lt[o])<e?n=o+1:s=o}return n}function sl(e){(!lt.length||!lt.includes(e,ko&&e.allowRecurse?Jt+1:Jt))&&(e.id==null?lt.push(e):lt.splice(lm(e.id),0,e),Wp())}function Wp(){!ko&&!ea&&(ea=!0,pi=Up.then(Yp))}function am(e){const n=lt.indexOf(e);n>Jt&&lt.splice(n,1)}function zp(e){ue(e)?Os.push(...e):(!Qt||!Qt.includes(e,e.allowRecurse?Cn+1:Cn))&&Os.push(e),Wp()}function rc(e,n=ko?Jt+1:0){for(e=e||new Map;n<lt.length;n++){const s=lt[n];if(s&&s.pre){if(di(e,s))continue;lt.splice(n,1),n--,s()}}}function Kp(e){if(Os.length){const n=[...new Set(Os)];if(Os.length=0,Qt){Qt.push(...n);return}for(Qt=n,e=e||new Map,Qt.sort((s,o)=>Co(s)-Co(o)),Cn=0;Cn<Qt.length;Cn++)di(e,Qt[Cn])||Qt[Cn]();Qt=null,Cn=0}}const Co=e=>e.id==null?1/0:e.id,im=(e,n)=>{const s=Co(e)-Co(n);if(s===0){if(e.pre&&!n.pre)return-1;if(n.pre&&!e.pre)return 1}return s};function Yp(e){ea=!1,ko=!0,e=e||new Map,lt.sort(im);const n=s=>di(e,s);try{for(Jt=0;Jt<lt.length;Jt++){const s=lt[Jt];if(s&&s.active!==!1){if(n(s))continue;dn(s,null,14)}}}finally{Jt=0,lt.length=0,Kp(e),ko=!1,pi=null,(lt.length||Os.length)&&Yp(e)}}function di(e,n){if(!e.has(n))e.set(n,1);else{const s=e.get(n);if(s>rm){const o=n.ownerInstance,r=o&&$o(o.type);return q(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(n,s+1)}}let Pn=!1;const Bs=new Set;Dp().__VUE_HMR_RUNTIME__={createRecord:_l(Gp),rerender:_l(pm),reload:_l(dm)};const gs=new Map;function cm(e){const n=e.type.__hmrId;let s=gs.get(n);s||(Gp(n,e.type),s=gs.get(n)),s.instances.add(e)}function um(e){gs.get(e.type.__hmrId).instances.delete(e)}function Gp(e,n){return gs.has(e)?!1:(gs.set(e,{initialDef:co(n),instances:new Set}),!0)}function co(e){return Bd(e)?e.__vccOpts:e}function pm(e,n){const s=gs.get(e);s&&(s.initialDef.render=n,[...s.instances].forEach(o=>{n&&(o.render=n,co(o.type).render=n),o.renderCache=[],Pn=!0,o.update(),Pn=!1}))}function dm(e,n){const s=gs.get(e);if(!s)return;n=co(n),lc(s.initialDef,n);const o=[...s.instances];for(const r of o){const l=co(r.type);Bs.has(l)||(l!==s.initialDef&&lc(l,n),Bs.add(l)),r.appContext.optionsCache.delete(r.type),r.ceReload?(Bs.add(l),r.ceReload(n.styles),Bs.delete(l)):r.parent?sl(r.parent.update):r.appContext.reload?r.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}zp(()=>{for(const r of o)Bs.delete(co(r.type))})}function lc(e,n){We(e,n);for(const s in e)s!=="__file"&&!(s in n)&&delete e[s]}function _l(e){return(n,s)=>{try{return e(n,s)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Zt,ro=[],ta=!1;function Vo(e,...n){Zt?Zt.emit(e,...n):ta||ro.push({event:e,args:n})}function Qp(e,n){var s,o;Zt=e,Zt?(Zt.enabled=!0,ro.forEach(({event:r,args:l})=>Zt.emit(r,...l)),ro=[]):typeof window<"u"&&window.HTMLElement&&!(!((o=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||o===void 0)&&o.includes("jsdom"))?((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{Qp(l,n)}),setTimeout(()=>{Zt||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ta=!0,ro=[])},3e3)):(ta=!0,ro=[])}function fm(e,n){Vo("app:init",e,n,{Fragment:Te,Text:zo,Comment:Xe,Static:vr})}function hm(e){Vo("app:unmount",e)}const na=fi("component:added"),Jp=fi("component:updated"),ym=fi("component:removed"),mm=e=>{Zt&&typeof Zt.cleanupBuffer=="function"&&!Zt.cleanupBuffer(e)&&ym(e)};function fi(e){return n=>{Vo(e,n.appContext.app,n.uid,n.parent?n.parent.uid:void 0,n)}}const gm=Zp("perf:start"),vm=Zp("perf:end");function Zp(e){return(n,s,o)=>{Vo(e,n.appContext.app,n.uid,n,s,o)}}function _m(e,n,s){Vo("component:emit",e.appContext.app,e,n,s)}function wm(e,n,...s){if(e.isUnmounted)return;const o=e.vnode.props||je;{const{emitsOptions:d,propsOptions:[f]}=e;if(d)if(!(n in d))(!f||!(Jn(n)in f))&&q(`Component emitted event "${n}" but it is neither declared in the emits option nor as an "${Jn(n)}" prop.`);else{const h=d[n];fe(h)&&(h(...s)||q(`Invalid event arguments: event validation failed for event "${n}".`))}}let r=s;const l=n.startsWith("update:"),a=l&&n.slice(7);if(a&&a in o){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:h}=o[d]||je;h&&(r=s.map(y=>He(y)?y.trim():y)),f&&(r=s.map(fy))}_m(e,n,r);{const d=n.toLowerCase();d!==n&&o[Jn(d)]&&q(`Event "${d}" is emitted in component ${pl(e,e.type)} but the handler is registered for "${n}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${hn(n)}" instead of "${n}".`)}let i,c=o[i=Jn(n)]||o[i=Jn(nn(n))];!c&&l&&(c=o[i=Jn(hn(n))]),c&&Lt(c,e,6,r);const p=o[i+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Lt(p,e,6,r)}}function Xp(e,n,s=!1){const o=n.emitsCache,r=o.get(e);if(r!==void 0)return r;const l=e.emits;let a={},i=!1;if(!fe(e)){const c=p=>{const d=Xp(p,n,!0);d&&(i=!0,We(a,d))};!s&&n.mixins.length&&n.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!l&&!i?(Me(e)&&o.set(e,null),null):(ue(l)?l.forEach(c=>a[c]=null):We(a,l),Me(e)&&o.set(e,a),a)}function ol(e,n){return!e||!qo(n)?!1:(n=n.slice(2).replace(/Once$/,""),Ce(e,n[0].toLowerCase()+n.slice(1))||Ce(e,hn(n))||Ce(e,n))}let Ze=null,rl=null;function Or(e){const n=Ze;return Ze=e,rl=e&&e.type.__scopeId||null,n}function KS(e){rl=e}function YS(){rl=null}function M(e,n=Ze,s){if(!n||e._n)return e;const o=(...r)=>{o._d&&_c(-1);const l=Or(n);let a;try{a=e(...r)}finally{Or(l),o._d&&_c(1)}return Jp(n),a};return o._n=!0,o._c=!0,o._d=!0,o}let sa=!1;function Pr(){sa=!0}function wl(e){const{type:n,vnode:s,proxy:o,withProxy:r,props:l,propsOptions:[a],slots:i,attrs:c,emit:p,render:d,renderCache:f,data:h,setupState:y,ctx:m,inheritAttrs:v}=e;let w,A;const E=Or(e);sa=!1;try{if(s.shapeFlag&4){const S=r||o;w=Vt(d.call(S,S,f,l,y,h,m)),A=c}else{const S=n;c===l&&Pr(),w=Vt(S.length>1?S(l,{get attrs(){return Pr(),c},slots:i,emit:p}):S(l,null)),A=n.props?c:bm(c)}}catch(S){po.length=0,nl(S,e,1),w=te(Xe)}let _=w,k;if(w.patchFlag>0&&w.patchFlag&2048&&([_,k]=Am(w)),A&&v!==!1){const S=Object.keys(A),{shapeFlag:B}=_;if(S.length){if(B&7)a&&S.some(Cr)&&(A=Em(A,a)),_=zt(_,A);else if(!sa&&_.type!==Xe){const j=Object.keys(c),$=[],V=[];for(let ne=0,pe=j.length;ne<pe;ne++){const K=j[ne];qo(K)?Cr(K)||$.push(K[2].toLowerCase()+K.slice(3)):V.push(K)}V.length&&q(`Extraneous non-props attributes (${V.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),$.length&&q(`Extraneous non-emits event listeners (${$.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return s.dirs&&(ac(_)||q("Runtime directive used on component with non-element root node. The directives will not function as intended."),_=zt(_),_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&(ac(_)||q("Component inside <Transition> renders non-element root node that cannot be animated."),_.transition=s.transition),k?k(_):w=_,Or(E),w}const Am=e=>{const n=e.children,s=e.dynamicChildren,o=ed(n);if(!o)return[e,void 0];const r=n.indexOf(o),l=s?s.indexOf(o):-1,a=i=>{n[r]=i,s&&(l>-1?s[l]=i:i.patchFlag>0&&(e.dynamicChildren=[...s,i]))};return[Vt(o),a]};function ed(e){let n;for(let s=0;s<e.length;s++){const o=e[s];if(Hn(o)){if(o.type!==Xe||o.children==="v-if"){if(n)return;n=o}}else return}return n}const bm=e=>{let n;for(const s in e)(s==="class"||s==="style"||qo(s))&&((n||(n={}))[s]=e[s]);return n},Em=(e,n)=>{const s={};for(const o in e)(!Cr(o)||!(o.slice(9)in n))&&(s[o]=e[o]);return s},ac=e=>e.shapeFlag&7||e.type===Xe;function Dm(e,n,s){const{props:o,children:r,component:l}=e,{props:a,children:i,patchFlag:c}=n,p=l.emitsOptions;if((r||i)&&Pn||n.dirs||n.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return o?ic(o,a,p):!!a;if(c&8){const d=n.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==o[h]&&!ol(p,h))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:o===a?!1:o?a?ic(o,a,p):!0:!!a;return!1}function ic(e,n,s){const o=Object.keys(n);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(n[l]!==e[l]&&!ol(s,l))return!0}return!1}function km({vnode:e,parent:n},s){for(;n&&n.subTree===e;)(e=n.vnode).el=s,n=n.parent}const td=e=>e.__isSuspense;function Cm(e,n){n&&n.pendingBranch?ue(e)?n.effects.push(...e):n.effects.push(e):zp(e)}function Ct(e,n){if(!ze)q("provide() can only be used inside setup().");else{let s=ze.provides;const o=ze.parent&&ze.parent.provides;o===s&&(s=ze.provides=Object.create(o)),s[e]=n}}function P(e,n,s=!1){const o=ze||Ze;if(o){const r=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return s&&fe(n)?n.call(o.proxy):n;q(`injection "${String(e)}" not found.`)}else q("inject() can only be used inside setup() or functional components.")}function ws(e,n){return hi(e,null,n)}const nr={};function _e(e,n,s){return fe(n)||q("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),hi(e,n,s)}function hi(e,n,{immediate:s,deep:o,flush:r,onTrack:l,onTrigger:a}=je){n||(s!==void 0&&q('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&q('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const i=k=>{q("Invalid watch source: ",k,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},c=Qr()===(ze==null?void 0:ze.scope)?ze:null;let p,d=!1,f=!1;if(Oe(e)?(p=()=>e.value,d=$r(e)):ps(e)?(p=()=>e,o=!0):ue(e)?(f=!0,d=e.some(k=>ps(k)||$r(k)),p=()=>e.map(k=>{if(Oe(k))return k.value;if(ps(k))return ls(k);if(fe(k))return dn(k,c,2);i(k)})):fe(e)?n?p=()=>dn(e,c,2):p=()=>{if(!(c&&c.isUnmounted))return h&&h(),Lt(e,c,3,[y])}:(p=_t,i(e)),n&&o){const k=p;p=()=>ls(k())}let h,y=k=>{h=E.onStop=()=>{dn(k,c,4)}},m;if(So)if(y=_t,n?s&&Lt(n,c,3,[p(),f?[]:void 0,y]):p(),r==="sync"){const k=O9();m=k.__watcherHandles||(k.__watcherHandles=[])}else return _t;let v=f?new Array(e.length).fill(nr):nr;const w=()=>{if(E.active)if(n){const k=E.run();(o||d||(f?k.some((S,B)=>Eo(S,v[B])):Eo(k,v)))&&(h&&h(),Lt(n,c,3,[k,v===nr?void 0:f&&v[0]===nr?[]:v,y]),v=k)}else E.run()};w.allowRecurse=!!n;let A;r==="sync"?A=w:r==="post"?A=()=>tt(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),A=()=>sl(w));const E=new oi(p,A);E.onTrack=l,E.onTrigger=a,n?s?w():v=E.run():r==="post"?tt(E.run.bind(E),c&&c.suspense):E.run();const _=()=>{E.stop(),c&&c.scope&&Ja(c.scope.effects,E)};return m&&m.push(_),_}function xm(e,n,s){const o=this.proxy,r=He(e)?e.includes(".")?nd(o,e):()=>o[e]:e.bind(o,o);let l;fe(n)?l=n:(l=n.handler,s=n);const a=ze;Rs(this);const i=hi(r,l.bind(o),s);return a?Rs(a):hs(),i}function nd(e,n){const s=n.split(".");return()=>{let o=e;for(let r=0;r<s.length&&o;r++)o=o[s[r]];return o}}function ls(e,n){if(!Me(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),Oe(e))ls(e.value,n);else if(ue(e))for(let s=0;s<e.length;s++)ls(e[s],n);else if(Ap(e)||cs(e))e.forEach(s=>{ls(s,n)});else if(Ep(e))for(const s in e)ls(e[s],n);return e}function sd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return wn(()=>{e.isMounted=!0}),Wo(()=>{e.isUnmounting=!0}),e}const Tt=[Function,Array],Bm={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tt,onEnter:Tt,onAfterEnter:Tt,onEnterCancelled:Tt,onBeforeLeave:Tt,onLeave:Tt,onAfterLeave:Tt,onLeaveCancelled:Tt,onBeforeAppear:Tt,onAppear:Tt,onAfterAppear:Tt,onAppearCancelled:Tt},setup(e,{slots:n}){const s=yt(),o=sd();let r;return()=>{const l=n.default&&yi(n.default(),!0);if(!l||!l.length)return;let a=l[0];if(l.length>1){let v=!1;for(const w of l)if(w.type!==Xe){if(v){q("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}a=w,v=!0}}const i=ye(e),{mode:c}=i;if(c&&c!=="in-out"&&c!=="out-in"&&c!=="default"&&q(`invalid <transition> mode: ${c}`),o.isLeaving)return Al(a);const p=cc(a);if(!p)return Al(a);const d=xo(p,i,o,s);Ls(p,d);const f=s.subTree,h=f&&cc(f);let y=!1;const{getTransitionKey:m}=p.type;if(m){const v=m();r===void 0?r=v:v!==r&&(r=v,y=!0)}if(h&&h.type!==Xe&&(!$n(p,h)||y)){const v=xo(h,i,o,s);if(Ls(h,v),c==="out-in")return o.isLeaving=!0,v.afterLeave=()=>{o.isLeaving=!1,s.update.active!==!1&&s.update()},Al(a);c==="in-out"&&p.type!==Xe&&(v.delayLeave=(w,A,E)=>{const _=od(o,h);_[String(h.key)]=h,w._leaveCb=()=>{A(),w._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=E})}return a}}},Sm=Bm;function od(e,n){const{leavingVNodes:s}=e;let o=s.get(n.type);return o||(o=Object.create(null),s.set(n.type,o)),o}function xo(e,n,s,o){const{appear:r,mode:l,persisted:a=!1,onBeforeEnter:i,onEnter:c,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:y,onLeaveCancelled:m,onBeforeAppear:v,onAppear:w,onAfterAppear:A,onAppearCancelled:E}=n,_=String(e.key),k=od(s,e),S=($,V)=>{$&&Lt($,o,9,V)},B=($,V)=>{const ne=V[1];S($,V),ue($)?$.every(pe=>pe.length<=1)&&ne():$.length<=1&&ne()},j={mode:l,persisted:a,beforeEnter($){let V=i;if(!s.isMounted)if(r)V=v||i;else return;$._leaveCb&&$._leaveCb(!0);const ne=k[_];ne&&$n(e,ne)&&ne.el._leaveCb&&ne.el._leaveCb(),S(V,[$])},enter($){let V=c,ne=p,pe=d;if(!s.isMounted)if(r)V=w||c,ne=A||p,pe=E||d;else return;let K=!1;const Ae=$._enterCb=ve=>{K||(K=!0,ve?S(pe,[$]):S(ne,[$]),j.delayedLeave&&j.delayedLeave(),$._enterCb=void 0)};V?B(V,[$,Ae]):Ae()},leave($,V){const ne=String(e.key);if($._enterCb&&$._enterCb(!0),s.isUnmounting)return V();S(f,[$]);let pe=!1;const K=$._leaveCb=Ae=>{pe||(pe=!0,V(),Ae?S(m,[$]):S(y,[$]),$._leaveCb=void 0,k[ne]===e&&delete k[ne])};k[ne]=e,h?B(h,[$,K]):K()},clone($){return xo($,n,s,o)}};return j}function Al(e){if(Uo(e))return e=zt(e),e.children=null,e}function cc(e){return Uo(e)?e.children?e.children[0]:void 0:e}function Ls(e,n){e.shapeFlag&6&&e.component?Ls(e.component.subTree,n):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function yi(e,n=!1,s){let o=[],r=0;for(let l=0;l<e.length;l++){let a=e[l];const i=s==null?a.key:String(s)+String(a.key!=null?a.key:l);a.type===Te?(a.patchFlag&128&&r++,o=o.concat(yi(a.children,n,i))):(n||a.type!==Xe)&&o.push(i!=null?zt(a,{key:i}):a)}if(r>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function Re(e){return fe(e)?{setup:e,name:e.name}:e}const Ps=e=>!!e.type.__asyncLoader,Uo=e=>e.type.__isKeepAlive,$m={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:n}){const s=yt(),o=s.ctx;if(!o.renderer)return()=>{const E=n.default&&n.default();return E&&E.length===1?E[0]:E};const r=new Map,l=new Set;let a=null;s.__v_cache=r;const i=s.suspense,{renderer:{p:c,m:p,um:d,o:{createElement:f}}}=o,h=f("div");o.activate=(E,_,k,S,B)=>{const j=E.component;p(E,_,k,0,i),c(j.vnode,E,_,k,j,i,S,E.slotScopeIds,B),tt(()=>{j.isDeactivated=!1,j.a&&es(j.a);const $=E.props&&E.props.onVnodeMounted;$&&Ot($,j.parent,E)},i),na(j)},o.deactivate=E=>{const _=E.component;p(E,h,null,1,i),tt(()=>{_.da&&es(_.da);const k=E.props&&E.props.onVnodeUnmounted;k&&Ot(k,_.parent,E),_.isDeactivated=!0},i),na(_)};function y(E){bl(E),d(E,s,i,!0)}function m(E){r.forEach((_,k)=>{const S=$o(_.type);S&&(!E||!E(S))&&v(k)})}function v(E){const _=r.get(E);!a||!$n(_,a)?y(_):a&&bl(a),r.delete(E),l.delete(E)}_e(()=>[e.include,e.exclude],([E,_])=>{E&&m(k=>lo(E,k)),_&&m(k=>!lo(_,k))},{flush:"post",deep:!0});let w=null;const A=()=>{w!=null&&r.set(w,El(s.subTree))};return wn(A),al(A),Wo(()=>{r.forEach(E=>{const{subTree:_,suspense:k}=s,S=El(_);if(E.type===S.type&&E.key===S.key){bl(S);const B=S.component.da;B&&tt(B,k);return}y(E)})}),()=>{if(w=null,!n.default)return null;const E=n.default(),_=E[0];if(E.length>1)return q("KeepAlive should contain exactly one component child."),a=null,E;if(!Hn(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return a=null,_;let k=El(_);const S=k.type,B=$o(Ps(k)?k.type.__asyncResolved||{}:S),{include:j,exclude:$,max:V}=e;if(j&&(!B||!lo(j,B))||$&&B&&lo($,B))return a=k,_;const ne=k.key==null?S:k.key,pe=r.get(ne);return k.el&&(k=zt(k),_.shapeFlag&128&&(_.ssContent=k)),w=ne,pe?(k.el=pe.el,k.component=pe.component,k.transition&&Ls(k,k.transition),k.shapeFlag|=512,l.delete(ne),l.add(ne)):(l.add(ne),V&&l.size>parseInt(V,10)&&v(l.values().next().value)),k.shapeFlag|=256,a=k,td(_.type)?_:k}}},rd=$m;function lo(e,n){return ue(e)?e.some(s=>lo(s,n)):He(e)?e.split(",").includes(n):cy(e)?e.test(n):!1}function ld(e,n){id(e,"a",n)}function ad(e,n){id(e,"da",n)}function id(e,n,s=ze){const o=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ll(n,o,s),s){let r=s.parent;for(;r&&r.parent;)Uo(r.parent.vnode)&&Tm(o,n,s,r),r=r.parent}}function Tm(e,n,s,o){const r=ll(n,e,o,!0);il(()=>{Ja(o[n],r)},s)}function bl(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function El(e){return e.shapeFlag&128?e.ssContent:e}function ll(e,n,s=ze,o=!1){if(s){const r=s[e]||(s[e]=[]),l=n.__weh||(n.__weh=(...a)=>{if(s.isUnmounted)return;vs(),Rs(s);const i=Lt(n,s,e,a);return hs(),_s(),i});return o?r.unshift(l):r.push(l),l}else{const r=Jn(ui[e].replace(/ hook$/,""));q(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const _n=e=>(n,s=ze)=>(!So||e==="sp")&&ll(e,(...o)=>n(...o),s),Om=_n("bm"),wn=_n("m"),Pm=_n("bu"),al=_n("u"),Wo=_n("bum"),il=_n("um"),Im=_n("sp"),Mm=_n("rtg"),Lm=_n("rtc");function Rm(e,n=ze){ll("ec",e,n)}function cd(e){uy(e)&&q("Do not use built-in directive ids as custom directive id: "+e)}function ud(e,n){const s=Ze;if(s===null)return q("withDirectives can only be used inside render functions."),e;const o=ul(s)||s.proxy,r=e.dirs||(e.dirs=[]);for(let l=0;l<n.length;l++){let[a,i,c,p=je]=n[l];a&&(fe(a)&&(a={mounted:a,updated:a}),a.deep&&ls(i),r.push({dir:a,instance:o,value:i,oldValue:void 0,arg:c,modifiers:p}))}return e}function zn(e,n,s,o){const r=e.dirs,l=n&&n.dirs;for(let a=0;a<r.length;a++){const i=r[a];l&&(i.oldValue=l[a].value);let c=i.dir[o];c&&(vs(),Lt(c,s,8,[e.el,i,e,n]),_s())}}const oa="components";function Ir(e,n){return Nm(oa,e,!0,n)||e}const Fm=Symbol();function Nm(e,n,s=!0,o=!1){const r=Ze||ze;if(r){const l=r.type;if(e===oa){const i=$o(l,!1);if(i&&(i===n||i===nn(n)||i===ms(nn(n))))return l}const a=uc(r[e]||l[e],n)||uc(r.appContext[e],n);if(!a&&o)return l;if(s&&!a){const i=e===oa?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";q(`Failed to resolve ${e.slice(0,-1)}: ${n}${i}`)}return a}else q(`resolve${ms(e.slice(0,-1))} can only be used in render() or setup().`)}function uc(e,n){return e&&(e[n]||e[nn(n)]||e[ms(nn(n))])}function qs(e,n,s,o){let r;const l=s&&s[o];if(ue(e)||He(e)){r=new Array(e.length);for(let a=0,i=e.length;a<i;a++)r[a]=n(e[a],a,void 0,l&&l[a])}else if(typeof e=="number"){Number.isInteger(e)||q(`The v-for range expect an integer value but got ${e}.`),r=new Array(e);for(let a=0;a<e;a++)r[a]=n(a+1,a,void 0,l&&l[a])}else if(Me(e))if(e[Symbol.iterator])r=Array.from(e,(a,i)=>n(a,i,void 0,l&&l[i]));else{const a=Object.keys(e);r=new Array(a.length);for(let i=0,c=a.length;i<c;i++){const p=a[i];r[i]=n(e[p],p,i,l&&l[i])}}else r=[];return s&&(s[o]=r),r}function mn(e,n,s={},o,r){if(Ze.isCE||Ze.parent&&Ps(Ze.parent)&&Ze.parent.isCE)return n!=="default"&&(s.name=n),te("slot",s,o&&o());let l=e[n];l&&l.length>1&&(q("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),l=()=>[]),l&&l._c&&(l._d=!1),D();const a=l&&pd(l(s)),i=I(Te,{key:s.key||a&&a.key||`_${n}`},a||(o?o():[]),a&&e._===1?64:-2);return!r&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),l&&l._c&&(l._d=!0),i}function pd(e){return e.some(n=>Hn(n)?!(n.type===Xe||n.type===Te&&!pd(n.children)):!0)?e:null}const ra=e=>e?kd(e)?ul(e)||e.proxy:ra(e.parent):null,fs=We(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>Ss(e.props),$attrs:e=>Ss(e.attrs),$slots:e=>Ss(e.slots),$refs:e=>Ss(e.refs),$parent:e=>ra(e.parent),$root:e=>ra(e.root),$emit:e=>e.emit,$options:e=>gi(e),$forceUpdate:e=>e.f||(e.f=()=>sl(e.update)),$nextTick:e=>e.n||(e.n=st.bind(e.proxy)),$watch:e=>xm.bind(e)}),mi=e=>e==="_"||e==="$",Dl=(e,n)=>e!==je&&!e.__isScriptSetup&&Ce(e,n),dd={get({_:e},n){const{ctx:s,setupState:o,data:r,props:l,accessCache:a,type:i,appContext:c}=e;if(n==="__isVue")return!0;let p;if(n[0]!=="$"){const y=a[n];if(y!==void 0)switch(y){case 1:return o[n];case 2:return r[n];case 4:return s[n];case 3:return l[n]}else{if(Dl(o,n))return a[n]=1,o[n];if(r!==je&&Ce(r,n))return a[n]=2,r[n];if((p=e.propsOptions[0])&&Ce(p,n))return a[n]=3,l[n];if(s!==je&&Ce(s,n))return a[n]=4,s[n];la&&(a[n]=0)}}const d=fs[n];let f,h;if(d)return n==="$attrs"&&(At(e,"get",n),Pr()),d(e);if((f=i.__cssModules)&&(f=f[n]))return f;if(s!==je&&Ce(s,n))return a[n]=4,s[n];if(h=c.config.globalProperties,Ce(h,n))return h[n];Ze&&(!He(n)||n.indexOf("__v")!==0)&&(r!==je&&mi(n[0])&&Ce(r,n)?q(`Property ${JSON.stringify(n)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Ze&&q(`Property ${JSON.stringify(n)} was accessed during render but is not defined on instance.`))},set({_:e},n,s){const{data:o,setupState:r,ctx:l}=e;return Dl(r,n)?(r[n]=s,!0):r.__isScriptSetup&&Ce(r,n)?(q(`Cannot mutate <script setup> binding "${n}" from Options API.`),!1):o!==je&&Ce(o,n)?(o[n]=s,!0):Ce(e.props,n)?(q(`Attempting to mutate prop "${n}". Props are readonly.`),!1):n[0]==="$"&&n.slice(1)in e?(q(`Attempting to mutate public property "${n}". Properties starting with $ are reserved and readonly.`),!1):(n in e.appContext.config.globalProperties?Object.defineProperty(l,n,{enumerable:!0,configurable:!0,value:s}):l[n]=s,!0)},has({_:{data:e,setupState:n,accessCache:s,ctx:o,appContext:r,propsOptions:l}},a){let i;return!!s[a]||e!==je&&Ce(e,a)||Dl(n,a)||(i=l[0])&&Ce(i,a)||Ce(o,a)||Ce(fs,a)||Ce(r.config.globalProperties,a)},defineProperty(e,n,s){return s.get!=null?e._.accessCache[n]=0:Ce(s,"value")&&this.set(e,n,s.value,null),Reflect.defineProperty(e,n,s)}};dd.ownKeys=e=>(q("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function jm(e){const n={};return Object.defineProperty(n,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(fs).forEach(s=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!1,get:()=>fs[s](e),set:_t})}),n}function qm(e){const{ctx:n,propsOptions:[s]}=e;s&&Object.keys(s).forEach(o=>{Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>e.props[o],set:_t})})}function Hm(e){const{ctx:n,setupState:s}=e;Object.keys(ye(s)).forEach(o=>{if(!s.__isScriptSetup){if(mi(o[0])){q(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>s[o],set:_t})}})}function Vm(){const e=Object.create(null);return(n,s)=>{e[s]?q(`${n} property "${s}" is already defined in ${e[s]}.`):e[s]=n}}let la=!0;function Um(e){const n=gi(e),s=e.proxy,o=e.ctx;la=!1,n.beforeCreate&&pc(n.beforeCreate,e,"bc");const{data:r,computed:l,methods:a,watch:i,provide:c,inject:p,created:d,beforeMount:f,mounted:h,beforeUpdate:y,updated:m,activated:v,deactivated:w,beforeDestroy:A,beforeUnmount:E,destroyed:_,unmounted:k,render:S,renderTracked:B,renderTriggered:j,errorCaptured:$,serverPrefetch:V,expose:ne,inheritAttrs:pe,components:K,directives:Ae,filters:ve}=n,be=Vm();{const[ee]=e.propsOptions;if(ee)for(const ce in ee)be("Props",ce)}if(p&&Wm(p,o,be,e.appContext.config.unwrapInjectedRef),a)for(const ee in a){const ce=a[ee];fe(ce)?(Object.defineProperty(o,ee,{value:ce.bind(s),configurable:!0,enumerable:!0,writable:!0}),be("Methods",ee)):q(`Method "${ee}" has type "${typeof ce}" in the component definition. Did you reference the function correctly?`)}if(r){fe(r)||q("The data option must be a function. Plain object usage is no longer supported.");const ee=r.call(s,s);if(Xa(ee)&&q("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Me(ee))q("data() should return an object.");else{e.data=Ve(ee);for(const ce in ee)be("Data",ce),mi(ce[0])||Object.defineProperty(o,ce,{configurable:!0,enumerable:!0,get:()=>ee[ce],set:_t})}}if(la=!0,l)for(const ee in l){const ce=l[ee],Ee=fe(ce)?ce.bind(s,s):fe(ce.get)?ce.get.bind(s,s):_t;Ee===_t&&q(`Computed property "${ee}" has no getter.`);const Fe=!fe(ce)&&fe(ce.set)?ce.set.bind(s):()=>{q(`Write operation failed: computed property "${ee}" is readonly.`)},bt=T({get:Ee,set:Fe});Object.defineProperty(o,ee,{enumerable:!0,configurable:!0,get:()=>bt.value,set:rt=>bt.value=rt}),be("Computed",ee)}if(i)for(const ee in i)fd(i[ee],o,s,ee);if(c){const ee=fe(c)?c.call(s):c;Reflect.ownKeys(ee).forEach(ce=>{Ct(ce,ee[ce])})}d&&pc(d,e,"c");function Pe(ee,ce){ue(ce)?ce.forEach(Ee=>ee(Ee.bind(s))):ce&&ee(ce.bind(s))}if(Pe(Om,f),Pe(wn,h),Pe(Pm,y),Pe(al,m),Pe(ld,v),Pe(ad,w),Pe(Rm,$),Pe(Lm,B),Pe(Mm,j),Pe(Wo,E),Pe(il,k),Pe(Im,V),ue(ne))if(ne.length){const ee=e.exposed||(e.exposed={});ne.forEach(ce=>{Object.defineProperty(ee,ce,{get:()=>s[ce],set:Ee=>s[ce]=Ee})})}else e.exposed||(e.exposed={});S&&e.render===_t&&(e.render=S),pe!=null&&(e.inheritAttrs=pe),K&&(e.components=K),Ae&&(e.directives=Ae)}function Wm(e,n,s=_t,o=!1){ue(e)&&(e=aa(e));for(const r in e){const l=e[r];let a;Me(l)?"default"in l?a=P(l.from||r,l.default,!0):a=P(l.from||r):a=P(l),Oe(a)?o?Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):(q(`injected property "${r}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),n[r]=a):n[r]=a,s("Inject",r)}}function pc(e,n,s){Lt(ue(e)?e.map(o=>o.bind(n.proxy)):e.bind(n.proxy),n,s)}function fd(e,n,s,o){const r=o.includes(".")?nd(s,o):()=>s[o];if(He(e)){const l=n[e];fe(l)?_e(r,l):q(`Invalid watch handler specified by key "${e}"`,l)}else if(fe(e))_e(r,e.bind(s));else if(Me(e))if(ue(e))e.forEach(l=>fd(l,n,s,o));else{const l=fe(e.handler)?e.handler.bind(s):n[e.handler];fe(l)?_e(r,l,e):q(`Invalid watch handler specified by key "${e.handler}"`,l)}else q(`Invalid watch option: "${o}"`,e)}function gi(e){const n=e.type,{mixins:s,extends:o}=n,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=e.appContext,i=l.get(n);let c;return i?c=i:!r.length&&!s&&!o?c=n:(c={},r.length&&r.forEach(p=>Mr(c,p,a,!0)),Mr(c,n,a)),Me(n)&&l.set(n,c),c}function Mr(e,n,s,o=!1){const{mixins:r,extends:l}=n;l&&Mr(e,l,s,!0),r&&r.forEach(a=>Mr(e,a,s,!0));for(const a in n)if(o&&a==="expose")q('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const i=zm[a]||s&&s[a];e[a]=i?i(e[a],n[a]):n[a]}return e}const zm={data:dc,props:Zn,emits:Zn,methods:Zn,computed:Zn,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:Zn,directives:Zn,watch:Ym,provide:dc,inject:Km};function dc(e,n){return n?e?function(){return We(fe(e)?e.call(this,this):e,fe(n)?n.call(this,this):n)}:n:e}function Km(e,n){return Zn(aa(e),aa(n))}function aa(e){if(ue(e)){const n={};for(let s=0;s<e.length;s++)n[e[s]]=e[s];return n}return e}function ut(e,n){return e?[...new Set([].concat(e,n))]:n}function Zn(e,n){return e?We(We(Object.create(null),e),n):n}function Ym(e,n){if(!e)return n;if(!n)return e;const s=We(Object.create(null),e);for(const o in n)s[o]=ut(e[o],n[o]);return s}function Gm(e,n,s,o=!1){const r={},l={};xr(l,cl,1),e.propsDefaults=Object.create(null),hd(e,n,r,l);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);md(n||{},r,e),s?e.props=o?r:Wy(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function Qm(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function Jm(e,n,s,o){const{props:r,attrs:l,vnode:{patchFlag:a}}=e,i=ye(r),[c]=e.propsOptions;let p=!1;if(!Qm(e)&&(o||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(ol(e.emitsOptions,h))continue;const y=n[h];if(c)if(Ce(l,h))y!==l[h]&&(l[h]=y,p=!0);else{const m=nn(h);r[m]=ia(c,i,m,y,e,!1)}else y!==l[h]&&(l[h]=y,p=!0)}}}else{hd(e,n,r,l)&&(p=!0);let d;for(const f in i)(!n||!Ce(n,f)&&((d=hn(f))===f||!Ce(n,d)))&&(c?s&&(s[f]!==void 0||s[d]!==void 0)&&(r[f]=ia(c,i,f,void 0,e,!0)):delete r[f]);if(l!==i)for(const f in l)(!n||!Ce(n,f))&&(delete l[f],p=!0)}p&&yn(e,"set","$attrs"),md(n||{},r,e)}function hd(e,n,s,o){const[r,l]=e.propsOptions;let a=!1,i;if(n)for(let c in n){if(yr(c))continue;const p=n[c];let d;r&&Ce(r,d=nn(c))?!l||!l.includes(d)?s[d]=p:(i||(i={}))[d]=p:ol(e.emitsOptions,c)||(!(c in o)||p!==o[c])&&(o[c]=p,a=!0)}if(l){const c=ye(s),p=i||je;for(let d=0;d<l.length;d++){const f=l[d];s[f]=ia(r,c,f,p[f],e,!Ce(p,f))}}return a}function ia(e,n,s,o,r,l){const a=e[s];if(a!=null){const i=Ce(a,"default");if(i&&o===void 0){const c=a.default;if(a.type!==Function&&fe(c)){const{propsDefaults:p}=r;s in p?o=p[s]:(Rs(r),o=p[s]=c.call(null,n),hs())}else o=c}a[0]&&(l&&!i?o=!1:a[1]&&(o===""||o===hn(s))&&(o=!0))}return o}function yd(e,n,s=!1){const o=n.propsCache,r=o.get(e);if(r)return r;const l=e.props,a={},i=[];let c=!1;if(!fe(e)){const d=f=>{c=!0;const[h,y]=yd(f,n,!0);We(a,h),y&&i.push(...y)};!s&&n.mixins.length&&n.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!l&&!c)return Me(e)&&o.set(e,Ts),Ts;if(ue(l))for(let d=0;d<l.length;d++){He(l[d])||q("props must be strings when using array syntax.",l[d]);const f=nn(l[d]);fc(f)&&(a[f]=je)}else if(l){Me(l)||q("invalid props options",l);for(const d in l){const f=nn(d);if(fc(f)){const h=l[d],y=a[f]=ue(h)||fe(h)?{type:h}:Object.assign({},h);if(y){const m=yc(Boolean,y.type),v=yc(String,y.type);y[0]=m>-1,y[1]=v<0||m<v,(m>-1||Ce(y,"default"))&&i.push(f)}}}}const p=[a,i];return Me(e)&&o.set(e,p),p}function fc(e){return e[0]!=="$"?!0:(q(`Invalid prop name: "${e}" is a reserved property.`),!1)}function ca(e){const n=e&&e.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:e===null?"null":""}function hc(e,n){return ca(e)===ca(n)}function yc(e,n){return ue(n)?n.findIndex(s=>hc(s,e)):fe(n)&&hc(n,e)?0:-1}function md(e,n,s){const o=ye(n),r=s.propsOptions[0];for(const l in r){let a=r[l];a!=null&&Zm(l,o[l],a,!Ce(e,l)&&!Ce(e,hn(l)))}}function Zm(e,n,s,o){const{type:r,required:l,validator:a}=s;if(l&&o){q('Missing required prop: "'+e+'"');return}if(!(n==null&&!s.required)){if(r!=null&&r!==!0){let i=!1;const c=ue(r)?r:[r],p=[];for(let d=0;d<c.length&&!i;d++){const{valid:f,expectedType:h}=e9(n,c[d]);p.push(h||""),i=f}if(!i){q(t9(e,n,p));return}}a&&!a(n)&&q('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Xm=Un("String,Number,Boolean,Function,Symbol,BigInt");function e9(e,n){let s;const o=ca(n);if(Xm(o)){const r=typeof e;s=r===o.toLowerCase(),!s&&r==="object"&&(s=e instanceof n)}else o==="Object"?s=Me(e):o==="Array"?s=ue(e):o==="null"?s=e===null:s=e instanceof n;return{valid:s,expectedType:o}}function t9(e,n,s){let o=`Invalid prop: type check failed for prop "${e}". Expected ${s.map(ms).join(" | ")}`;const r=s[0],l=ei(n),a=mc(n,r),i=mc(n,l);return s.length===1&&gc(r)&&!n9(r,l)&&(o+=` with value ${a}`),o+=`, got ${l} `,gc(l)&&(o+=`with value ${i}.`),o}function mc(e,n){return n==="String"?`"${e}"`:n==="Number"?`${Number(e)}`:`${e}`}function gc(e){return["string","number","boolean"].some(s=>e.toLowerCase()===s)}function n9(...e){return e.some(n=>n.toLowerCase()==="boolean")}const gd=e=>e[0]==="_"||e==="$stable",vi=e=>ue(e)?e.map(Vt):[Vt(e)],s9=(e,n,s)=>{if(n._n)return n;const o=M((...r)=>(ze&&q(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),vi(n(...r))),s);return o._c=!1,o},vd=(e,n,s)=>{const o=e._ctx;for(const r in e){if(gd(r))continue;const l=e[r];if(fe(l))n[r]=s9(r,l,o);else if(l!=null){q(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const a=vi(l);n[r]=()=>a}}},_d=(e,n)=>{Uo(e.vnode)||q("Non-function value encountered for default slot. Prefer function slots for better performance.");const s=vi(n);e.slots.default=()=>s},o9=(e,n)=>{if(e.vnode.shapeFlag&32){const s=n._;s?(e.slots=ye(n),xr(n,"_",s)):vd(n,e.slots={})}else e.slots={},n&&_d(e,n);xr(e.slots,cl,1)},r9=(e,n,s)=>{const{vnode:o,slots:r}=e;let l=!0,a=je;if(o.shapeFlag&32){const i=n._;i?Pn?We(r,n):s&&i===1?l=!1:(We(r,n),!s&&i===1&&delete r._):(l=!n.$stable,vd(n,r)),a=n}else n&&(_d(e,n),a={default:1});if(l)for(const i in r)!gd(i)&&!(i in a)&&delete r[i]};function wd(){return{app:null,config:{isNativeTag:wp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let l9=0;function a9(e,n){return function(o,r=null){fe(o)||(o=Object.assign({},o)),r!=null&&!Me(r)&&(q("root props passed to app.mount() must be an object."),r=null);const l=wd(),a=new Set;let i=!1;const c=l.app={_uid:l9++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:Rr,get config(){return l.config},set config(p){q("app.config cannot be replaced. Modify individual options instead.")},use(p,...d){return a.has(p)?q("Plugin has already been applied to target app."):p&&fe(p.install)?(a.add(p),p.install(c,...d)):fe(p)?(a.add(p),p(c,...d)):q('A plugin must either be a function or an object with an "install" function.'),c},mixin(p){return l.mixins.includes(p)?q("Mixin has already been applied to target app"+(p.name?`: ${p.name}`:"")):l.mixins.push(p),c},component(p,d){return da(p,l.config),d?(l.components[p]&&q(`Component "${p}" has already been registered in target app.`),l.components[p]=d,c):l.components[p]},directive(p,d){return cd(p),d?(l.directives[p]&&q(`Directive "${p}" has already been registered in target app.`),l.directives[p]=d,c):l.directives[p]},mount(p,d,f){if(i)q("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{p.__vue_app__&&q("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=te(o,r);return h.appContext=l,l.reload=()=>{e(zt(h),p,f)},d&&n?n(h,p):e(h,p,f),i=!0,c._container=p,p.__vue_app__=c,c._instance=h.component,fm(c,Rr),ul(h.component)||h.component.proxy}},unmount(){i?(e(null,c._container),c._instance=null,hm(c),delete c._container.__vue_app__):q("Cannot unmount an app that is not mounted.")},provide(p,d){return p in l.provides&&q(`App already provides property with key "${String(p)}". It will be overwritten with the new value.`),l.provides[p]=d,c}};return c}}function ua(e,n,s,o,r=!1){if(ue(e)){e.forEach((h,y)=>ua(h,n&&(ue(n)?n[y]:n),s,o,r));return}if(Ps(o)&&!r)return;const l=o.shapeFlag&4?ul(o.component)||o.component.proxy:o.el,a=r?null:l,{i,r:c}=e;if(!i){q("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const p=n&&n.r,d=i.refs===je?i.refs={}:i.refs,f=i.setupState;if(p!=null&&p!==c&&(He(p)?(d[p]=null,Ce(f,p)&&(f[p]=null)):Oe(p)&&(p.value=null)),fe(c))dn(c,i,12,[a,d]);else{const h=He(c),y=Oe(c);if(h||y){const m=()=>{if(e.f){const v=h?Ce(f,c)?f[c]:d[c]:c.value;r?ue(v)&&Ja(v,l):ue(v)?v.includes(l)||v.push(l):h?(d[c]=[l],Ce(f,c)&&(f[c]=d[c])):(c.value=[l],e.k&&(d[e.k]=c.value))}else h?(d[c]=a,Ce(f,c)&&(f[c]=a)):y?(c.value=a,e.k&&(d[e.k]=a)):q("Invalid template ref type:",c,`(${typeof c})`)};a?(m.id=-1,tt(m,s)):m()}else q("Invalid template ref type:",c,`(${typeof c})`)}}let zs,Sn;function rn(e,n){e.appContext.config.performance&&Lr()&&Sn.mark(`vue-${n}-${e.uid}`),gm(e,n,Lr()?Sn.now():Date.now())}function ln(e,n){if(e.appContext.config.performance&&Lr()){const s=`vue-${n}-${e.uid}`,o=s+":end";Sn.mark(o),Sn.measure(`<${pl(e,e.type)}> ${n}`,s,o),Sn.clearMarks(s),Sn.clearMarks(o)}vm(e,n,Lr()?Sn.now():Date.now())}function Lr(){return zs!==void 0||(typeof window<"u"&&window.performance?(zs=!0,Sn=window.performance):zs=!1),zs}function i9(){const e=[];if(e.length){const n=e.length>1;console.warn(`Feature flag${n?"s":""} ${e.join(", ")} ${n?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const tt=Cm;function c9(e){return u9(e)}function u9(e,n){i9();const s=Dp();s.__VUE__=!0,Qp(s.__VUE_DEVTOOLS_GLOBAL_HOOK__,s);const{insert:o,remove:r,patchProp:l,createElement:a,createText:i,createComment:c,setText:p,setElementText:d,parentNode:f,nextSibling:h,setScopeId:y=_t,insertStaticContent:m}=e,v=(g,b,x,R=null,L=null,W=null,X=!1,U=null,z=Pn?!1:!!b.dynamicChildren)=>{if(g===b)return;g&&!$n(g,b)&&(R=re(g),mt(g,L,W,!0),g=null),b.patchFlag===-2&&(z=!1,b.dynamicChildren=null);const{type:H,ref:ae,shapeFlag:le}=b;switch(H){case zo:w(g,b,x,R);break;case Xe:A(g,b,x,R);break;case vr:g==null?E(b,x,R,X):_(g,b,x,X);break;case Te:Ae(g,b,x,R,L,W,X,U,z);break;default:le&1?B(g,b,x,R,L,W,X,U,z):le&6?ve(g,b,x,R,L,W,X,U,z):le&64||le&128?H.process(g,b,x,R,L,W,X,U,z,Be):q("Invalid VNode type:",H,`(${typeof H})`)}ae!=null&&L&&ua(ae,g&&g.ref,W,b||g,!b)},w=(g,b,x,R)=>{if(g==null)o(b.el=i(b.children),x,R);else{const L=b.el=g.el;b.children!==g.children&&p(L,b.children)}},A=(g,b,x,R)=>{g==null?o(b.el=c(b.children||""),x,R):b.el=g.el},E=(g,b,x,R)=>{[g.el,g.anchor]=m(g.children,b,x,R,g.el,g.anchor)},_=(g,b,x,R)=>{if(b.children!==g.children){const L=h(g.anchor);S(g),[b.el,b.anchor]=m(b.children,x,L,R)}else b.el=g.el,b.anchor=g.anchor},k=({el:g,anchor:b},x,R)=>{let L;for(;g&&g!==b;)L=h(g),o(g,x,R),g=L;o(b,x,R)},S=({el:g,anchor:b})=>{let x;for(;g&&g!==b;)x=h(g),r(g),g=x;r(b)},B=(g,b,x,R,L,W,X,U,z)=>{X=X||b.type==="svg",g==null?j(b,x,R,L,W,X,U,z):ne(g,b,L,W,X,U,z)},j=(g,b,x,R,L,W,X,U)=>{let z,H;const{type:ae,props:le,shapeFlag:ie,transition:ge,dirs:xe}=g;if(z=g.el=a(g.type,W,le&&le.is,le),ie&8?d(z,g.children):ie&16&&V(g.children,z,null,R,L,W&&ae!=="foreignObject",X,U),xe&&zn(g,null,R,"created"),$(z,g,g.scopeId,X,R),le){for(const Ne in le)Ne!=="value"&&!yr(Ne)&&l(z,Ne,null,le[Ne],W,g.children,R,L,G);"value"in le&&l(z,"value",null,le.value),(H=le.onVnodeBeforeMount)&&Ot(H,R,g)}Object.defineProperty(z,"__vnode",{value:g,enumerable:!1}),Object.defineProperty(z,"__vueParentComponent",{value:R,enumerable:!1}),xe&&zn(g,null,R,"beforeMount");const qe=(!L||L&&!L.pendingBranch)&&ge&&!ge.persisted;qe&&ge.beforeEnter(z),o(z,b,x),((H=le&&le.onVnodeMounted)||qe||xe)&&tt(()=>{H&&Ot(H,R,g),qe&&ge.enter(z),xe&&zn(g,null,R,"mounted")},L)},$=(g,b,x,R,L)=>{if(x&&y(g,x),R)for(let W=0;W<R.length;W++)y(g,R[W]);if(L){let W=L.subTree;if(W.patchFlag>0&&W.patchFlag&2048&&(W=ed(W.children)||W),b===W){const X=L.vnode;$(g,X,X.scopeId,X.slotScopeIds,L.parent)}}},V=(g,b,x,R,L,W,X,U,z=0)=>{for(let H=z;H<g.length;H++){const ae=g[H]=U?xn(g[H]):Vt(g[H]);v(null,ae,b,x,R,L,W,X,U)}},ne=(g,b,x,R,L,W,X)=>{const U=b.el=g.el;let{patchFlag:z,dynamicChildren:H,dirs:ae}=b;z|=g.patchFlag&16;const le=g.props||je,ie=b.props||je;let ge;x&&Kn(x,!1),(ge=ie.onVnodeBeforeUpdate)&&Ot(ge,x,b,g),ae&&zn(b,g,x,"beforeUpdate"),x&&Kn(x,!0),Pn&&(z=0,X=!1,H=null);const xe=L&&b.type!=="foreignObject";if(H?(pe(g.dynamicChildren,H,U,x,R,xe,W),x&&x.type.__hmrId&&uo(g,b)):X||Ee(g,b,U,null,x,R,xe,W,!1),z>0){if(z&16)K(U,b,le,ie,x,R,L);else if(z&2&&le.class!==ie.class&&l(U,"class",null,ie.class,L),z&4&&l(U,"style",le.style,ie.style,L),z&8){const qe=b.dynamicProps;for(let Ne=0;Ne<qe.length;Ne++){const Ge=qe[Ne],Nt=le[Ge],Es=ie[Ge];(Es!==Nt||Ge==="value")&&l(U,Ge,Nt,Es,L,g.children,x,R,G)}}z&1&&g.children!==b.children&&d(U,b.children)}else!X&&H==null&&K(U,b,le,ie,x,R,L);((ge=ie.onVnodeUpdated)||ae)&&tt(()=>{ge&&Ot(ge,x,b,g),ae&&zn(b,g,x,"updated")},R)},pe=(g,b,x,R,L,W,X)=>{for(let U=0;U<b.length;U++){const z=g[U],H=b[U],ae=z.el&&(z.type===Te||!$n(z,H)||z.shapeFlag&70)?f(z.el):x;v(z,H,ae,null,R,L,W,X,!0)}},K=(g,b,x,R,L,W,X)=>{if(x!==R){if(x!==je)for(const U in x)!yr(U)&&!(U in R)&&l(g,U,x[U],null,X,b.children,L,W,G);for(const U in R){if(yr(U))continue;const z=R[U],H=x[U];z!==H&&U!=="value"&&l(g,U,H,z,X,b.children,L,W,G)}"value"in R&&l(g,"value",x.value,R.value)}},Ae=(g,b,x,R,L,W,X,U,z)=>{const H=b.el=g?g.el:i(""),ae=b.anchor=g?g.anchor:i("");let{patchFlag:le,dynamicChildren:ie,slotScopeIds:ge}=b;(Pn||le&2048)&&(le=0,z=!1,ie=null),ge&&(U=U?U.concat(ge):ge),g==null?(o(H,x,R),o(ae,x,R),V(b.children,x,ae,L,W,X,U,z)):le>0&&le&64&&ie&&g.dynamicChildren?(pe(g.dynamicChildren,ie,x,L,W,X,U),L&&L.type.__hmrId?uo(g,b):(b.key!=null||L&&b===L.subTree)&&uo(g,b,!0)):Ee(g,b,x,ae,L,W,X,U,z)},ve=(g,b,x,R,L,W,X,U,z)=>{b.slotScopeIds=U,g==null?b.shapeFlag&512?L.ctx.activate(b,x,R,X,z):be(b,x,R,L,W,X,z):Pe(g,b,z)},be=(g,b,x,R,L,W,X)=>{const U=g.component=A9(g,R,L);if(U.type.__hmrId&&cm(U),mr(g),rn(U,"mount"),Uo(g)&&(U.ctx.renderer=Be),rn(U,"init"),E9(U),ln(U,"init"),U.asyncDep){if(L&&L.registerDep(U,ee),!g.el){const z=U.subTree=te(Xe);A(null,z,b,x)}return}ee(U,g,b,x,L,W,X),gr(),ln(U,"mount")},Pe=(g,b,x)=>{const R=b.component=g.component;if(Dm(g,b,x))if(R.asyncDep&&!R.asyncResolved){mr(b),ce(R,b,x),gr();return}else R.next=b,am(R.update),R.update();else b.el=g.el,R.vnode=b},ee=(g,b,x,R,L,W,X)=>{const U=()=>{if(g.isMounted){let{next:ae,bu:le,u:ie,parent:ge,vnode:xe}=g,qe=ae,Ne;mr(ae||g.vnode),Kn(g,!1),ae?(ae.el=xe.el,ce(g,ae,X)):ae=xe,le&&es(le),(Ne=ae.props&&ae.props.onVnodeBeforeUpdate)&&Ot(Ne,ge,ae,xe),Kn(g,!0),rn(g,"render");const Ge=wl(g);ln(g,"render");const Nt=g.subTree;g.subTree=Ge,rn(g,"patch"),v(Nt,Ge,f(Nt.el),re(Nt),g,L,W),ln(g,"patch"),ae.el=Ge.el,qe===null&&km(g,Ge.el),ie&&tt(ie,L),(Ne=ae.props&&ae.props.onVnodeUpdated)&&tt(()=>Ot(Ne,ge,ae,xe),L),Jp(g),gr()}else{let ae;const{el:le,props:ie}=b,{bm:ge,m:xe,parent:qe}=g,Ne=Ps(b);if(Kn(g,!1),ge&&es(ge),!Ne&&(ae=ie&&ie.onVnodeBeforeMount)&&Ot(ae,qe,b),Kn(g,!0),le&&de){const Ge=()=>{rn(g,"render"),g.subTree=wl(g),ln(g,"render"),rn(g,"hydrate"),de(le,g.subTree,g,L,null),ln(g,"hydrate")};Ne?b.type.__asyncLoader().then(()=>!g.isUnmounted&&Ge()):Ge()}else{rn(g,"render");const Ge=g.subTree=wl(g);ln(g,"render"),rn(g,"patch"),v(null,Ge,x,R,g,L,W),ln(g,"patch"),b.el=Ge.el}if(xe&&tt(xe,L),!Ne&&(ae=ie&&ie.onVnodeMounted)){const Ge=b;tt(()=>Ot(ae,qe,Ge),L)}(b.shapeFlag&256||qe&&Ps(qe.vnode)&&qe.vnode.shapeFlag&256)&&g.a&&tt(g.a,L),g.isMounted=!0,na(g),b=x=R=null}},z=g.effect=new oi(U,()=>sl(H),g.scope),H=g.update=()=>z.run();H.id=g.uid,Kn(g,!0),z.onTrack=g.rtc?ae=>es(g.rtc,ae):void 0,z.onTrigger=g.rtg?ae=>es(g.rtg,ae):void 0,H.ownerInstance=g,H()},ce=(g,b,x)=>{b.component=g;const R=g.vnode.props;g.vnode=b,g.next=null,Jm(g,b.props,R,x),r9(g,b.children,x),vs(),rc(),_s()},Ee=(g,b,x,R,L,W,X,U,z=!1)=>{const H=g&&g.children,ae=g?g.shapeFlag:0,le=b.children,{patchFlag:ie,shapeFlag:ge}=b;if(ie>0){if(ie&128){bt(H,le,x,R,L,W,X,U,z);return}else if(ie&256){Fe(H,le,x,R,L,W,X,U,z);return}}ge&8?(ae&16&&G(H,L,W),le!==H&&d(x,le)):ae&16?ge&16?bt(H,le,x,R,L,W,X,U,z):G(H,L,W,!0):(ae&8&&d(x,""),ge&16&&V(le,x,R,L,W,X,U,z))},Fe=(g,b,x,R,L,W,X,U,z)=>{g=g||Ts,b=b||Ts;const H=g.length,ae=b.length,le=Math.min(H,ae);let ie;for(ie=0;ie<le;ie++){const ge=b[ie]=z?xn(b[ie]):Vt(b[ie]);v(g[ie],ge,x,null,L,W,X,U,z)}H>ae?G(g,L,W,!0,!1,le):V(b,x,R,L,W,X,U,z,le)},bt=(g,b,x,R,L,W,X,U,z)=>{let H=0;const ae=b.length;let le=g.length-1,ie=ae-1;for(;H<=le&&H<=ie;){const ge=g[H],xe=b[H]=z?xn(b[H]):Vt(b[H]);if($n(ge,xe))v(ge,xe,x,null,L,W,X,U,z);else break;H++}for(;H<=le&&H<=ie;){const ge=g[le],xe=b[ie]=z?xn(b[ie]):Vt(b[ie]);if($n(ge,xe))v(ge,xe,x,null,L,W,X,U,z);else break;le--,ie--}if(H>le){if(H<=ie){const ge=ie+1,xe=ge<ae?b[ge].el:R;for(;H<=ie;)v(null,b[H]=z?xn(b[H]):Vt(b[H]),x,xe,L,W,X,U,z),H++}}else if(H>ie)for(;H<=le;)mt(g[H],L,W,!0),H++;else{const ge=H,xe=H,qe=new Map;for(H=xe;H<=ie;H++){const ct=b[H]=z?xn(b[H]):Vt(b[H]);ct.key!=null&&(qe.has(ct.key)&&q("Duplicate keys found during update:",JSON.stringify(ct.key),"Make sure keys are unique."),qe.set(ct.key,H))}let Ne,Ge=0;const Nt=ie-xe+1;let Es=!1,Yi=0;const Ws=new Array(Nt);for(H=0;H<Nt;H++)Ws[H]=0;for(H=ge;H<=le;H++){const ct=g[H];if(Ge>=Nt){mt(ct,L,W,!0);continue}let Gt;if(ct.key!=null)Gt=qe.get(ct.key);else for(Ne=xe;Ne<=ie;Ne++)if(Ws[Ne-xe]===0&&$n(ct,b[Ne])){Gt=Ne;break}Gt===void 0?mt(ct,L,W,!0):(Ws[Gt-xe]=H+1,Gt>=Yi?Yi=Gt:Es=!0,v(ct,b[Gt],x,null,L,W,X,U,z),Ge++)}const Gi=Es?p9(Ws):Ts;for(Ne=Gi.length-1,H=Nt-1;H>=0;H--){const ct=xe+H,Gt=b[ct],Qi=ct+1<ae?b[ct+1].el:R;Ws[H]===0?v(null,Gt,x,Qi,L,W,X,U,z):Es&&(Ne<0||H!==Gi[Ne]?rt(Gt,x,Qi,2):Ne--)}}},rt=(g,b,x,R,L=null)=>{const{el:W,type:X,transition:U,children:z,shapeFlag:H}=g;if(H&6){rt(g.component.subTree,b,x,R);return}if(H&128){g.suspense.move(b,x,R);return}if(H&64){X.move(g,b,x,Be);return}if(X===Te){o(W,b,x);for(let le=0;le<z.length;le++)rt(z[le],b,x,R);o(g.anchor,b,x);return}if(X===vr){k(g,b,x);return}if(R!==2&&H&1&&U)if(R===0)U.beforeEnter(W),o(W,b,x),tt(()=>U.enter(W),L);else{const{leave:le,delayLeave:ie,afterLeave:ge}=U,xe=()=>o(W,b,x),qe=()=>{le(W,()=>{xe(),ge&&ge()})};ie?ie(W,xe,qe):qe()}else o(W,b,x)},mt=(g,b,x,R=!1,L=!1)=>{const{type:W,props:X,ref:U,children:z,dynamicChildren:H,shapeFlag:ae,patchFlag:le,dirs:ie}=g;if(U!=null&&ua(U,null,x,g,!0),ae&256){b.ctx.deactivate(g);return}const ge=ae&1&&ie,xe=!Ps(g);let qe;if(xe&&(qe=X&&X.onVnodeBeforeUnmount)&&Ot(qe,b,g),ae&6)se(g.component,x,R);else{if(ae&128){g.suspense.unmount(x,R);return}ge&&zn(g,null,b,"beforeUnmount"),ae&64?g.type.remove(g,b,x,L,Be,R):H&&(W!==Te||le>0&&le&64)?G(H,b,x,!1,!0):(W===Te&&le&384||!L&&ae&16)&&G(z,b,x),R&&An(g)}(xe&&(qe=X&&X.onVnodeUnmounted)||ge)&&tt(()=>{qe&&Ot(qe,b,g),ge&&zn(g,null,b,"unmounted")},x)},An=g=>{const{type:b,el:x,anchor:R,transition:L}=g;if(b===Te){g.patchFlag>0&&g.patchFlag&2048&&L&&!L.persisted?g.children.forEach(X=>{X.type===Xe?r(X.el):An(X)}):O(x,R);return}if(b===vr){S(g);return}const W=()=>{r(x),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(g.shapeFlag&1&&L&&!L.persisted){const{leave:X,delayLeave:U}=L,z=()=>X(x,W);U?U(g.el,W,z):z()}else W()},O=(g,b)=>{let x;for(;g!==b;)x=h(g),r(g),g=x;r(b)},se=(g,b,x)=>{g.type.__hmrId&&um(g);const{bum:R,scope:L,update:W,subTree:X,um:U}=g;R&&es(R),L.stop(),W&&(W.active=!1,mt(X,g,b,x)),U&&tt(U,b),tt(()=>{g.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve()),mm(g)},G=(g,b,x,R=!1,L=!1,W=0)=>{for(let X=W;X<g.length;X++)mt(g[X],b,x,R,L)},re=g=>g.shapeFlag&6?re(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),ke=(g,b,x)=>{g==null?b._vnode&&mt(b._vnode,null,null,!0):v(b._vnode||null,g,b,null,null,null,x),rc(),Kp(),b._vnode=g},Be={p:v,um:mt,m:rt,r:An,mt:be,mc:V,pc:Ee,pbc:pe,n:re,o:e};let me,de;return n&&([me,de]=n(Be)),{render:ke,hydrate:me,createApp:a9(ke,me)}}function Kn({effect:e,update:n},s){e.allowRecurse=n.allowRecurse=s}function uo(e,n,s=!1){const o=e.children,r=n.children;if(ue(o)&&ue(r))for(let l=0;l<o.length;l++){const a=o[l];let i=r[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[l]=xn(r[l]),i.el=a.el),s||uo(a,i)),i.type===zo&&(i.el=a.el),i.type===Xe&&!i.el&&(i.el=a.el)}}function p9(e){const n=e.slice(),s=[0];let o,r,l,a,i;const c=e.length;for(o=0;o<c;o++){const p=e[o];if(p!==0){if(r=s[s.length-1],e[r]<p){n[o]=r,s.push(o);continue}for(l=0,a=s.length-1;l<a;)i=l+a>>1,e[s[i]]<p?l=i+1:a=i;p<e[s[l]]&&(l>0&&(n[o]=s[l-1]),s[l]=o)}}for(l=s.length,a=s[l-1];l-- >0;)s[l]=a,a=n[a];return s}const d9=e=>e.__isTeleport,Is=e=>e&&(e.disabled||e.disabled===""),vc=e=>typeof SVGElement<"u"&&e instanceof SVGElement,pa=(e,n)=>{const s=e&&e.to;if(He(s))if(n){const o=n(s);return o||q(`Failed to locate Teleport target with selector "${s}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),o}else return q("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!s&&!Is(e)&&q(`Invalid Teleport target: ${s}`),s},f9={__isTeleport:!0,process(e,n,s,o,r,l,a,i,c,p){const{mc:d,pc:f,pbc:h,o:{insert:y,querySelector:m,createText:v,createComment:w}}=p,A=Is(n.props);let{shapeFlag:E,children:_,dynamicChildren:k}=n;if(Pn&&(c=!1,k=null),e==null){const S=n.el=w("teleport start"),B=n.anchor=w("teleport end");y(S,s,o),y(B,s,o);const j=n.target=pa(n.props,m),$=n.targetAnchor=v("");j?(y($,j),a=a||vc(j)):A||q("Invalid Teleport target on mount:",j,`(${typeof j})`);const V=(ne,pe)=>{E&16&&d(_,ne,pe,r,l,a,i,c)};A?V(s,B):j&&V(j,$)}else{n.el=e.el;const S=n.anchor=e.anchor,B=n.target=e.target,j=n.targetAnchor=e.targetAnchor,$=Is(e.props),V=$?s:B,ne=$?S:j;if(a=a||vc(B),k?(h(e.dynamicChildren,k,V,r,l,a,i),uo(e,n,!0)):c||f(e,n,V,ne,r,l,a,i,!1),A)$||sr(n,s,S,p,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const pe=n.target=pa(n.props,m);pe?sr(n,pe,null,p,0):q("Invalid Teleport target on update:",B,`(${typeof B})`)}else $&&sr(n,B,j,p,1)}Ad(n)},remove(e,n,s,o,{um:r,o:{remove:l}},a){const{shapeFlag:i,children:c,anchor:p,targetAnchor:d,target:f,props:h}=e;if(f&&l(d),(a||!Is(h))&&(l(p),i&16))for(let y=0;y<c.length;y++){const m=c[y];r(m,n,s,!0,!!m.dynamicChildren)}},move:sr,hydrate:h9};function sr(e,n,s,{o:{insert:o},m:r},l=2){l===0&&o(e.targetAnchor,n,s);const{el:a,anchor:i,shapeFlag:c,children:p,props:d}=e,f=l===2;if(f&&o(a,n,s),(!f||Is(d))&&c&16)for(let h=0;h<p.length;h++)r(p[h],n,s,2);f&&o(i,n,s)}function h9(e,n,s,o,r,l,{o:{nextSibling:a,parentNode:i,querySelector:c}},p){const d=n.target=pa(n.props,c);if(d){const f=d._lpa||d.firstChild;if(n.shapeFlag&16)if(Is(n.props))n.anchor=p(a(e),n,i(e),s,o,r,l),n.targetAnchor=f;else{n.anchor=a(e);let h=f;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){n.targetAnchor=h,d._lpa=n.targetAnchor&&a(n.targetAnchor);break}p(f,n,d,s,o,r,l)}Ad(n)}return n.anchor&&a(n.anchor)}const y9=f9;function Ad(e){const n=e.ctx;if(n&&n.ut){let s=e.children[0].el;for(;s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}const Te=Symbol("Fragment"),zo=Symbol("Text"),Xe=Symbol("Comment"),vr=Symbol("Static"),po=[];let Wt=null;function D(e=!1){po.push(Wt=e?null:[])}function m9(){po.pop(),Wt=po[po.length-1]||null}let Bo=1;function _c(e){Bo+=e}function bd(e){return e.dynamicChildren=Bo>0?Wt||Ts:null,m9(),Bo>0&&Wt&&Wt.push(e),e}function oe(e,n,s,o,r,l){return bd(t(e,n,s,o,r,l,!0))}function I(e,n,s,o,r){return bd(te(e,n,s,o,r,!0))}function Hn(e){return e?e.__v_isVNode===!0:!1}function $n(e,n){return n.shapeFlag&6&&Bs.has(n.type)?(e.shapeFlag&=-257,n.shapeFlag&=-513,!1):e.type===n.type&&e.key===n.key}const g9=(...e)=>v9(...e),cl="__vInternal",Ed=({key:e})=>e??null,_r=({ref:e,ref_key:n,ref_for:s})=>e!=null?He(e)||Oe(e)||fe(e)?{i:Ze,r:e,k:n,f:!!s}:e:null;function t(e,n=null,s=null,o=0,r=null,l=e===Te?0:1,a=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Ed(n),ref:n&&_r(n),scopeId:rl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ze};return i?(_i(c,s),l&128&&e.normalize(c)):s&&(c.shapeFlag|=He(s)?8:16),c.key!==c.key&&q("VNode created with invalid key (NaN). VNode type:",c.type),Bo>0&&!a&&Wt&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&Wt.push(c),c}const te=g9;function v9(e,n=null,s=null,o=0,r=null,l=!1){if((!e||e===Fm)&&(e||q(`Invalid vnode type when creating vnode: ${e}.`),e=Xe),Hn(e)){const i=zt(e,n,!0);return s&&_i(i,s),Bo>0&&!l&&Wt&&(i.shapeFlag&6?Wt[Wt.indexOf(e)]=i:Wt.push(i)),i.patchFlag|=-2,i}if(Bd(e)&&(e=e.__vccOpts),n){n=Q(n);let{class:i,style:c}=n;i&&!He(i)&&(n.class=Ke(i)),Me(c)&&(Tr(c)&&!ue(c)&&(c=We({},c)),n.style=at(c))}const a=He(e)?1:td(e)?128:d9(e)?64:Me(e)?4:fe(e)?2:0;return a&4&&Tr(e)&&(e=ye(e),q("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),t(e,n,s,o,r,a,l,!0)}function Q(e){return e?Tr(e)||cl in e?We({},e):e:null}function zt(e,n,s=!1){const{props:o,ref:r,patchFlag:l,children:a}=e,i=n?Ue(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:i,key:i&&Ed(i),ref:n&&n.ref?s&&r?ue(r)?r.concat(_r(n)):[r,_r(n)]:_r(n):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l===-1&&ue(a)?a.map(Dd):a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==Te?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zt(e.ssContent),ssFallback:e.ssFallback&&zt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Dd(e){const n=zt(e);return ue(e.children)&&(n.children=e.children.map(Dd)),n}function u(e=" ",n=0){return te(zo,null,e,n)}function De(e="",n=!1){return n?(D(),I(Xe,null,e)):te(Xe,null,e)}function Vt(e){return e==null||typeof e=="boolean"?te(Xe):ue(e)?te(Te,null,e.slice()):typeof e=="object"?xn(e):te(zo,null,String(e))}function xn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zt(e)}function _i(e,n){let s=0;const{shapeFlag:o}=e;if(n==null)n=null;else if(ue(n))s=16;else if(typeof n=="object")if(o&65){const r=n.default;r&&(r._c&&(r._d=!1),_i(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=n._;!r&&!(cl in n)?n._ctx=Ze:r===3&&Ze&&(Ze.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else fe(n)?(n={default:n,_ctx:Ze},s=32):(n=String(n),o&64?(s=16,n=[u(n)]):s=8);e.children=n,e.shapeFlag|=s}function Ue(...e){const n={};for(let s=0;s<e.length;s++){const o=e[s];for(const r in o)if(r==="class")n.class!==o.class&&(n.class=Ke([n.class,o.class]));else if(r==="style")n.style=at([n.style,o.style]);else if(qo(r)){const l=n[r],a=o[r];a&&l!==a&&!(ue(l)&&l.includes(a))&&(n[r]=l?[].concat(l,a):a)}else r!==""&&(n[r]=o[r])}return n}function Ot(e,n,s,o=null){Lt(e,n,7,[s,o])}const _9=wd();let w9=0;function A9(e,n,s){const o=e.type,r=(n?n.appContext:e.appContext)||_9,l={uid:w9++,vnode:e,type:o,parent:n,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new kp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yd(o,r),emitsOptions:Xp(o,r),emit:null,emitted:null,propsDefaults:je,inheritAttrs:o.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx=jm(l),l.root=n?n.root:l,l.emit=wm.bind(null,l),e.ce&&e.ce(l),l}let ze=null;const yt=()=>ze||Ze,Rs=e=>{ze=e,e.scope.on()},hs=()=>{ze&&ze.scope.off(),ze=null},b9=Un("slot,component");function da(e,n){const s=n.isNativeTag||wp;(b9(e)||s(e))&&q("Do not use built-in or reserved HTML elements as component id: "+e)}function kd(e){return e.vnode.shapeFlag&4}let So=!1;function E9(e,n=!1){So=n;const{props:s,children:o}=e.vnode,r=kd(e);Gm(e,s,r,n),o9(e,o);const l=r?D9(e,n):void 0;return So=!1,l}function D9(e,n){var s;const o=e.type;{if(o.name&&da(o.name,e.appContext.config),o.components){const l=Object.keys(o.components);for(let a=0;a<l.length;a++)da(l[a],e.appContext.config)}if(o.directives){const l=Object.keys(o.directives);for(let a=0;a<l.length;a++)cd(l[a])}o.compilerOptions&&k9()&&q('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=tl(new Proxy(e.ctx,dd)),qm(e);const{setup:r}=o;if(r){const l=e.setupContext=r.length>1?xd(e):null;Rs(e),vs();const a=dn(r,e,0,[Ss(e.props),l]);if(_s(),hs(),Xa(a)){if(a.then(hs,hs),n)return a.then(i=>{wc(e,i,n)}).catch(i=>{nl(i,e,0)});if(e.asyncDep=a,!e.suspense){const i=(s=o.name)!==null&&s!==void 0?s:"Anonymous";q(`Component <${i}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else wc(e,a,n)}else Cd(e,n)}function wc(e,n,s){fe(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:Me(n)?(Hn(n)&&q("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=n,e.setupState=jp(n),Hm(e)):n!==void 0&&q(`setup() should return an object. Received: ${n===null?"null":typeof n}`),Cd(e,s)}let fa;const k9=()=>!fa;function Cd(e,n,s){const o=e.type;if(!e.render){if(!n&&fa&&!o.render){const r=o.template||gi(e).template;if(r){rn(e,"compile");const{isCustomElement:l,compilerOptions:a}=e.appContext.config,{delimiters:i,compilerOptions:c}=o,p=We(We({isCustomElement:l,delimiters:i},a),c);o.render=fa(r,p),ln(e,"compile")}}e.render=o.render||_t}Rs(e),vs(),Um(e),_s(),hs(),!o.render&&e.render===_t&&!n&&(o.template?q('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):q("Component is missing template or render function."))}function C9(e){return new Proxy(e.attrs,{get(n,s){return Pr(),At(e,"get","$attrs"),n[s]},set(){return q("setupContext.attrs is readonly."),!1},deleteProperty(){return q("setupContext.attrs is readonly."),!1}})}function xd(e){const n=o=>{if(e.exposed&&q("expose() should be called only once per setup()."),o!=null){let r=typeof o;r==="object"&&(ue(o)?r="array":Oe(o)&&(r="ref")),r!=="object"&&q(`expose() should be passed a plain object, received ${r}.`)}e.exposed=o||{}};let s;return Object.freeze({get attrs(){return s||(s=C9(e))},get slots(){return Ss(e.slots)},get emit(){return(o,...r)=>e.emit(o,...r)},expose:n})}function ul(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(jp(tl(e.exposed)),{get(n,s){if(s in n)return n[s];if(s in fs)return fs[s](e)},has(n,s){return s in n||s in fs}}))}const x9=/(?:^|[-_])(\w)/g,B9=e=>e.replace(x9,n=>n.toUpperCase()).replace(/[-_]/g,"");function $o(e,n=!0){return fe(e)?e.displayName||e.name:e.name||n&&e.__name}function pl(e,n,s=!1){let o=$o(n);if(!o&&n.__file){const r=n.__file.match(/([^/\\]+)\.\w+$/);r&&(o=r[1])}if(!o&&e&&e.parent){const r=l=>{for(const a in l)if(l[a]===n)return a};o=r(e.components||e.parent.type.components)||r(e.appContext.components)}return o?B9(o):s?"App":"Anonymous"}function Bd(e){return fe(e)&&"__vccOpts"in e}const T=(e,n)=>Zy(e,n,So);function S9(){return $9().slots}function $9(){const e=yt();return e||q("useContext() called without active instance."),e.setupContext||(e.setupContext=xd(e))}function Bt(e,n,s){const o=arguments.length;return o===2?Me(n)&&!ue(n)?Hn(n)?te(e,null,[n]):te(e,n):te(e,null,n):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&Hn(s)&&(s=[s]),te(e,n,s))}const T9=Symbol("ssrContext"),O9=()=>{{const e=P(T9);return e||q("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function kl(e){return!!(e&&e.__v_isShallow)}function P9(){if(typeof window>"u")return;const e={style:"color:#3ba776"},n={style:"color:#0b1bc9"},s={style:"color:#b62e24"},o={style:"color:#9d288c"},r={header(f){return Me(f)?f.__isVue?["div",e,"VueInstance"]:Oe(f)?["div",{},["span",e,d(f)],"<",i(f.value),">"]:ps(f)?["div",{},["span",e,kl(f)?"ShallowReactive":"Reactive"],"<",i(f),`>${qn(f)?" (readonly)":""}`]:qn(f)?["div",{},["span",e,kl(f)?"ShallowReadonly":"Readonly"],"<",i(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...l(f.$)]}};function l(f){const h=[];f.type.props&&f.props&&h.push(a("props",ye(f.props))),f.setupState!==je&&h.push(a("setup",f.setupState)),f.data!==je&&h.push(a("data",ye(f.data)));const y=c(f,"computed");y&&h.push(a("computed",y));const m=c(f,"inject");return m&&h.push(a("injected",m)),h.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),h}function a(f,h){return h=We({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(y=>["div",{},["span",o,y+": "],i(h[y],!1)])]]:["span",{}]}function i(f,h=!0){return typeof f=="number"?["span",n,f]:typeof f=="string"?["span",s,JSON.stringify(f)]:typeof f=="boolean"?["span",o,f]:Me(f)?["object",{object:h?ye(f):f}]:["span",s,String(f)]}function c(f,h){const y=f.type;if(fe(y))return;const m={};for(const v in f.ctx)p(y,v,h)&&(m[v]=f.ctx[v]);return m}function p(f,h,y){const m=f[y];if(ue(m)&&m.includes(h)||Me(m)&&h in m||f.extends&&p(f.extends,h,y)||f.mixins&&f.mixins.some(v=>p(v,h,y)))return!0}function d(f){return kl(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const Rr="3.2.47",I9="http://www.w3.org/2000/svg",ts=typeof document<"u"?document:null,Ac=ts&&ts.createElement("template"),M9={insert:(e,n,s)=>{n.insertBefore(e,s||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,s,o)=>{const r=n?ts.createElementNS(I9,e):ts.createElement(e,s?{is:s}:void 0);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>ts.createTextNode(e),createComment:e=>ts.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ts.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,s,o,r,l){const a=s?s.previousSibling:n.lastChild;if(r&&(r===l||r.nextSibling))for(;n.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{Ac.innerHTML=o?`<svg>${e}</svg>`:e;const i=Ac.content;if(o){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}n.insertBefore(i,s)}return[a?a.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}};function L9(e,n,s){const o=e._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?e.removeAttribute("class"):s?e.setAttribute("class",n):e.className=n}function R9(e,n,s){const o=e.style,r=He(s);if(s&&!r){if(n&&!He(n))for(const l in n)s[l]==null&&ha(o,l,"");for(const l in s)ha(o,l,s[l])}else{const l=o.display;r?n!==s&&(o.cssText=s):n&&e.removeAttribute("style"),"_vod"in e&&(o.display=l)}}const F9=/[^\\];\s*$/,bc=/\s*!important$/;function ha(e,n,s){if(ue(s))s.forEach(o=>ha(e,n,o));else if(s==null&&(s=""),F9.test(s)&&q(`Unexpected semicolon at the end of '${n}' style value: '${s}'`),n.startsWith("--"))e.setProperty(n,s);else{const o=N9(e,n);bc.test(s)?e.setProperty(hn(o),s.replace(bc,""),"important"):e[o]=s}}const Ec=["Webkit","Moz","ms"],Cl={};function N9(e,n){const s=Cl[n];if(s)return s;let o=nn(n);if(o!=="filter"&&o in e)return Cl[n]=o;o=ms(o);for(let r=0;r<Ec.length;r++){const l=Ec[r]+o;if(l in e)return Cl[n]=l}return n}const Dc="http://www.w3.org/1999/xlink";function j9(e,n,s,o,r){if(o&&n.startsWith("xlink:"))s==null?e.removeAttributeNS(Dc,n.slice(6,n.length)):e.setAttributeNS(Dc,n,s);else{const l=ly(n);s==null||l&&!vp(s)?e.removeAttribute(n):e.setAttribute(n,l?"":s)}}function q9(e,n,s,o,r,l,a){if(n==="innerHTML"||n==="textContent"){o&&a(o,r,l),e[n]=s??"";return}if(n==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const c=s??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),s==null&&e.removeAttribute(n);return}let i=!1;if(s===""||s==null){const c=typeof e[n];c==="boolean"?s=vp(s):s==null&&c==="string"?(s="",i=!0):c==="number"&&(s=0,i=!0)}try{e[n]=s}catch(c){i||q(`Failed setting prop "${n}" on <${e.tagName.toLowerCase()}>: value ${s} is invalid.`,c)}i&&e.removeAttribute(n)}function H9(e,n,s,o){e.addEventListener(n,s,o)}function V9(e,n,s,o){e.removeEventListener(n,s,o)}function U9(e,n,s,o,r=null){const l=e._vei||(e._vei={}),a=l[n];if(o&&a)a.value=o;else{const[i,c]=W9(n);if(o){const p=l[n]=Y9(o,r);H9(e,i,p,c)}else a&&(V9(e,i,a,c),l[n]=void 0)}}const kc=/(?:Once|Passive|Capture)$/;function W9(e){let n;if(kc.test(e)){n={};let o;for(;o=e.match(kc);)e=e.slice(0,e.length-o[0].length),n[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hn(e.slice(2)),n]}let xl=0;const z9=Promise.resolve(),K9=()=>xl||(z9.then(()=>xl=0),xl=Date.now());function Y9(e,n){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Lt(G9(o,s.value),n,5,[o])};return s.value=e,s.attached=K9(),s}function G9(e,n){if(ue(n)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},n.map(o=>r=>!r._stopped&&o&&o(r))}else return n}const Cc=/^on[a-z]/,Q9=(e,n,s,o,r=!1,l,a,i,c)=>{n==="class"?L9(e,o,r):n==="style"?R9(e,s,o):qo(n)?Cr(n)||U9(e,n,s,o,a):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):J9(e,n,o,r))?q9(e,n,o,l,a,i,c):(n==="true-value"?e._trueValue=o:n==="false-value"&&(e._falseValue=o),j9(e,n,o,r))};function J9(e,n,s,o){return o?!!(n==="innerHTML"||n==="textContent"||n in e&&Cc.test(n)&&fe(s)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||Cc.test(n)&&He(s)?!1:n in e}const En="transition",Ks="animation",Sd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Z9=We({},Sm.props,Sd),Yn=(e,n=[])=>{ue(e)?e.forEach(s=>s(...n)):e&&e(...n)},xc=e=>e?ue(e)?e.some(n=>n.length>1):e.length>1:!1;function X9(e){const n={};for(const K in e)K in Sd||(n[K]=e[K]);if(e.css===!1)return n;const{name:s="v",type:o,duration:r,enterFromClass:l=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:i=`${s}-enter-to`,appearFromClass:c=l,appearActiveClass:p=a,appearToClass:d=i,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:y=`${s}-leave-to`}=e,m=eg(r),v=m&&m[0],w=m&&m[1],{onBeforeEnter:A,onEnter:E,onEnterCancelled:_,onLeave:k,onLeaveCancelled:S,onBeforeAppear:B=A,onAppear:j=E,onAppearCancelled:$=_}=n,V=(K,Ae,ve)=>{kn(K,Ae?d:i),kn(K,Ae?p:a),ve&&ve()},ne=(K,Ae)=>{K._isLeaving=!1,kn(K,f),kn(K,y),kn(K,h),Ae&&Ae()},pe=K=>(Ae,ve)=>{const be=K?j:E,Pe=()=>V(Ae,K,ve);Yn(be,[Ae,Pe]),Bc(()=>{kn(Ae,K?c:l),an(Ae,K?d:i),xc(be)||Sc(Ae,o,v,Pe)})};return We(n,{onBeforeEnter(K){Yn(A,[K]),an(K,l),an(K,a)},onBeforeAppear(K){Yn(B,[K]),an(K,c),an(K,p)},onEnter:pe(!1),onAppear:pe(!0),onLeave(K,Ae){K._isLeaving=!0;const ve=()=>ne(K,Ae);an(K,f),Td(),an(K,h),Bc(()=>{K._isLeaving&&(kn(K,f),an(K,y),xc(k)||Sc(K,o,w,ve))}),Yn(k,[K,ve])},onEnterCancelled(K){V(K,!1),Yn(_,[K])},onAppearCancelled(K){V(K,!0),Yn($,[K])},onLeaveCancelled(K){ne(K),Yn(S,[K])}})}function eg(e){if(e==null)return null;if(Me(e))return[Bl(e.enter),Bl(e.leave)];{const n=Bl(e);return[n,n]}}function Bl(e){const n=hy(e);return sm(n,"<transition> explicit duration"),n}function an(e,n){n.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(n)}function kn(e,n){n.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:s}=e;s&&(s.delete(n),s.size||(e._vtc=void 0))}function Bc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let tg=0;function Sc(e,n,s,o){const r=e._endId=++tg,l=()=>{r===e._endId&&o()};if(s)return setTimeout(l,s);const{type:a,timeout:i,propCount:c}=$d(e,n);if(!a)return o();const p=a+"end";let d=0;const f=()=>{e.removeEventListener(p,h),l()},h=y=>{y.target===e&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},i+1),e.addEventListener(p,h)}function $d(e,n){const s=window.getComputedStyle(e),o=m=>(s[m]||"").split(", "),r=o(`${En}Delay`),l=o(`${En}Duration`),a=$c(r,l),i=o(`${Ks}Delay`),c=o(`${Ks}Duration`),p=$c(i,c);let d=null,f=0,h=0;n===En?a>0&&(d=En,f=a,h=l.length):n===Ks?p>0&&(d=Ks,f=p,h=c.length):(f=Math.max(a,p),d=f>0?a>p?En:Ks:null,h=d?d===En?l.length:c.length:0);const y=d===En&&/\b(transform|all)(,|$)/.test(o(`${En}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:y}}function $c(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((s,o)=>Tc(s)+Tc(e[o])))}function Tc(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Td(){return document.body.offsetHeight}const Od=new WeakMap,Pd=new WeakMap,Id={name:"TransitionGroup",props:We({},Z9,{tag:String,moveClass:String}),setup(e,{slots:n}){const s=yt(),o=sd();let r,l;return al(()=>{if(!r.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!ag(r[0].el,s.vnode.el,a))return;r.forEach(og),r.forEach(rg);const i=r.filter(lg);Td(),i.forEach(c=>{const p=c.el,d=p.style;an(p,a),d.transform=d.webkitTransform=d.transitionDuration="";const f=p._moveCb=h=>{h&&h.target!==p||(!h||/transform$/.test(h.propertyName))&&(p.removeEventListener("transitionend",f),p._moveCb=null,kn(p,a))};p.addEventListener("transitionend",f)})}),()=>{const a=ye(e),i=X9(a);let c=a.tag||Te;r=l,l=n.default?yi(n.default()):[];for(let p=0;p<l.length;p++){const d=l[p];d.key!=null?Ls(d,xo(d,i,o,s)):q("<TransitionGroup> children must be keyed.")}if(r)for(let p=0;p<r.length;p++){const d=r[p];Ls(d,xo(d,i,o,s)),Od.set(d,d.el.getBoundingClientRect())}return te(c,null,l)}}},ng=e=>delete e.mode;Id.props;const sg=Id;function og(e){const n=e.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function rg(e){Pd.set(e,e.el.getBoundingClientRect())}function lg(e){const n=Od.get(e),s=Pd.get(e),o=n.left-s.left,r=n.top-s.top;if(o||r){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${r}px)`,l.transitionDuration="0s",e}}function ag(e,n,s){const o=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(i=>i&&o.classList.remove(i))}),s.split(/\s+/).forEach(a=>a&&o.classList.add(a)),o.style.display="none";const r=n.nodeType===1?n:n.parentNode;r.appendChild(o);const{hasTransform:l}=$d(o);return r.removeChild(o),l}const ig=["ctrl","shift","alt","meta"],cg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>ig.some(s=>e[`${s}Key`]&&!n.includes(s))},ug=(e,n)=>(s,...o)=>{for(let r=0;r<n.length;r++){const l=cg[n[r]];if(l&&l(s,n))return}return e(s,...o)},pg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},or=(e,n)=>s=>{if(!("key"in s))return;const o=hn(s.key);if(n.some(r=>r===o||pg[r]===o))return e(s)},Md={beforeMount(e,{value:n},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&n?s.beforeEnter(e):Ys(e,n)},mounted(e,{value:n},{transition:s}){s&&n&&s.enter(e)},updated(e,{value:n,oldValue:s},{transition:o}){!n!=!s&&(o?n?(o.beforeEnter(e),Ys(e,!0),o.enter(e)):o.leave(e,()=>{Ys(e,!1)}):Ys(e,n))},beforeUnmount(e,{value:n}){Ys(e,n)}};function Ys(e,n){e.style.display=n?e._vod:"none"}const dg=We({patchProp:Q9},M9);let Oc;function fg(){return Oc||(Oc=c9(dg))}const hg=(...e)=>{const n=fg().createApp(...e);yg(n),mg(n);const{mount:s}=n;return n.mount=o=>{const r=gg(o);if(!r)return;const l=n._component;!fe(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.innerHTML="";const a=s(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},n};function yg(e){Object.defineProperty(e.config,"isNativeTag",{value:n=>gp(n)||oy(n),writable:!1})}function mg(e){{const n=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return n},set(){q("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const s=e.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(e.config,"compilerOptions",{get(){return q(o),s},set(){q(o)}})}}function gg(e){if(He(e)){const n=document.querySelector(e);return n||q(`Failed to mount app: mount target selector "${e}" returned null.`),n}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&q('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}function vg(){P9()}vg();function ya(e,n={},s){for(const o in e){const r=e[o],l=s?`${s}:${o}`:o;typeof r=="object"&&r!==null?ya(r,n,l):typeof r=="function"&&(n[l]=r)}return n}const _g={run:e=>e()},wg=()=>_g,Ld=typeof console.createTask<"u"?console.createTask:wg;function Ag(e,n){const s=n.shift(),o=Ld(s);return e.reduce((r,l)=>r.then(()=>o.run(()=>l(...n))),Promise.resolve())}function bg(e,n){const s=n.shift(),o=Ld(s);return Promise.all(e.map(r=>o.run(()=>r(...n))))}function Sl(e,n){for(const s of[...e])s(n)}class Eg{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(n,s,o={}){if(!n||typeof s!="function")return()=>{};const r=n;let l;for(;this._deprecatedHooks[n];)l=this._deprecatedHooks[n],n=l.to;if(l&&!o.allowDeprecated){let a=l.message;a||(a=`${r} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+n.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[n]=this._hooks[n]||[],this._hooks[n].push(s),()=>{s&&(this.removeHook(n,s),s=void 0)}}hookOnce(n,s){let o,r=(...l)=>(typeof o=="function"&&o(),o=void 0,r=void 0,s(...l));return o=this.hook(n,r),o}removeHook(n,s){if(this._hooks[n]){const o=this._hooks[n].indexOf(s);o!==-1&&this._hooks[n].splice(o,1),this._hooks[n].length===0&&delete this._hooks[n]}}deprecateHook(n,s){this._deprecatedHooks[n]=typeof s=="string"?{to:s}:s;const o=this._hooks[n]||[];delete this._hooks[n];for(const r of o)this.hook(n,r)}deprecateHooks(n){Object.assign(this._deprecatedHooks,n);for(const s in n)this.deprecateHook(s,n[s])}addHooks(n){const s=ya(n),o=Object.keys(s).map(r=>this.hook(r,s[r]));return()=>{for(const r of o.splice(0,o.length))r()}}removeHooks(n){const s=ya(n);for(const o in s)this.removeHook(o,s[o])}removeAllHooks(){for(const n in this._hooks)delete this._hooks[n]}callHook(n,...s){return s.unshift(n),this.callHookWith(Ag,n,...s)}callHookParallel(n,...s){return s.unshift(n),this.callHookWith(bg,n,...s)}callHookWith(n,s,...o){const r=this._before||this._after?{name:s,args:o,context:{}}:void 0;this._before&&Sl(this._before,r);const l=n(s in this._hooks?[...this._hooks[s]]:[],o);return l instanceof Promise?l.finally(()=>{this._after&&r&&Sl(this._after,r)}):(this._after&&r&&Sl(this._after,r),l)}beforeEach(n){return this._before=this._before||[],this._before.push(n),()=>{if(this._before!==void 0){const s=this._before.indexOf(n);s!==-1&&this._before.splice(s,1)}}}afterEach(n){return this._after=this._after||[],this._after.push(n),()=>{if(this._after!==void 0){const s=this._after.indexOf(n);s!==-1&&this._after.splice(s,1)}}}}function Dg(){return new Eg}function kg(e){return Array.isArray(e)?e:[e]}const Rd=["title","script","style","noscript"],Fd=["base","meta","link","style","script","noscript"],Cg=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],xg=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],Bg=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function Nd(e){let n=9;for(let s=0;s<e.length;)n=Math.imul(n^e.charCodeAt(s++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function ma(e){return Nd(`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([n,s])=>`${n}:${String(s)}`).join(",")}`)}function Sg(e){let n=9;for(const s of e)for(let o=0;o<s.length;)n=Math.imul(n^s.charCodeAt(o++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function jd(e,n){const{props:s,tag:o}=e;if(xg.includes(o))return o;if(o==="link"&&s.rel==="canonical")return"canonical";if(s.charset)return"charset";const r=["id"];o==="meta"&&r.push("name","property","http-equiv");for(const l of r)if(typeof s[l]<"u"){const a=String(s[l]);return n&&!n(a)?!1:`${o}:${l}:${a}`}return!1}function Pc(e,n){return e==null?n||null:typeof e=="function"?e(n):e}function rr(e,n=!1,s){const{tag:o,$el:r}=e;r&&(Object.entries(o.props).forEach(([l,a])=>{a=String(a);const i=`attr:${l}`;if(l==="class"){if(!a)return;for(const c of a.split(" ")){const p=`${i}:${c}`;s&&s(e,p,()=>r.classList.remove(c)),r.classList.contains(c)||r.classList.add(c)}return}s&&!l.startsWith("data-h-")&&s(e,i,()=>r.removeAttribute(l)),(n||r.getAttribute(l)!==a)&&r.setAttribute(l,a)}),Rd.includes(o.tag)&&(o.textContent&&o.textContent!==r.textContent?r.textContent=o.textContent:o.innerHTML&&o.innerHTML!==r.innerHTML&&(r.innerHTML=o.innerHTML)))}let Gs=!1;async function qd(e,n={}){var h,y;const s={shouldRender:!0};if(await e.hooks.callHook("dom:beforeRender",s),!s.shouldRender)return;const o=n.document||e.resolvedOptions.document||window.document,r=(await e.resolveTags()).map(i);if(e.resolvedOptions.experimentalHashHydration&&(Gs=Gs||e._hash||!1,Gs)){const m=Sg(r.map(v=>v.tag._h));if(Gs===m)return;Gs=m}const l=e._popSideEffectQueue();e.headEntries().map(m=>m._sde).forEach(m=>{Object.entries(m).forEach(([v,w])=>{l[v]=w})});const a=(m,v,w)=>{v=`${m.renderId}:${v}`,m.entry&&(m.entry._sde[v]=w),delete l[v]};function i(m){const v=e.headEntries().find(A=>A._i===m._e),w={renderId:m._d||ma(m),$el:null,shouldRender:!0,tag:m,entry:v,markSideEffect:(A,E)=>a(w,A,E)};return w}const c=[],p={body:[],head:[]},d=m=>{e._elMap[m.renderId]=m.$el,c.push(m),a(m,"el",()=>{var v;(v=m.$el)==null||v.remove(),delete e._elMap[m.renderId]})};for(const m of r){if(await e.hooks.callHook("dom:beforeRenderTag",m),!m.shouldRender)continue;const{tag:v}=m;if(v.tag==="title"){o.title=v.textContent||"",c.push(m);continue}if(v.tag==="htmlAttrs"||v.tag==="bodyAttrs"){m.$el=o[v.tag==="htmlAttrs"?"documentElement":"body"],rr(m,!1,a),c.push(m);continue}if(m.$el=e._elMap[m.renderId],!m.$el&&v.key&&(m.$el=o.querySelector(`${(h=v.tagPosition)!=null&&h.startsWith("body")?"body":"head"} > ${v.tag}[data-h-${v._h}]`)),m.$el){m.tag._d&&rr(m),d(m);continue}p[(y=v.tagPosition)!=null&&y.startsWith("body")?"body":"head"].push(m)}const f={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(p).forEach(([m,v])=>{var A;if(!v.length)return;const w=(A=o==null?void 0:o[m])==null?void 0:A.children;if(w){for(const E of[...w].reverse()){const _=E.tagName.toLowerCase();if(!Fd.includes(_))continue;const k=E.getAttributeNames().reduce(($,V)=>({...$,[V]:E.getAttribute(V)}),{}),S={tag:_,props:k};E.innerHTML&&(S.innerHTML=E.innerHTML);const B=ma(S);let j=v.findIndex($=>($==null?void 0:$.renderId)===B);if(j===-1){const $=jd(S);j=v.findIndex(V=>(V==null?void 0:V.tag._d)&&V.tag._d===$)}if(j!==-1){const $=v[j];$.$el=E,rr($),d($),delete v[j]}}v.forEach(E=>{const _=E.tag.tagPosition||"head";f[_]=f[_]||o.createDocumentFragment(),E.$el||(E.$el=o.createElement(E.tag.tag),rr(E,!0)),f[_].appendChild(E.$el),d(E)})}}),f.head&&o.head.appendChild(f.head),f.bodyOpen&&o.body.insertBefore(f.bodyOpen,o.body.firstChild),f.bodyClose&&o.body.appendChild(f.bodyClose);for(const m of c)await e.hooks.callHook("dom:renderTag",m);Object.values(l).forEach(m=>m())}let $l=null;async function Hd(e,n={}){function s(){return $l=null,qd(e,n)}const o=n.delayFn||(r=>setTimeout(r,10));return $l=$l||new Promise(r=>o(()=>r(s())))}function $g(e){return{hooks:{"entries:updated":function(n){if(typeof(e==null?void 0:e.document)>"u"&&typeof window>"u")return;let s=e==null?void 0:e.delayFn;!s&&typeof requestAnimationFrame<"u"&&(s=requestAnimationFrame),Hd(n,{document:(e==null?void 0:e.document)||window.document,delayFn:s})}}}}function Tg(e){var n;return((n=e==null?void 0:e.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:n.getAttribute("content"))||!1}const Ic={critical:2,high:9,low:12,base:-1,title:1,meta:10};function Mc(e){if(typeof e.tagPriority=="number")return e.tagPriority;if(e.tag==="meta"){if(e.props.charset)return-2;if(e.props["http-equiv"]==="content-security-policy")return 0}const n=e.tagPriority||e.tag;return n in Ic?Ic[n]:10}const Og=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function Pg(){return{hooks:{"tags:resolve":e=>{const n=s=>{var o;return(o=e.tags.find(r=>r._d===s))==null?void 0:o._p};for(const{prefix:s,offset:o}of Og)for(const r of e.tags.filter(l=>typeof l.tagPriority=="string"&&l.tagPriority.startsWith(s))){const l=n(r.tagPriority.replace(s,""));typeof l<"u"&&(r._p=l+o)}e.tags.sort((s,o)=>s._p-o._p).sort((s,o)=>Mc(s)-Mc(o))}}}}function Ig(){return{hooks:{"tags:resolve":e=>{const{tags:n}=e;let s=n.findIndex(r=>r.tag==="titleTemplate");const o=n.findIndex(r=>r.tag==="title");if(o!==-1&&s!==-1){const r=Pc(n[s].textContent,n[o].textContent);r!==null?n[o].textContent=r||n[o].textContent:delete n[o]}else if(s!==-1){const r=Pc(n[s].textContent);r!==null&&(n[s].textContent=r,n[s].tag="title",s=-1)}s!==-1&&delete n[s],e.tags=n.filter(Boolean)}}}}function Mg(){return{hooks:{"tag:normalise":function({tag:e}){typeof e.props.body<"u"&&(e.tagPosition="bodyClose",delete e.props.body)}}}}const Lg=["link","style","script","noscript"];function Rg(){return{hooks:{"tag:normalise":({tag:e,resolvedOptions:n})=>{n.experimentalHashHydration===!0&&(e._h=ma(e)),e.key&&Lg.includes(e.tag)&&(e._h=Nd(e.key),e.props[`data-h-${e._h}`]="")}}}}const Lc=["script","link","bodyAttrs"];function Fg(){const e=(n,s)=>{const o={},r={};Object.entries(s.props).forEach(([a,i])=>{a.startsWith("on")&&typeof i=="function"?r[a]=i:o[a]=i});let l;return n==="dom"&&s.tag==="script"&&typeof o.src=="string"&&typeof r.onload<"u"&&(l=o.src,delete o.src),{props:o,eventHandlers:r,delayedSrc:l}};return{hooks:{"ssr:render":function(n){n.tags=n.tags.map(s=>(!Lc.includes(s.tag)||!Object.entries(s.props).find(([o,r])=>o.startsWith("on")&&typeof r=="function")||(s.props=e("ssr",s).props),s))},"dom:beforeRenderTag":function(n){if(!Lc.includes(n.tag.tag)||!Object.entries(n.tag.props).find(([l,a])=>l.startsWith("on")&&typeof a=="function"))return;const{props:s,eventHandlers:o,delayedSrc:r}=e("dom",n.tag);Object.keys(o).length&&(n.tag.props=s,n.tag._eventHandlers=o,n.tag._delayedSrc=r)},"dom:renderTag":function(n){const s=n.$el;if(!n.tag._eventHandlers||!s)return;const o=n.tag.tag==="bodyAttrs"&&typeof window<"u"?window:s;Object.entries(n.tag._eventHandlers).forEach(([r,l])=>{const a=`${n.tag._d||n.tag._p}:${r}`,i=r.slice(2).toLowerCase(),c=`data-h-${i}`;if(n.markSideEffect(a,()=>{}),s.hasAttribute(c))return;const p=l;s.setAttribute(c,""),o.addEventListener(i,p),n.entry&&(n.entry._sde[a]=()=>{o.removeEventListener(i,p),s.removeAttribute(c)})}),n.tag._delayedSrc&&s.setAttribute("src",n.tag._delayedSrc)}}}}const Ng=["templateParams","htmlAttrs","bodyAttrs"];function jg(){return{hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(o=>{e.props[o]&&(e.key=e.props[o],delete e.props[o])});const s=jd(e)||(e.key?`${e.tag}:${e.key}`:!1);s&&(e._d=s)},"tags:resolve":function(e){const n={};e.tags.forEach(o=>{const r=(o.key?`${o.tag}:${o.key}`:o._d)||o._p,l=n[r];if(l){let i=o==null?void 0:o.tagDuplicateStrategy;if(!i&&Ng.includes(o.tag)&&(i="merge"),i==="merge"){const c=l.props;["class","style"].forEach(p=>{o.props[p]&&c[p]&&(p==="style"&&!c[p].endsWith(";")&&(c[p]+=";"),o.props[p]=`${c[p]} ${o.props[p]}`)}),n[r].props={...c,...o.props};return}else if(o._e===l._e){l._duped=l._duped||[],o._d=`${l._d}:${l._duped.length+1}`,l._duped.push(o);return}}const a=Object.keys(o.props).length+(o.innerHTML?1:0)+(o.textContent?1:0);if(Fd.includes(o.tag)&&a===0){delete n[r];return}n[r]=o});const s=[];Object.values(n).forEach(o=>{const r=o._duped;delete o._duped,s.push(o),r&&s.push(...r)}),e.tags=s}}}}function lr(e,n){function s(l){if(["s","pageTitle"].includes(l))return n.pageTitle;let a;return l.includes(".")?a=l.split(".").reduce((i,c)=>i&&i[c]||void 0,n):a=n[l],typeof a<"u"?a||"":!1}let o=e;try{o=decodeURI(e)}catch{}return(o.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(l=>{const a=s(l.slice(1));typeof a=="string"&&(e=e.replaceAll(new RegExp(`\\${l}(\\W|$)`,"g"),`${a}$1`).trim())}),n.separator&&(e.endsWith(n.separator)&&(e=e.slice(0,-n.separator.length).trim()),e.startsWith(n.separator)&&(e=e.slice(n.separator.length).trim()),e=e.replace(new RegExp(`\\${n.separator}\\s*\\${n.separator}`,"g"),n.separator)),e}function qg(){return{hooks:{"tags:resolve":e=>{var l;const{tags:n}=e,s=(l=n.find(a=>a.tag==="title"))==null?void 0:l.textContent,o=n.findIndex(a=>a.tag==="templateParams"),r=o!==-1?n[o].props:{};r.pageTitle=r.pageTitle||s||"";for(const a of n)if(["titleTemplate","title"].includes(a.tag)&&typeof a.textContent=="string")a.textContent=lr(a.textContent,r);else if(a.tag==="meta"&&typeof a.props.content=="string")a.props.content=lr(a.props.content,r);else if(a.tag==="link"&&typeof a.props.href=="string")a.props.href=lr(a.props.href,r);else if(a.tag==="script"&&["application/json","application/ld+json"].includes(a.props.type)&&typeof a.innerHTML=="string")try{a.innerHTML=JSON.stringify(JSON.parse(a.innerHTML),(i,c)=>typeof c=="string"?lr(c,r):c)}catch{}e.tags=n.filter(a=>a.tag!=="templateParams")}}}}const Hg=typeof window<"u";let Vd;function Vg(e){return Vd=e}function Ug(){return Vd}async function Wg(e,n){const s={tag:e,props:{}};return e==="templateParams"?(s.props=n,s):["title","titleTemplate"].includes(e)?(s.textContent=n instanceof Promise?await n:n,s):typeof n=="string"?["script","noscript","style"].includes(e)?(e==="script"&&(/^(https?:)?\/\//.test(n)||n.startsWith("/"))?s.props.src=n:s.innerHTML=n,s):!1:(s.props=await Kg(e,{...n}),s.props.children&&(s.props.innerHTML=s.props.children),delete s.props.children,Object.keys(s.props).filter(o=>Bg.includes(o)).forEach(o=>{(!["innerHTML","textContent"].includes(o)||Rd.includes(s.tag))&&(s[o]=s.props[o]),delete s.props[o]}),["innerHTML","textContent"].forEach(o=>{if(s.tag==="script"&&typeof s[o]=="string"&&["application/ld+json","application/json"].includes(s.props.type))try{s[o]=JSON.parse(s[o])}catch{s[o]=""}typeof s[o]=="object"&&(s[o]=JSON.stringify(s[o]))}),s.props.class&&(s.props.class=zg(s.props.class)),s.props.content&&Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s)}function zg(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(n=>e[n])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(n=>n.trim()).filter(Boolean).join(" ")}async function Kg(e,n){for(const s of Object.keys(n)){const o=s.startsWith("data-");n[s]instanceof Promise&&(n[s]=await n[s]),String(n[s])==="true"?n[s]=o?"true":"":String(n[s])==="false"&&(o?n[s]="false":delete n[s])}return n}const Yg=10;async function Gg(e){const n=[];return Object.entries(e.resolvedInput).filter(([s,o])=>typeof o<"u"&&Cg.includes(s)).forEach(([s,o])=>{const r=kg(o);n.push(...r.map(l=>Wg(s,l)).flat())}),(await Promise.all(n)).flat().filter(Boolean).map((s,o)=>(s._e=e._i,s._p=(e._i<<Yg)+o,s))}function Qg(){return[jg(),Pg(),qg(),Ig(),Rg(),Fg(),Mg()]}function Jg(e={}){return[$g({document:e==null?void 0:e.document,delayFn:e==null?void 0:e.domDelayFn})]}function Zg(e={}){const n=Xg({...e,plugins:[...Jg(e),...(e==null?void 0:e.plugins)||[]]});return e.experimentalHashHydration&&n.resolvedOptions.document&&(n._hash=Tg(n.resolvedOptions.document)),Vg(n),n}function Xg(e={}){let n=[],s={},o=0;const r=Dg();e!=null&&e.hooks&&r.addHooks(e.hooks),e.plugins=[...Qg(),...(e==null?void 0:e.plugins)||[]],e.plugins.forEach(i=>i.hooks&&r.addHooks(i.hooks)),e.document=e.document||(Hg?document:void 0);const l=()=>r.callHook("entries:updated",a),a={resolvedOptions:e,headEntries(){return n},get hooks(){return r},use(i){i.hooks&&r.addHooks(i.hooks)},push(i,c){const p={_i:o++,input:i,_sde:{}};return c!=null&&c.mode&&(p._m=c==null?void 0:c.mode),c!=null&&c.transform&&(p._t=c==null?void 0:c.transform),n.push(p),l(),{dispose(){n=n.filter(d=>d._i!==p._i?!0:(s={...s,...d._sde||{}},d._sde={},l(),!1))},patch(d){n=n.map(f=>(f._i===p._i&&(p.input=f.input=d,l()),f))}}},async resolveTags(){const i={tags:[],entries:[...n]};await r.callHook("entries:resolve",i);for(const c of i.entries){const p=c._t||(d=>d);if(c.resolvedInput=p(c.resolvedInput||c.input),c.resolvedInput)for(const d of await Gg(c)){const f={tag:d,entry:c,resolvedOptions:a.resolvedOptions};await r.callHook("tag:normalise",f),i.tags.push(f.tag)}}return await r.callHook("tags:resolve",i),i.tags},_popSideEffectQueue(){const i={...s};return s={},i},_elMap:{}};return a.hooks.callHook("init",a),a}function e6(e){return typeof e=="function"?e():C(e)}function Fr(e,n=""){if(e instanceof Promise)return e;const s=e6(e);return!e||!s?s:Array.isArray(s)?s.map(o=>Fr(o,n)):typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,r])=>o==="titleTemplate"||o.startsWith("on")?[o,C(r)]:[o,Fr(r,o)])):s}const t6=Rr.startsWith("3"),n6=typeof window<"u",Ud="usehead";function wi(){return yt()&&P(Ud)||Ug()}function s6(e){return{install(s){t6&&(s.config.globalProperties.$unhead=e,s.config.globalProperties.$head=e,s.provide(Ud,e))}}.install}function o6(e={}){const n=Zg({...e,domDelayFn:s=>setTimeout(()=>st(()=>s()),10),plugins:[r6(),...(e==null?void 0:e.plugins)||[]]});return n.install=s6(n),n}function r6(){return{hooks:{"entries:resolve":function(e){for(const n of e.entries)n.resolvedInput=Fr(n.input)}}}}function l6(e,n={}){const s=wi(),o=Y(!1),r=Y({});ws(()=>{r.value=o.value?{}:Fr(e)});const l=s.push(r.value,n);return _e(r,i=>{l.patch(i)}),yt()&&(Wo(()=>{l.dispose()}),ad(()=>{o.value=!0}),ld(()=>{o.value=!1})),l}function a6(e,n={}){return wi().push(e,n)}function Wd(e,n={}){var o;const s=wi();if(s){const r=n6||!!((o=s.resolvedOptions)!=null&&o.document);return n.mode==="server"&&r||n.mode==="client"&&!r?void 0:r?l6(e,n):a6(e,n)}}function i6(e,n){const s=o6(n||{}),o={unhead:s,install(r){Rr.startsWith("3")&&(r.config.globalProperties.$head=s,r.provide("usehead",s))},use(r){s.use(r)},resolveTags(){return s.resolveTags()},headEntries(){return s.headEntries()},headTags(){return s.resolveTags()},push(r,l){return s.push(r,l)},addEntry(r,l){return s.push(r,l)},addHeadObjs(r,l){return s.push(r,l)},addReactiveEntry(r,l){const a=Wd(r,l);return typeof a<"u"?a.dispose:()=>{}},removeHeadObjs(){},updateDOM(r,l){l?qd(s,{document:r}):Hd(s,{delayFn:a=>setTimeout(()=>a(),50),document:r})},internalHooks:s.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return s.addHeadObjs=o.addHeadObjs,s.updateDOM=o.updateDOM,s.hooks.hook("dom:beforeRender",r=>{for(const l of o.hooks["before:dom"])l()===!1&&(r.shouldRender=!1)}),e&&o.addHeadObjs(e),o}const fo=Symbol("v-click-clicks"),ns=Symbol("v-click-clicks-elements"),ga=Symbol("v-click-clicks-order-map"),ho=Symbol("v-click-clicks-disabled"),zd=Symbol("slidev-slide-scale"),F=Symbol("slidev-slidev-context"),c6=Symbol("slidev-route"),u6=Symbol("slidev-slide-context"),Xn="slidev-vclick-target",Tl="slidev-vclick-hidden",p6="slidev-vclick-fade",Ol="slidev-vclick-hidden-explicitly",Qs="slidev-vclick-current",ar="slidev-vclick-prior",d6=["localhost","127.0.0.1"];let f6=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((n,s)=>(s&=63,s<36?n+=s.toString(36):s<62?n+=(s-26).toString(36).toUpperCase():s>62?n+="-":n+="_",n),"");function va(e,n){if(!e)return!1;const s=e.indexOf(n);return s>=0?(e.splice(s,1),!0):!1}function h6(...e){let n,s,o;e.length===1?(n=0,o=1,[s]=e):[n,s,o=1]=e;const r=[];let l=n;for(;l<s;)r.push(l),l+=o||1;return r}function y6(e){return e!=null}function m6(e,n){return Object.fromEntries(Object.entries(e).map(([s,o])=>n(s,o)).filter(y6))}const ao={theme:"slidev-theme-nearform",title:"OWASP Top Ten Security Vulnerabilities Workshop",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,export:{},info:!1,highlighter:"shiki",lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Poppins"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:['"Poppins"',"ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"PT Mono"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Poppins","PT Mono"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"windicss",presenter:!0,htmlAttrs:{},layout:"default"},$e=ao,In=$e.aspectRatio??16/9,Mn=$e.canvasWidth??980,Ai=Math.ceil(Mn/In),bi=T(()=>m6($e.themeConfig||{},(e,n)=>[`--slidev-theme-${e}`,n]));function Kd(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function Ft(e,n,s){Object.defineProperty(e,n,{value:s,writable:!0,enumerable:!1})}const As=Ve({page:0,clicks:0});let g6=[],v6=[];Ft(As,"$syncUp",!0);Ft(As,"$syncDown",!0);Ft(As,"$paused",!1);Ft(As,"$onSet",e=>g6.push(e));Ft(As,"$onPatch",e=>v6.push(e));Kd();Ft(As,"$patch",async()=>!1);function Yd(e,n,s=!1){const o=[];let r=!1,l=!1,a,i;const c=Ve(n);function p(y){o.push(y)}function d(y,m){c[y]!==m&&(clearTimeout(a),r=!0,c[y]=m,a=setTimeout(()=>r=!1,0))}function f(y){r||(clearTimeout(i),l=!0,Object.entries(y).forEach(([m,v])=>{c[m]=v}),i=setTimeout(()=>l=!1,0))}function h(y){let m;s?s&&window.addEventListener("storage",w=>{w&&w.key===y&&w.newValue&&f(JSON.parse(w.newValue))}):(m=new BroadcastChannel(y),m.addEventListener("message",w=>f(w.data)));function v(){!s&&m&&!l?m.postMessage(ye(c)):s&&!l&&window.localStorage.setItem(y,JSON.stringify(c)),r||o.forEach(w=>w(c))}if(_e(c,v,{deep:!0,flush:"sync"}),s){const w=window.localStorage.getItem(y);w&&f(JSON.parse(w))}}return{init:h,onPatch:p,patch:d,state:c}}const{init:_6,onPatch:w6,patch:Js,state:Pl}=Yd(As,{page:1,clicks:0,viewerPage:1,viewerClicks:0}),bs=Ve({});let A6=[],b6=[];Ft(bs,"$syncUp",!0);Ft(bs,"$syncDown",!0);Ft(bs,"$paused",!1);Ft(bs,"$onSet",e=>A6.push(e));Ft(bs,"$onPatch",e=>b6.push(e));Kd();Ft(bs,"$patch",async()=>!1);const{init:E6,onPatch:D6,patch:Gd,state:Nr}=Yd(bs,{},!1),k6="modulepreload",C6=function(e){return"/owasp-top-ten-workshop/"+e},Rc={},Ln=function(n,s,o){if(!s||s.length===0)return n();const r=document.getElementsByTagName("link");return Promise.all(s.map(l=>{if(l=C6(l),l in Rc)return;Rc[l]=!0;const a=l.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(!!o)for(let d=r.length-1;d>=0;d--){const f=r[d];if(f.href===l&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${i}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":k6,a||(p.as="script",p.crossOrigin=""),p.href=l,document.head.appendChild(p),a)return new Promise((d,f)=>{p.addEventListener("load",d),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>n())};function x6(e,n){let s,o,r;const l=Y(!0),a=()=>{l.value=!0,r()};_e(e,a,{flush:"sync"});const i=typeof n=="function"?n:n.get,c=typeof n=="function"?void 0:n.set,p=ci((d,f)=>(o=d,r=f,{get(){return l.value&&(s=i(),l.value=!1),o(),s},set(h){c==null||c(h)}}));return Object.isExtensible(p)&&(p.trigger=a),p}function gn(e){return Qr()?(ni(e),!0):!1}function nt(e){return typeof e=="function"?e():C(e)}function B6(e){if(!Oe(e))return Ve(e);const n=new Proxy({},{get(s,o,r){return C(Reflect.get(e.value,o,r))},set(s,o,r){return Oe(e.value[o])&&!Oe(r)?e.value[o].value=r:e.value[o]=r,!0},deleteProperty(s,o){return Reflect.deleteProperty(e.value,o)},has(s,o){return Reflect.has(e.value,o)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Ve(n)}const Kt=typeof window<"u",S6=e=>typeof e<"u",_a=()=>+Date.now(),dl=()=>{},$6=T6();function T6(){var e;return Kt&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function O6(e,n){function s(...o){return new Promise((r,l)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(r).catch(l)})}return s}const Qd=e=>e();function P6(e=Qd){const n=Y(!0);function s(){n.value=!1}function o(){n.value=!0}const r=(...l)=>{n.value&&e(...l)};return{isActive:Ut(n),pause:s,resume:o,eventFilter:r}}function I6(e,n){var s;if(typeof e=="number")return e+n;const o=((s=e.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:s[0])||"",r=e.slice(o.length),l=parseFloat(o)+n;return Number.isNaN(l)?e:l+r}function Jd(...e){if(e.length!==1)return qp(...e);const n=e[0];return typeof n=="function"?Ut(ci(()=>({get:n,set:dl}))):Y(n)}var M6=Object.defineProperty,L6=Object.defineProperties,R6=Object.getOwnPropertyDescriptors,Fc=Object.getOwnPropertySymbols,F6=Object.prototype.hasOwnProperty,N6=Object.prototype.propertyIsEnumerable,Nc=(e,n,s)=>n in e?M6(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,j6=(e,n)=>{for(var s in n||(n={}))F6.call(n,s)&&Nc(e,s,n[s]);if(Fc)for(var s of Fc(n))N6.call(n,s)&&Nc(e,s,n[s]);return e},q6=(e,n)=>L6(e,R6(n));function H6(e){if(!Oe(e))return Gy(e);const n=Array.isArray(e.value)?new Array(e.value.length):{};for(const s in e.value)n[s]=ci(()=>({get(){return e.value[s]},set(o){if(Array.isArray(e.value)){const r=[...e.value];r[s]=o,e.value=r}else{const r=q6(j6({},e.value),{[s]:o});Object.setPrototypeOf(r,e.value),e.value=r}}}));return n}function Zd(e,n=!0){yt()?wn(e):n?e():st(e)}function V6(e,n=1e3,s={}){const{immediate:o=!0,immediateCallback:r=!1}=s;let l=null;const a=Y(!1);function i(){l&&(clearInterval(l),l=null)}function c(){a.value=!1,i()}function p(){const d=nt(n);d<=0||(a.value=!0,r&&e(),i(),l=setInterval(e,d))}if(o&&Kt&&p(),Oe(n)||typeof n=="function"){const d=_e(n,()=>{a.value&&Kt&&p()});gn(d)}return gn(c),{isActive:a,pause:c,resume:p}}function U6(e,n,s={}){const{immediate:o=!0}=s,r=Y(!1);let l=null;function a(){l&&(clearTimeout(l),l=null)}function i(){r.value=!1,a()}function c(...p){a(),r.value=!0,l=setTimeout(()=>{r.value=!1,l=null,e(...p)},nt(n))}return o&&(r.value=!0,Kt&&c()),gn(i),{isPending:Ut(r),start:c,stop:i}}function Xd(e=!1,n={}){const{truthyValue:s=!0,falsyValue:o=!1}=n,r=Oe(e),l=Y(e);function a(i){if(arguments.length)return l.value=i,l.value;{const c=nt(s);return l.value=l.value===c?nt(o):c,l.value}}return r?a:[l,a]}var jc=Object.getOwnPropertySymbols,W6=Object.prototype.hasOwnProperty,z6=Object.prototype.propertyIsEnumerable,K6=(e,n)=>{var s={};for(var o in e)W6.call(e,o)&&n.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&jc)for(var o of jc(e))n.indexOf(o)<0&&z6.call(e,o)&&(s[o]=e[o]);return s};function Y6(e,n,s={}){const o=s,{eventFilter:r=Qd}=o,l=K6(o,["eventFilter"]);return _e(e,O6(r,n),l)}var G6=Object.defineProperty,Q6=Object.defineProperties,J6=Object.getOwnPropertyDescriptors,jr=Object.getOwnPropertySymbols,ef=Object.prototype.hasOwnProperty,tf=Object.prototype.propertyIsEnumerable,qc=(e,n,s)=>n in e?G6(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,Z6=(e,n)=>{for(var s in n||(n={}))ef.call(n,s)&&qc(e,s,n[s]);if(jr)for(var s of jr(n))tf.call(n,s)&&qc(e,s,n[s]);return e},X6=(e,n)=>Q6(e,J6(n)),ev=(e,n)=>{var s={};for(var o in e)ef.call(e,o)&&n.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&jr)for(var o of jr(e))n.indexOf(o)<0&&tf.call(e,o)&&(s[o]=e[o]);return s};function tv(e,n,s={}){const o=s,{eventFilter:r}=o,l=ev(o,["eventFilter"]),{eventFilter:a,pause:i,resume:c,isActive:p}=P6(r);return{stop:Y6(e,n,X6(Z6({},l),{eventFilter:a})),pause:i,resume:c,isActive:p}}function It(e){var n;const s=nt(e);return(n=s==null?void 0:s.$el)!=null?n:s}const ot=Kt?window:void 0,nf=Kt?window.document:void 0,nv=Kt?window.navigator:void 0;function Le(...e){let n,s,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,o,r]=e,n=ot):[n,s,o,r]=e,!n)return dl;Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]);const l=[],a=()=>{l.forEach(d=>d()),l.length=0},i=(d,f,h,y)=>(d.addEventListener(f,h,y),()=>d.removeEventListener(f,h,y)),c=_e(()=>[It(n),nt(r)],([d,f])=>{a(),d&&l.push(...s.flatMap(h=>o.map(y=>i(d,h,y,f))))},{immediate:!0,flush:"post"}),p=()=>{c(),a()};return gn(p),p}let Hc=!1;function sv(e,n,s={}){const{window:o=ot,ignore:r=[],capture:l=!0,detectIframe:a=!1}=s;if(!o)return;$6&&!Hc&&(Hc=!0,Array.from(o.document.body.children).forEach(h=>h.addEventListener("click",dl)));let i=!0;const c=h=>r.some(y=>{if(typeof y=="string")return Array.from(o.document.querySelectorAll(y)).some(m=>m===h.target||h.composedPath().includes(m));{const m=It(y);return m&&(h.target===m||h.composedPath().includes(m))}}),d=[Le(o,"click",h=>{const y=It(e);if(!(!y||y===h.target||h.composedPath().includes(y))){if(h.detail===0&&(i=!c(h)),!i){i=!0;return}n(h)}},{passive:!0,capture:l}),Le(o,"pointerdown",h=>{const y=It(e);y&&(i=!h.composedPath().includes(y)&&!c(h))},{passive:!0}),a&&Le(o,"blur",h=>{var y;const m=It(e);((y=o.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(m!=null&&m.contains(o.document.activeElement))&&n(h)})].filter(Boolean);return()=>d.forEach(h=>h())}function ov(e){return typeof e=="function"?e:typeof e=="string"?n=>n.key===e:Array.isArray(e)?n=>e.includes(n.key):()=>!0}function rv(...e){let n,s,o={};e.length===3?(n=e[0],s=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(n=!0,s=e[0],o=e[1]):(n=e[0],s=e[1]):(n=!0,s=e[0]);const{target:r=ot,eventName:l="keydown",passive:a=!1,dedupe:i=!1}=o,c=ov(n);return Le(r,l,d=>{d.repeat&&nt(i)||c(d)&&s(d)},a)}function lv(e={}){var n;const{window:s=ot}=e,o=(n=e.document)!=null?n:s==null?void 0:s.document,r=x6(()=>null,()=>o==null?void 0:o.activeElement);return s&&(Le(s,"blur",l=>{l.relatedTarget===null&&r.trigger()},!0),Le(s,"focus",r.trigger,!0)),r}function av(){const e=Y(!1);return yt()&&wn(()=>{e.value=!0}),e}function fl(e){const n=av();return T(()=>(n.value,!!e()))}function iv(e,n={}){const{immediate:s=!0,window:o=ot}=n,r=Y(!1);let l=0,a=null;function i(d){if(!r.value||!o)return;const f=d-l;e({delta:f,timestamp:d}),l=d,a=o.requestAnimationFrame(i)}function c(){!r.value&&o&&(r.value=!0,a=o.requestAnimationFrame(i))}function p(){r.value=!1,a!=null&&o&&(o.cancelAnimationFrame(a),a=null)}return s&&c(),gn(p),{isActive:Ut(r),pause:p,resume:c}}function ss(e,n={}){const{window:s=ot}=n,o=fl(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let r;const l=Y(!1),a=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i))},i=()=>{o.value&&(a(),r=s.matchMedia(Jd(e).value),l.value=!!(r!=null&&r.matches),r&&("addEventListener"in r?r.addEventListener("change",i):r.addListener(i)))};return ws(i),gn(()=>a()),l}const cv={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function uv(e,n={}){function s(i,c){let p=e[i];return c!=null&&(p=I6(p,c)),typeof p=="number"&&(p=`${p}px`),p}const{window:o=ot}=n;function r(i){return o?o.matchMedia(i).matches:!1}const l=i=>ss(`(min-width: ${s(i)})`,n),a=Object.keys(e).reduce((i,c)=>(Object.defineProperty(i,c,{get:()=>l(c),enumerable:!0,configurable:!0}),i),{});return Object.assign(a,{greater(i){return ss(`(min-width: ${s(i,.1)})`,n)},greaterOrEqual:l,smaller(i){return ss(`(max-width: ${s(i,-.1)})`,n)},smallerOrEqual(i){return ss(`(max-width: ${s(i)})`,n)},between(i,c){return ss(`(min-width: ${s(i)}) and (max-width: ${s(c,-.1)})`,n)},isGreater(i){return r(`(min-width: ${s(i,.1)})`)},isGreaterOrEqual(i){return r(`(min-width: ${s(i)})`)},isSmaller(i){return r(`(max-width: ${s(i,-.1)})`)},isSmallerOrEqual(i){return r(`(max-width: ${s(i)})`)},isInBetween(i,c){return r(`(min-width: ${s(i)}) and (max-width: ${s(c,-.1)})`)},current(){const i=Object.keys(e).map(c=>[c,l(c)]);return T(()=>i.filter(([,c])=>c.value).map(([c])=>c))}})}function pv(e={}){const{navigator:n=nv,read:s=!1,source:o,copiedDuring:r=1500,legacy:l=!1}=e,a=["copy","cut"],i=fl(()=>n&&"clipboard"in n),c=T(()=>i.value||l),p=Y(""),d=Y(!1),f=U6(()=>d.value=!1,r);function h(){i.value?n.clipboard.readText().then(w=>{p.value=w}):p.value=v()}if(c.value&&s)for(const w of a)Le(w,h);async function y(w=nt(o)){c.value&&w!=null&&(i.value?await n.clipboard.writeText(w):m(w),p.value=w,d.value=!0,f.start())}function m(w){const A=document.createElement("textarea");A.value=w??"",A.style.position="absolute",A.style.opacity="0",document.body.appendChild(A),A.select(),document.execCommand("copy"),A.remove()}function v(){var w,A,E;return(E=(A=(w=document==null?void 0:document.getSelection)==null?void 0:w.call(document))==null?void 0:A.toString())!=null?E:""}return{isSupported:c,text:p,copied:d,copy:y}}function dv(e){return JSON.parse(JSON.stringify(e))}const ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr="__vueuse_ssr_handlers__",fv=hv();function hv(){return cr in ir||(ir[cr]=ir[cr]||{}),ir[cr]}function yv(e,n){return fv[e]||n}function mv(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var gv=Object.defineProperty,Vc=Object.getOwnPropertySymbols,vv=Object.prototype.hasOwnProperty,_v=Object.prototype.propertyIsEnumerable,Uc=(e,n,s)=>n in e?gv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,Wc=(e,n)=>{for(var s in n||(n={}))vv.call(n,s)&&Uc(e,s,n[s]);if(Vc)for(var s of Vc(n))_v.call(n,s)&&Uc(e,s,n[s]);return e};const wv={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},zc="vueuse-storage";function Av(e,n,s,o={}){var r;const{flush:l="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:c=!0,mergeDefaults:p=!1,shallow:d,window:f=ot,eventFilter:h,onError:y=$=>{console.error($)}}=o,m=(d?sn:Y)(n);if(!s)try{s=yv("getDefaultStorage",()=>{var $;return($=ot)==null?void 0:$.localStorage})()}catch($){y($)}if(!s)return m;const v=nt(n),w=mv(v),A=(r=o.serializer)!=null?r:wv[w],{pause:E,resume:_}=tv(m,()=>k(m.value),{flush:l,deep:a,eventFilter:h});return f&&i&&(Le(f,"storage",j),Le(f,zc,B)),j(),m;function k($){try{if($==null)s.removeItem(e);else{const V=A.write($),ne=s.getItem(e);ne!==V&&(s.setItem(e,V),f&&f.dispatchEvent(new CustomEvent(zc,{detail:{key:e,oldValue:ne,newValue:V,storageArea:s}})))}}catch(V){y(V)}}function S($){const V=$?$.newValue:s.getItem(e);if(V==null)return c&&v!==null&&s.setItem(e,A.write(v)),v;if(!$&&p){const ne=A.read(V);return typeof p=="function"?p(ne,v):w==="object"&&!Array.isArray(ne)?Wc(Wc({},v),ne):ne}else return typeof V!="string"?V:A.read(V)}function B($){j($.detail)}function j($){if(!($&&$.storageArea!==s)){if($&&$.key==null){m.value=v;return}if(!($&&$.key!==e)){E();try{m.value=S($)}catch(V){y(V)}finally{$?st(_):_()}}}}}function bv(e){return ss("(prefers-color-scheme: dark)",e)}var Ev=Object.defineProperty,Dv=Object.defineProperties,kv=Object.getOwnPropertyDescriptors,Kc=Object.getOwnPropertySymbols,Cv=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,Yc=(e,n,s)=>n in e?Ev(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,Bv=(e,n)=>{for(var s in n||(n={}))Cv.call(n,s)&&Yc(e,s,n[s]);if(Kc)for(var s of Kc(n))xv.call(n,s)&&Yc(e,s,n[s]);return e},Sv=(e,n)=>Dv(e,kv(n));function GS(e,n={}){var s,o;const{pointerTypes:r,preventDefault:l,stopPropagation:a,exact:i,onMove:c,onEnd:p,onStart:d,initialValue:f,axis:h="both",draggingElement:y=ot,handle:m=e}=n,v=Y((s=nt(f))!=null?s:{x:0,y:0}),w=Y(),A=B=>r?r.includes(B.pointerType):!0,E=B=>{nt(l)&&B.preventDefault(),nt(a)&&B.stopPropagation()},_=B=>{if(!A(B)||nt(i)&&B.target!==nt(e))return;const j=nt(e).getBoundingClientRect(),$={x:B.clientX-j.left,y:B.clientY-j.top};(d==null?void 0:d($,B))!==!1&&(w.value=$,E(B))},k=B=>{if(!A(B)||!w.value)return;let{x:j,y:$}=v.value;(h==="x"||h==="both")&&(j=B.clientX-w.value.x),(h==="y"||h==="both")&&($=B.clientY-w.value.y),v.value={x:j,y:$},c==null||c(v.value,B),E(B)},S=B=>{A(B)&&w.value&&(w.value=void 0,p==null||p(v.value,B),E(B))};if(Kt){const B={capture:(o=n.capture)!=null?o:!0};Le(m,"pointerdown",_,B),Le(y,"pointermove",k,B),Le(y,"pointerup",S,B)}return Sv(Bv({},H6(v)),{position:v,isDragging:T(()=>!!w.value),style:T(()=>`left:${v.value.x}px;top:${v.value.y}px;`)})}var Gc=Object.getOwnPropertySymbols,$v=Object.prototype.hasOwnProperty,Tv=Object.prototype.propertyIsEnumerable,Ov=(e,n)=>{var s={};for(var o in e)$v.call(e,o)&&n.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&Gc)for(var o of Gc(e))n.indexOf(o)<0&&Tv.call(e,o)&&(s[o]=e[o]);return s};function Pv(e,n,s={}){const o=s,{window:r=ot}=o,l=Ov(o,["window"]);let a;const i=fl(()=>r&&"ResizeObserver"in r),c=()=>{a&&(a.disconnect(),a=void 0)},p=T(()=>Array.isArray(e)?e.map(h=>It(h)):[It(e)]),d=_e(p,h=>{if(c(),i.value&&r){a=new ResizeObserver(n);for(const y of h)y&&a.observe(y,l)}},{immediate:!0,flush:"post",deep:!0}),f=()=>{c(),d()};return gn(f),{isSupported:i,stop:f}}function Iv(e,n={width:0,height:0},s={}){const{window:o=ot,box:r="content-box"}=s,l=T(()=>{var c,p;return(p=(c=It(e))==null?void 0:c.namespaceURI)==null?void 0:p.includes("svg")}),a=Y(n.width),i=Y(n.height);return Pv(e,([c])=>{const p=r==="border-box"?c.borderBoxSize:r==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(o&&l.value){const d=It(e);if(d){const f=o.getComputedStyle(d);a.value=parseFloat(f.width),i.value=parseFloat(f.height)}}else if(p){const d=Array.isArray(p)?p:[p];a.value=d.reduce((f,{inlineSize:h})=>f+h,0),i.value=d.reduce((f,{blockSize:h})=>f+h,0)}else a.value=c.contentRect.width,i.value=c.contentRect.height},s),_e(()=>It(e),c=>{a.value=c?n.width:0,i.value=c?n.height:0}),{width:a,height:i}}const Qc=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Mv(e,n={}){const{document:s=nf,autoExit:o=!1}=n,r=T(()=>{var A;return(A=It(e))!=null?A:s==null?void 0:s.querySelector("html")}),l=Y(!1),a=T(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(A=>s&&A in s||r.value&&A in r.value)),i=T(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(A=>s&&A in s||r.value&&A in r.value)),c=T(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(A=>s&&A in s||r.value&&A in r.value)),p=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(A=>s&&A in s),d=fl(()=>r.value&&s&&a.value!==void 0&&i.value!==void 0&&c.value!==void 0),f=()=>p?(s==null?void 0:s[p])===r.value:!1,h=()=>{if(c.value){if(s&&s[c.value]!=null)return s[c.value];{const A=r.value;if((A==null?void 0:A[c.value])!=null)return!!A[c.value]}}return!1};async function y(){if(d.value){if(i.value)if((s==null?void 0:s[i.value])!=null)await s[i.value]();else{const A=r.value;(A==null?void 0:A[i.value])!=null&&await A[i.value]()}l.value=!1}}async function m(){if(!d.value)return;h()&&await y();const A=r.value;a.value&&(A==null?void 0:A[a.value])!=null&&(await A[a.value](),l.value=!0)}async function v(){await(l.value?y():m())}const w=()=>{const A=h();(!A||A&&f())&&(l.value=A)};return Le(s,Qc,w,!1),Le(()=>It(r),Qc,w,!1),o&&gn(y),{isSupported:d,isFullscreen:l,enter:m,exit:y,toggle:v}}function Yt(e,n,s={}){const{window:o=ot}=s;return Av(e,n,o==null?void 0:o.localStorage,s)}const Lv={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function Rv(e={}){const{reactive:n=!1,target:s=ot,aliasMap:o=Lv,passive:r=!0,onEventFired:l=dl}=e,a=Ve(new Set),i={toJSON(){return{}},current:a},c=n?Ve(i):i,p=new Set,d=new Set;function f(v,w){v in c&&(n?c[v]=w:c[v].value=w)}function h(){a.clear();for(const v of d)f(v,!1)}function y(v,w){var A,E;const _=(A=v.key)==null?void 0:A.toLowerCase(),S=[(E=v.code)==null?void 0:E.toLowerCase(),_].filter(Boolean);_&&(w?a.add(_):a.delete(_));for(const B of S)d.add(B),f(B,w);_==="meta"&&!w?(p.forEach(B=>{a.delete(B),f(B,!1)}),p.clear()):typeof v.getModifierState=="function"&&v.getModifierState("Meta")&&w&&[...a,...S].forEach(B=>p.add(B))}Le(s,"keydown",v=>(y(v,!0),l(v)),{passive:r}),Le(s,"keyup",v=>(y(v,!1),l(v)),{passive:r}),Le("blur",h,{passive:!0}),Le("focus",h,{passive:!0});const m=new Proxy(c,{get(v,w,A){if(typeof w!="string")return Reflect.get(v,w,A);if(w=w.toLowerCase(),w in o&&(w=o[w]),!(w in c))if(/[+_-]/.test(w)){const _=w.split(/[+_-]/g).map(k=>k.trim());c[w]=T(()=>_.every(k=>nt(m[k])))}else c[w]=Y(!1);const E=Reflect.get(v,w,A);return n?nt(E):E}});return m}const Fv={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function QS(e={}){const{type:n="page",touch:s=!0,resetOnTouchEnds:o=!1,initialValue:r={x:0,y:0},window:l=ot,target:a=l,eventFilter:i}=e,c=Y(r.x),p=Y(r.y),d=Y(null),f=typeof n=="function"?n:Fv[n],h=A=>{const E=f(A);E&&([c.value,p.value]=E,d.value="mouse")},y=A=>{if(A.touches.length>0){const E=f(A.touches[0]);E&&([c.value,p.value]=E,d.value="touch")}},m=()=>{c.value=r.x,p.value=r.y},v=i?A=>i(()=>h(A),{}):A=>h(A),w=i?A=>i(()=>y(A),{}):A=>y(A);return a&&(Le(a,"mousemove",v,{passive:!0}),Le(a,"dragover",v,{passive:!0}),s&&n!=="movement"&&(Le(a,"touchstart",w,{passive:!0}),Le(a,"touchmove",w,{passive:!0}),o&&Le(a,"touchend",m,{passive:!0}))),{x:c,y:p,sourceType:d}}function Nv(e,n={}){const s=Jd(e),{threshold:o=50,onSwipe:r,onSwipeEnd:l,onSwipeStart:a}=n,i=Ve({x:0,y:0}),c=(B,j)=>{i.x=B,i.y=j},p=Ve({x:0,y:0}),d=(B,j)=>{p.x=B,p.y=j},f=T(()=>i.x-p.x),h=T(()=>i.y-p.y),{max:y,abs:m}=Math,v=T(()=>y(m(f.value),m(h.value))>=o),w=Y(!1),A=Y(!1),E=T(()=>v.value?m(f.value)>m(h.value)?f.value>0?"left":"right":h.value>0?"up":"down":"none"),_=B=>{var j,$,V;const ne=B.buttons===0,pe=B.buttons===1;return(V=($=(j=n.pointerTypes)==null?void 0:j.includes(B.pointerType))!=null?$:ne||pe)!=null?V:!0},k=[Le(e,"pointerdown",B=>{var j,$;if(!_(B))return;A.value=!0,($=(j=s.value)==null?void 0:j.style)==null||$.setProperty("touch-action","none");const V=B.target;V==null||V.setPointerCapture(B.pointerId);const{clientX:ne,clientY:pe}=B;c(ne,pe),d(ne,pe),a==null||a(B)}),Le(e,"pointermove",B=>{if(!_(B)||!A.value)return;const{clientX:j,clientY:$}=B;d(j,$),!w.value&&v.value&&(w.value=!0),w.value&&(r==null||r(B))}),Le(e,"pointerup",B=>{var j,$;_(B)&&(w.value&&(l==null||l(B,E.value)),A.value=!1,w.value=!1,($=(j=s.value)==null?void 0:j.style)==null||$.setProperty("touch-action","initial"))})],S=()=>k.forEach(B=>B());return{isSwiping:Ut(w),direction:Ut(E),posStart:Ut(i),posEnd:Ut(p),distanceX:f,distanceY:h,stop:S}}let jv=0;function JS(e,n={}){const s=Y(!1),{document:o=nf,immediate:r=!0,manual:l=!1,id:a=`vueuse_styletag_${++jv}`}=n,i=Y(e);let c=()=>{};const p=()=>{if(!o)return;const f=o.getElementById(a)||o.createElement("style");f.isConnected||(f.type="text/css",f.id=a,n.media&&(f.media=n.media),o.head.appendChild(f)),!s.value&&(c=_e(i,h=>{f.textContent=h},{immediate:!0}),s.value=!0)},d=()=>{!o||!s.value||(c(),o.head.removeChild(o.getElementById(a)),s.value=!1)};return r&&!l&&Zd(p),l||gn(d),{id:a,css:i,unload:d,load:p,isLoaded:Ut(s)}}var qv=Object.defineProperty,Jc=Object.getOwnPropertySymbols,Hv=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable,Zc=(e,n,s)=>n in e?qv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,Uv=(e,n)=>{for(var s in n||(n={}))Hv.call(n,s)&&Zc(e,s,n[s]);if(Jc)for(var s of Jc(n))Vv.call(n,s)&&Zc(e,s,n[s]);return e};function ZS(e={}){const{controls:n=!1,offset:s=0,immediate:o=!0,interval:r="requestAnimationFrame",callback:l}=e,a=Y(_a()+s),i=()=>a.value=_a()+s,c=l?()=>{i(),l(a.value)}:i,p=r==="requestAnimationFrame"?iv(c,{immediate:o}):V6(c,r,{immediate:o});return n?Uv({timestamp:a},p):a}function Xt(e,n,s,o={}){var r,l,a;const{clone:i=!1,passive:c=!1,eventName:p,deep:d=!1,defaultValue:f,shouldEmit:h}=o,y=yt(),m=s||(y==null?void 0:y.emit)||((r=y==null?void 0:y.$emit)==null?void 0:r.bind(y))||((a=(l=y==null?void 0:y.proxy)==null?void 0:l.$emit)==null?void 0:a.bind(y==null?void 0:y.proxy));let v=p;n||(n="modelValue"),v=p||v||`update:${n.toString()}`;const w=_=>i?typeof i=="function"?i(_):dv(_):_,A=()=>S6(e[n])?w(e[n]):f,E=_=>{h?h(_)&&m(v,_):m(v,_)};if(c){const _=A(),k=Y(_);return _e(()=>e[n],S=>k.value=w(S)),_e(k,S=>{(S!==e[n]||d)&&E(S)},{deep:d}),k}else return T({get(){return A()},set(_){E(_)}})}function XS({window:e=ot}={}){if(!e)return Y(!1);const n=Y(e.document.hasFocus());return Le(e,"blur",()=>{n.value=!1}),Le(e,"focus",()=>{n.value=!0}),n}function Wv(e={}){const{window:n=ot,initialWidth:s=1/0,initialHeight:o=1/0,listenOrientation:r=!0,includeScrollbar:l=!0}=e,a=Y(s),i=Y(o),c=()=>{n&&(l?(a.value=n.innerWidth,i.value=n.innerHeight):(a.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};if(c(),Zd(c),Le("resize",c,{passive:!0}),r){const p=ss("(orientation: portrait)");_e(p,()=>c())}return{width:a,height:i}}function zv(){return sf().__VUE_DEVTOOLS_GLOBAL_HOOK__}function sf(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Kv=typeof Proxy=="function",Yv="devtools-plugin:setup",Gv="plugin:settings:set";let Ds,wa;function Qv(){var e;return Ds!==void 0||(typeof window<"u"&&window.performance?(Ds=!0,wa=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Ds=!0,wa=global.perf_hooks.performance):Ds=!1),Ds}function Jv(){return Qv()?wa.now():Date.now()}class Zv{constructor(n,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=s;const o={};if(n.settings)for(const a in n.settings){const i=n.settings[a];o[a]=i.defaultValue}const r=`__vue-devtools-plugin-settings__${n.id}`;let l=Object.assign({},o);try{const a=localStorage.getItem(r),i=JSON.parse(a);Object.assign(l,i)}catch{}this.fallbacks={getSettings(){return l},setSettings(a){try{localStorage.setItem(r,JSON.stringify(a))}catch{}l=a},now(){return Jv()}},s&&s.on(Gv,(a,i)=>{a===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(a,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(a,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(p=>{this.targetQueue.push({method:i,args:c,resolve:p})})})}async setRealTarget(n){this.target=n;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function Xv(e,n){const s=e,o=sf(),r=zv(),l=Kv&&s.enableEarlyProxy;if(r&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!l))r.emit(Yv,e,n);else{const a=l?new Zv(s,r):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:n,proxy:a}),a&&n(a.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const un=typeof window<"u";function e_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ie=Object.assign;function Il(e,n){const s={};for(const o in n){const r=n[o];s[o]=$t(r)?r.map(e):e(r)}return s}const yo=()=>{},$t=Array.isArray;function Se(e){const n=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+e].concat(n))}const t_=/\/$/,n_=e=>e.replace(t_,"");function Ml(e,n,s="/"){let o,r={},l="",a="";const i=n.indexOf("#");let c=n.indexOf("?");return i<c&&i>=0&&(c=-1),c>-1&&(o=n.slice(0,c),l=n.slice(c+1,i>-1?i:n.length),r=e(l)),i>-1&&(o=o||n.slice(0,i),a=n.slice(i,n.length)),o=r_(o??n,s),{fullPath:o+(l&&"?")+l+a,path:o,query:r,hash:a}}function s_(e,n){const s=n.query?e(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function Xc(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function eu(e,n,s){const o=n.matched.length-1,r=s.matched.length-1;return o>-1&&o===r&&Vn(n.matched[o],s.matched[r])&&of(n.params,s.params)&&e(n.query)===e(s.query)&&n.hash===s.hash}function Vn(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function of(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(!o_(e[s],n[s]))return!1;return!0}function o_(e,n){return $t(e)?tu(e,n):$t(n)?tu(n,e):e===n}function tu(e,n){return $t(n)?e.length===n.length&&e.every((s,o)=>s===n[o]):e.length===1&&e[0]===n}function r_(e,n){if(e.startsWith("/"))return e;if(!n.startsWith("/"))return Se(`Cannot resolve a relative location without an absolute path. Trying to resolve "${e}" from "${n}". It should look like "/${n}".`),e;if(!e)return n;const s=n.split("/"),o=e.split("/");let r=s.length-1,l,a;for(l=0;l<o.length;l++)if(a=o[l],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+o.slice(l-(l===o.length?1:0)).join("/")}var To;(function(e){e.pop="pop",e.push="push"})(To||(To={}));var mo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(mo||(mo={}));function l_(e){if(!e)if(un){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),n_(e)}const a_=/^[^#]+#/;function i_(e,n){return e.replace(a_,"#")+n}function c_(e,n){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:n.behavior,left:o.left-s.left-(n.left||0),top:o.top-s.top-(n.top||0)}}const hl=()=>({left:window.pageXOffset,top:window.pageYOffset});function u_(e){let n;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#");if(typeof e.el=="string"&&(!o||!document.getElementById(e.el.slice(1))))try{const l=document.querySelector(e.el);if(o&&l){Se(`The selector "${e.el}" should be passed as "el: document.querySelector('${e.el}')" because it starts with "#".`);return}}catch{Se(`The selector "${e.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const r=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r){Se(`Couldn't find element using selector "${e.el}" returned by scrollBehavior.`);return}n=c_(r,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function nu(e,n){return(history.state?history.state.position-n:-1)+e}const Aa=new Map;function p_(e,n){Aa.set(e,n)}function d_(e){const n=Aa.get(e);return Aa.delete(e),n}let f_=()=>location.protocol+"//"+location.host;function rf(e,n){const{pathname:s,search:o,hash:r}=n,l=e.indexOf("#");if(l>-1){let i=r.includes(e.slice(l))?e.slice(l).length:1,c=r.slice(i);return c[0]!=="/"&&(c="/"+c),Xc(c,"")}return Xc(s,e)+o+r}function h_(e,n,s,o){let r=[],l=[],a=null;const i=({state:h})=>{const y=rf(e,location),m=s.value,v=n.value;let w=0;if(h){if(s.value=y,n.value=h,a&&a===m){a=null;return}w=v?h.position-v.position:0}else o(y);r.forEach(A=>{A(s.value,m,{delta:w,type:To.pop,direction:w?w>0?mo.forward:mo.back:mo.unknown})})};function c(){a=s.value}function p(h){r.push(h);const y=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return l.push(y),y}function d(){const{history:h}=window;h.state&&h.replaceState(Ie({},h.state,{scroll:hl()}),"")}function f(){for(const h of l)h();l=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",d),{pauseListeners:c,listen:p,destroy:f}}function su(e,n,s,o=!1,r=!1){return{back:e,current:n,forward:s,replaced:o,position:window.history.length,scroll:r?hl():null}}function y_(e){const{history:n,location:s}=window,o={value:rf(e,s)},r={value:n.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(c,p,d){const f=e.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+c:f_()+e+c;try{n[d?"replaceState":"pushState"](p,"",h),r.value=p}catch(y){Se("Error with push/replace State",y),s[d?"replace":"assign"](h)}}function a(c,p){const d=Ie({},n.state,su(r.value.back,c,r.value.forward,!0),p,{position:r.value.position});l(c,d,!0),o.value=c}function i(c,p){const d=Ie({},r.value,n.state,{forward:c,scroll:hl()});n.state||Se(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),l(d.current,d,!0);const f=Ie({},su(o.value,c,null),{position:d.position+1},p);l(c,f,!1),o.value=c}return{location:o,state:r,push:i,replace:a}}function m_(e){e=l_(e);const n=y_(e),s=h_(e,n.state,n.location,n.replace);function o(l,a=!0){a||s.pauseListeners(),history.go(l)}const r=Ie({location:"",base:e,go:o,createHref:i_.bind(null,e)},n,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>n.state.value}),r}function g_(e){return typeof e=="string"||e&&typeof e=="object"}function lf(e){return typeof e=="string"||typeof e=="symbol"}const Dn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},af=Symbol("navigation failure");var ou;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ou||(ou={}));const v_={[1]({location:e,currentLocation:n}){return`No match for
 ${JSON.stringify(e)}${n?`
while being at
`+JSON.stringify(n):""}`},[2]({from:e,to:n}){return`Redirected from "${e.fullPath}" to "${w_(n)}" via a navigation guard.`},[4]({from:e,to:n}){return`Navigation aborted from "${e.fullPath}" to "${n.fullPath}" via a navigation guard.`},[8]({from:e,to:n}){return`Navigation cancelled from "${e.fullPath}" to "${n.fullPath}" with a new navigation.`},[16]({from:e,to:n}){return`Avoided redundant navigation to current location: "${e.fullPath}".`}};function Fs(e,n){return Ie(new Error(v_[e](n)),{type:e,[af]:!0},n)}function on(e,n){return e instanceof Error&&af in e&&(n==null||!!(e.type&n))}const __=["params","query","hash"];function w_(e){if(typeof e=="string")return e;if("path"in e)return e.path;const n={};for(const s of __)s in e&&(n[s]=e[s]);return JSON.stringify(n,null,2)}const ru="[^/]+?",A_={sensitive:!1,strict:!1,start:!0,end:!0},b_=/[.+*?^${}()[\]/\\]/g;function E_(e,n){const s=Ie({},A_,n),o=[];let r=s.start?"^":"";const l=[];for(const p of e){const d=p.length?[]:[90];s.strict&&!p.length&&(r+="/");for(let f=0;f<p.length;f++){const h=p[f];let y=40+(s.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(b_,"\\$&"),y+=40;else if(h.type===1){const{value:m,repeatable:v,optional:w,regexp:A}=h;l.push({name:m,repeatable:v,optional:w});const E=A||ru;if(E!==ru){y+=10;try{new RegExp(`(${E})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${E}): `+k.message)}}let _=v?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(_=w&&p.length<2?`(?:/${_})`:"/"+_),w&&(_+="?"),r+=_,y+=20,w&&(y+=-8),v&&(y+=-20),E===".*"&&(y+=-50)}d.push(y)}o.push(d)}if(s.strict&&s.end){const p=o.length-1;o[p][o[p].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function i(p){const d=p.match(a),f={};if(!d)return null;for(let h=1;h<d.length;h++){const y=d[h]||"",m=l[h-1];f[m.name]=y&&m.repeatable?y.split("/"):y}return f}function c(p){let d="",f=!1;for(const h of e){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const y of h)if(y.type===0)d+=y.value;else if(y.type===1){const{value:m,repeatable:v,optional:w}=y,A=m in p?p[m]:"";if($t(A)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const E=$t(A)?A.join("/"):A;if(!E)if(w)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);d+=E}}return d||"/"}return{re:a,score:o,keys:l,parse:i,stringify:c}}function D_(e,n){let s=0;for(;s<e.length&&s<n.length;){const o=n[s]-e[s];if(o)return o;s++}return e.length<n.length?e.length===1&&e[0]===40+40?-1:1:e.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function k_(e,n){let s=0;const o=e.score,r=n.score;for(;s<o.length&&s<r.length;){const l=D_(o[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-o.length)===1){if(lu(o))return 1;if(lu(r))return-1}return r.length-o.length}function lu(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const C_={type:0,value:""},x_=/[a-zA-Z0-9_]/;function B_(e){if(!e)return[[]];if(e==="/")return[[C_]];if(!e.startsWith("/"))throw new Error(`Route paths should start with a "/": "${e}" should be "/${e}".`);function n(y){throw new Error(`ERR (${s})/"${p}": ${y}`)}let s=0,o=s;const r=[];let l;function a(){l&&r.push(l),l=[]}let i=0,c,p="",d="";function f(){p&&(s===0?l.push({type:0,value:p}):s===1||s===2||s===3?(l.length>1&&(c==="*"||c==="+")&&n(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:p,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):n("Invalid state to consume buffer"),p="")}function h(){p+=c}for(;i<e.length;){if(c=e[i++],c==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:c==="/"?(p&&f(),a()):c===":"?(f(),s=1):h();break;case 4:h(),s=o;break;case 1:c==="("?s=2:x_.test(c)?h():(f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&i--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=3:d+=c;break;case 3:f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&i--,d="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${p}"`),f(),a(),r}function S_(e,n,s){const o=E_(B_(e.path),s);{const l=new Set;for(const a of o.keys)l.has(a.name)&&Se(`Found duplicated params with name "${a.name}" for path "${e.path}". Only the last one will be available on "$route.params".`),l.add(a.name)}const r=Ie(o,{record:e,parent:n,children:[],alias:[]});return n&&!r.record.aliasOf==!n.record.aliasOf&&n.children.push(r),r}function $_(e,n){const s=[],o=new Map;n=cu({strict:!1,end:!0,sensitive:!1},n);function r(d){return o.get(d)}function l(d,f,h){const y=!h,m=T_(d);M_(m,f),m.aliasOf=h&&h.record;const v=cu(n,d),w=[m];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const k of _)w.push(Ie({},m,{components:h?h.record.components:m.components,path:k,aliasOf:h?h.record:m}))}let A,E;for(const _ of w){const{path:k}=_;if(f&&k[0]!=="/"){const S=f.record.path,B=S[S.length-1]==="/"?"":"/";_.path=f.record.path+(k&&B+k)}if(_.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(A=S_(_,f,v),f&&k[0]==="/"&&L_(A,f),h?(h.alias.push(A),I_(h,A)):(E=E||A,E!==A&&E.alias.push(A),y&&d.name&&!iu(A)&&a(d.name)),m.children){const S=m.children;for(let B=0;B<S.length;B++)l(S[B],A,h&&h.children[B])}h=h||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&c(A)}return E?()=>{a(E)}:yo}function a(d){if(lf(d)){const f=o.get(d);f&&(o.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&o.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function i(){return s}function c(d){let f=0;for(;f<s.length&&k_(d,s[f])>=0&&(d.record.path!==s[f].record.path||!cf(d,s[f]));)f++;s.splice(f,0,d),d.record.name&&!iu(d)&&o.set(d.record.name,d)}function p(d,f){let h,y={},m,v;if("name"in d&&d.name){if(h=o.get(d.name),!h)throw Fs(1,{location:d});{const E=Object.keys(d.params||{}).filter(_=>!h.keys.find(k=>k.name===_));E.length&&Se(`Discarded invalid param(s) "${E.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}v=h.record.name,y=Ie(au(f.params,h.keys.filter(E=>!E.optional).map(E=>E.name)),d.params&&au(d.params,h.keys.map(E=>E.name))),m=h.stringify(y)}else if("path"in d)m=d.path,m.startsWith("/")||Se(`The Matcher cannot resolve relative paths but received "${m}". Unless you directly called \`matcher.resolve("${m}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),h=s.find(E=>E.re.test(m)),h&&(y=h.parse(m),v=h.record.name);else{if(h=f.name?o.get(f.name):s.find(E=>E.re.test(f.path)),!h)throw Fs(1,{location:d,currentLocation:f});v=h.record.name,y=Ie({},f.params,d.params),m=h.stringify(y)}const w=[];let A=h;for(;A;)w.unshift(A.record),A=A.parent;return{name:v,path:m,params:y,matched:w,meta:P_(w)}}return e.forEach(d=>l(d)),{addRoute:l,resolve:p,removeRoute:a,getRoutes:i,getRecordMatcher:r}}function au(e,n){const s={};for(const o of n)o in e&&(s[o]=e[o]);return s}function T_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:O_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function O_(e){const n={},s=e.props||!1;if("component"in e)n.default=s;else for(const o in e.components)n[o]=typeof s=="boolean"?s:s[o];return n}function iu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function P_(e){return e.reduce((n,s)=>Ie(n,s.meta),{})}function cu(e,n){const s={};for(const o in e)s[o]=o in n?n[o]:e[o];return s}function ba(e,n){return e.name===n.name&&e.optional===n.optional&&e.repeatable===n.repeatable}function I_(e,n){for(const s of e.keys)if(!s.optional&&!n.keys.find(ba.bind(null,s)))return Se(`Alias "${n.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${s.name}"`);for(const s of n.keys)if(!s.optional&&!e.keys.find(ba.bind(null,s)))return Se(`Alias "${n.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${s.name}"`)}function M_(e,n){n&&n.record.name&&!e.name&&!e.path&&Se(`The route named "${String(n.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function L_(e,n){for(const s of n.keys)if(!e.keys.find(ba.bind(null,s)))return Se(`Absolute path "${e.record.path}" must have the exact same param named "${s.name}" as its parent "${n.record.path}".`)}function cf(e,n){return n.children.some(s=>s===e||cf(e,s))}const uf=/#/g,R_=/&/g,F_=/\//g,N_=/=/g,j_=/\?/g,pf=/\+/g,q_=/%5B/g,H_=/%5D/g,df=/%5E/g,V_=/%60/g,ff=/%7B/g,U_=/%7C/g,hf=/%7D/g,W_=/%20/g;function Ei(e){return encodeURI(""+e).replace(U_,"|").replace(q_,"[").replace(H_,"]")}function z_(e){return Ei(e).replace(ff,"{").replace(hf,"}").replace(df,"^")}function Ea(e){return Ei(e).replace(pf,"%2B").replace(W_,"+").replace(uf,"%23").replace(R_,"%26").replace(V_,"`").replace(ff,"{").replace(hf,"}").replace(df,"^")}function K_(e){return Ea(e).replace(N_,"%3D")}function Y_(e){return Ei(e).replace(uf,"%23").replace(j_,"%3F")}function G_(e){return e==null?"":Y_(e).replace(F_,"%2F")}function Oo(e){try{return decodeURIComponent(""+e)}catch{Se(`Error decoding "${e}". Using original value`)}return""+e}function Q_(e){const n={};if(e===""||e==="?")return n;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const l=o[r].replace(pf," "),a=l.indexOf("="),i=Oo(a<0?l:l.slice(0,a)),c=a<0?null:Oo(l.slice(a+1));if(i in n){let p=n[i];$t(p)||(p=n[i]=[p]),p.push(c)}else n[i]=c}return n}function uu(e){let n="";for(let s in e){const o=e[s];if(s=K_(s),o==null){o!==void 0&&(n+=(n.length?"&":"")+s);continue}($t(o)?o.map(l=>l&&Ea(l)):[o&&Ea(o)]).forEach(l=>{l!==void 0&&(n+=(n.length?"&":"")+s,l!=null&&(n+="="+l))})}return n}function J_(e){const n={};for(const s in e){const o=e[s];o!==void 0&&(n[s]=$t(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return n}const Z_=Symbol("router view location matched"),pu=Symbol("router view depth"),Di=Symbol("router"),yf=Symbol("route location"),Da=Symbol("router view location");function Zs(){let e=[];function n(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:n,list:()=>e,reset:s}}function Bn(e,n,s,o,r){const l=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,i)=>{const c=f=>{f===!1?i(Fs(4,{from:s,to:n})):f instanceof Error?i(f):g_(f)?i(Fs(2,{from:n,to:f})):(l&&o.enterCallbacks[r]===l&&typeof f=="function"&&l.push(f),a())},p=e.call(o&&o.instances[r],n,s,X_(c,n,s));let d=Promise.resolve(p);if(e.length<3&&(d=d.then(c)),e.length>2){const f=`The "next" callback was never called inside of ${e.name?'"'+e.name+'"':""}:
${e.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof p=="object"&&"then"in p)d=d.then(h=>c._called?h:(Se(f),Promise.reject(new Error("Invalid navigation guard"))));else if(p!==void 0&&!c._called){Se(f),i(new Error("Invalid navigation guard"));return}}d.catch(f=>i(f))})}function X_(e,n,s){let o=0;return function(){o++===1&&Se(`The "next" callback was called more than once in one navigation guard when going from "${s.fullPath}" to "${n.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),e._called=!0,o===1&&e.apply(null,arguments)}}function Ll(e,n,s,o){const r=[];for(const l of e){!l.components&&!l.children.length&&Se(`Record with path "${l.path}" is either missing a "component(s)" or "children" property.`);for(const a in l.components){let i=l.components[a];{if(!i||typeof i!="object"&&typeof i!="function")throw Se(`Component "${a}" in record with path "${l.path}" is not a valid component. Received "${String(i)}".`),new Error("Invalid route component");if("then"in i){Se(`Component "${a}" in record with path "${l.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const c=i;i=()=>c}else i.__asyncLoader&&!i.__warnedDefineAsync&&(i.__warnedDefineAsync=!0,Se(`Component "${a}" in record with path "${l.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(n!=="beforeRouteEnter"&&!l.instances[a]))if(e0(i)){const p=(i.__vccOpts||i)[n];p&&r.push(Bn(p,s,o,l,a))}else{let c=i();"catch"in c||(Se(`Component "${a}" in record with path "${l.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),c=Promise.resolve(c)),r.push(()=>c.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${l.path}"`));const d=e_(p)?p.default:p;l.components[a]=d;const h=(d.__vccOpts||d)[n];return h&&Bn(h,s,o,l,a)()}))}}}return r}function e0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function du(e){const n=P(Di),s=P(yf),o=T(()=>n.resolve(C(e.to))),r=T(()=>{const{matched:c}=o.value,{length:p}=c,d=c[p-1],f=s.matched;if(!d||!f.length)return-1;const h=f.findIndex(Vn.bind(null,d));if(h>-1)return h;const y=fu(c[p-2]);return p>1&&fu(d)===y&&f[f.length-1].path!==y?f.findIndex(Vn.bind(null,c[p-2])):h}),l=T(()=>r.value>-1&&o0(s.params,o.value.params)),a=T(()=>r.value>-1&&r.value===s.matched.length-1&&of(s.params,o.value.params));function i(c={}){return s0(c)?n[C(e.replace)?"replace":"push"](C(e.to)).catch(yo):Promise.resolve()}if(un){const c=yt();if(c){const p={route:o.value,isActive:l.value,isExactActive:a.value};c.__vrl_devtools=c.__vrl_devtools||[],c.__vrl_devtools.push(p),ws(()=>{p.route=o.value,p.isActive=l.value,p.isExactActive=a.value},{flush:"post"})}}return{route:o,href:T(()=>o.value.href),isActive:l,isExactActive:a,navigate:i}}const t0=Re({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:du,setup(e,{slots:n}){const s=Ve(du(e)),{options:o}=P(Di),r=T(()=>({[hu(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[hu(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=n.default&&n.default(s);return e.custom?l:Bt("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),n0=t0;function s0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function o0(e,n){for(const s in n){const o=n[s],r=e[s];if(typeof o=="string"){if(o!==r)return!1}else if(!$t(r)||r.length!==o.length||o.some((l,a)=>l!==r[a]))return!1}return!0}function fu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const hu=(e,n,s)=>e??n??s,r0=Re({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:s}){a0();const o=P(Da),r=T(()=>e.route||o.value),l=P(pu,0),a=T(()=>{let p=C(l);const{matched:d}=r.value;let f;for(;(f=d[p])&&!f.components;)p++;return p}),i=T(()=>r.value.matched[a.value]);Ct(pu,T(()=>a.value+1)),Ct(Z_,i),Ct(Da,r);const c=Y();return _e(()=>[c.value,i.value,e.name],([p,d,f],[h,y,m])=>{d&&(d.instances[f]=p,y&&y!==d&&p&&p===h&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),p&&d&&(!y||!Vn(d,y)||!h)&&(d.enterCallbacks[f]||[]).forEach(v=>v(p))},{flush:"post"}),()=>{const p=r.value,d=e.name,f=i.value,h=f&&f.components[d];if(!h)return yu(s.default,{Component:h,route:p});const y=f.props[d],m=y?y===!0?p.params:typeof y=="function"?y(p):y:null,w=Bt(h,Ie({},m,n,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(f.instances[d]=null)},ref:c}));if(un&&w.ref){const A={depth:a.value,name:f.name,path:f.path,meta:f.meta};($t(w.ref)?w.ref.map(_=>_.i):[w.ref.i]).forEach(_=>{_.__vrv_devtools=A})}return yu(s.default,{Component:w,route:p})||w}}});function yu(e,n){if(!e)return null;const s=e(n);return s.length===1?s[0]:s}const l0=r0;function a0(){const e=yt(),n=e.parent&&e.parent.type.name;if(n&&(n==="KeepAlive"||n.includes("Transition"))){const s=n==="KeepAlive"?"keep-alive":"transition";Se(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${s}>
    <component :is="Component" />
  </${s}>
</router-view>`)}}function Xs(e,n){const s=Ie({},e,{matched:e.matched.map(o=>m0(o,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:n,value:s}}}function ur(e){return{_custom:{display:e}}}let i0=0;function c0(e,n,s){if(n.__hasDevtools)return;n.__hasDevtools=!0;const o=i0++;Xv({id:"org.vuejs.router"+(o?"."+o:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},r=>{typeof r.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent((d,f)=>{d.instanceData&&d.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Xs(n.currentRoute.value,"Current Route")})}),r.on.visitComponentTree(({treeNode:d,componentInstance:f})=>{if(f.__vrv_devtools){const h=f.__vrv_devtools;d.tags.push({label:(h.name?`${h.name.toString()}: `:"")+h.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:mf})}$t(f.__vrl_devtools)&&(f.__devtoolsApi=r,f.__vrl_devtools.forEach(h=>{let y=_f,m="";h.isExactActive?(y=vf,m="This is exactly active"):h.isActive&&(y=gf,m="This link is active"),d.tags.push({label:h.route.path,textColor:0,tooltip:m,backgroundColor:y})}))}),_e(n.currentRoute,()=>{c(),r.notifyComponentUpdate(),r.sendInspectorTree(i),r.sendInspectorState(i)});const l="router:navigations:"+o;r.addTimelineLayer({id:l,label:`Router${o?" "+o:""} Navigations`,color:4237508}),n.onError((d,f)=>{r.addTimelineEvent({layerId:l,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:r.now(),data:{error:d},groupId:f.meta.__navigationId}})});let a=0;n.beforeEach((d,f)=>{const h={guard:ur("beforeEach"),from:Xs(f,"Current Location during this navigation"),to:Xs(d,"Target location")};Object.defineProperty(d.meta,"__navigationId",{value:a++}),r.addTimelineEvent({layerId:l,event:{time:r.now(),title:"Start of navigation",subtitle:d.fullPath,data:h,groupId:d.meta.__navigationId}})}),n.afterEach((d,f,h)=>{const y={guard:ur("afterEach")};h?(y.failure={_custom:{type:Error,readOnly:!0,display:h?h.message:"",tooltip:"Navigation Failure",value:h}},y.status=ur("")):y.status=ur(""),y.from=Xs(f,"Current Location during this navigation"),y.to=Xs(d,"Target location"),r.addTimelineEvent({layerId:l,event:{title:"End of navigation",subtitle:d.fullPath,time:r.now(),data:y,logType:h?"warning":"default",groupId:d.meta.__navigationId}})});const i="router-inspector:"+o;r.addInspector({id:i,label:"Routes"+(o?" "+o:""),icon:"book",treeFilterPlaceholder:"Search routes"});function c(){if(!p)return;const d=p;let f=s.getRoutes().filter(h=>!h.parent);f.forEach(bf),d.filter&&(f=f.filter(h=>ka(h,d.filter.toLowerCase()))),f.forEach(h=>Af(h,n.currentRoute.value)),d.rootNodes=f.map(wf)}let p;r.on.getInspectorTree(d=>{p=d,d.app===e&&d.inspectorId===i&&c()}),r.on.getInspectorState(d=>{if(d.app===e&&d.inspectorId===i){const h=s.getRoutes().find(y=>y.record.__vd_id===d.nodeId);h&&(d.state={options:p0(h)})}}),r.sendInspectorTree(i),r.sendInspectorState(i)})}function u0(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}function p0(e){const{record:n}=e,s=[{editable:!1,key:"path",value:n.path}];return n.name!=null&&s.push({editable:!1,key:"name",value:n.name}),s.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&s.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map(o=>`${o.name}${u0(o)}`).join(" "),tooltip:"Param keys",value:e.keys}}}),n.redirect!=null&&s.push({editable:!1,key:"redirect",value:n.redirect}),e.alias.length&&s.push({editable:!1,key:"aliases",value:e.alias.map(o=>o.record.path)}),Object.keys(e.record.meta).length&&s.push({editable:!1,key:"meta",value:e.record.meta}),s.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map(o=>o.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),s}const mf=15485081,gf=2450411,vf=8702998,d0=2282478,_f=16486972,f0=6710886;function wf(e){const n=[],{record:s}=e;s.name!=null&&n.push({label:String(s.name),textColor:0,backgroundColor:d0}),s.aliasOf&&n.push({label:"alias",textColor:0,backgroundColor:_f}),e.__vd_match&&n.push({label:"matches",textColor:0,backgroundColor:mf}),e.__vd_exactActive&&n.push({label:"exact",textColor:0,backgroundColor:vf}),e.__vd_active&&n.push({label:"active",textColor:0,backgroundColor:gf}),s.redirect&&n.push({label:typeof s.redirect=="string"?`redirect: ${s.redirect}`:"redirects",textColor:16777215,backgroundColor:f0});let o=s.__vd_id;return o==null&&(o=String(h0++),s.__vd_id=o),{id:o,label:s.path,tags:n,children:e.children.map(wf)}}let h0=0;const y0=/^\/(.*)\/([a-z]*)$/;function Af(e,n){const s=n.matched.length&&Vn(n.matched[n.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=s,s||(e.__vd_active=n.matched.some(o=>Vn(o,e.record))),e.children.forEach(o=>Af(o,n))}function bf(e){e.__vd_match=!1,e.children.forEach(bf)}function ka(e,n){const s=String(e.re).match(y0);if(e.__vd_match=!1,!s||s.length<3)return!1;if(new RegExp(s[1].replace(/\$$/,""),s[2]).test(n))return e.children.forEach(a=>ka(a,n)),e.record.path!=="/"||n==="/"?(e.__vd_match=e.re.test(n),!0):!1;const r=e.record.path.toLowerCase(),l=Oo(r);return!n.startsWith("/")&&(l.includes(n)||r.includes(n))||l.startsWith(n)||r.startsWith(n)||e.record.name&&String(e.record.name).includes(n)?!0:e.children.some(a=>ka(a,n))}function m0(e,n){const s={};for(const o in e)n.includes(o)||(s[o]=e[o]);return s}function g0(e){const n=$_(e.routes,e),s=e.parseQuery||Q_,o=e.stringifyQuery||uu,r=e.history;if(!r)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const l=Zs(),a=Zs(),i=Zs(),c=sn(Dn);let p=Dn;un&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Il.bind(null,O=>""+O),f=Il.bind(null,G_),h=Il.bind(null,Oo);function y(O,se){let G,re;return lf(O)?(G=n.getRecordMatcher(O),re=se):re=O,n.addRoute(re,G)}function m(O){const se=n.getRecordMatcher(O);se?n.removeRoute(se):Se(`Cannot remove non-existent route "${String(O)}"`)}function v(){return n.getRoutes().map(O=>O.record)}function w(O){return!!n.getRecordMatcher(O)}function A(O,se){if(se=Ie({},se||c.value),typeof O=="string"){const de=Ml(s,O,se.path),g=n.resolve({path:de.path},se),b=r.createHref(de.fullPath);return b.startsWith("//")?Se(`Location "${O}" resolved to "${b}". A resolved location cannot start with multiple slashes.`):g.matched.length||Se(`No match found for location with path "${O}"`),Ie(de,g,{params:h(g.params),hash:Oo(de.hash),redirectedFrom:void 0,href:b})}let G;if("path"in O)"params"in O&&!("name"in O)&&Object.keys(O.params).length&&Se(`Path "${O.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),G=Ie({},O,{path:Ml(s,O.path,se.path).path});else{const de=Ie({},O.params);for(const g in de)de[g]==null&&delete de[g];G=Ie({},O,{params:f(O.params)}),se.params=f(se.params)}const re=n.resolve(G,se),ke=O.hash||"";ke&&!ke.startsWith("#")&&Se(`A \`hash\` should always start with the character "#". Replace "${ke}" with "#${ke}".`),re.params=d(h(re.params));const Be=s_(o,Ie({},O,{hash:z_(ke),path:re.path})),me=r.createHref(Be);return me.startsWith("//")?Se(`Location "${O}" resolved to "${me}". A resolved location cannot start with multiple slashes.`):re.matched.length||Se(`No match found for location with path "${"path"in O?O.path:O}"`),Ie({fullPath:Be,hash:ke,query:o===uu?J_(O.query):O.query||{}},re,{redirectedFrom:void 0,href:me})}function E(O){return typeof O=="string"?Ml(s,O,c.value.path):Ie({},O)}function _(O,se){if(p!==O)return Fs(8,{from:se,to:O})}function k(O){return j(O)}function S(O){return k(Ie(E(O),{replace:!0}))}function B(O){const se=O.matched[O.matched.length-1];if(se&&se.redirect){const{redirect:G}=se;let re=typeof G=="function"?G(O):G;if(typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=E(re):{path:re},re.params={}),!("path"in re)&&!("name"in re))throw Se(`Invalid redirect found:
${JSON.stringify(re,null,2)}
 when navigating to "${O.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return Ie({query:O.query,hash:O.hash,params:"path"in re?{}:O.params},re)}}function j(O,se){const G=p=A(O),re=c.value,ke=O.state,Be=O.force,me=O.replace===!0,de=B(G);if(de)return j(Ie(E(de),{state:typeof de=="object"?Ie({},ke,de.state):ke,force:Be,replace:me}),se||G);const g=G;g.redirectedFrom=se;let b;return!Be&&eu(o,re,G)&&(b=Fs(16,{to:g,from:re}),Fe(re,re,!0,!1)),(b?Promise.resolve(b):V(g,re)).catch(x=>on(x)?on(x,2)?x:Ee(x):ee(x,g,re)).then(x=>{if(x){if(on(x,2))return eu(o,A(x.to),g)&&se&&(se._count=se._count?se._count+1:1)>10?(Se(`Detected an infinite redirection in a navigation guard when going from "${re.fullPath}" to "${g.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):j(Ie({replace:me},E(x.to),{state:typeof x.to=="object"?Ie({},ke,x.to.state):ke,force:Be}),se||g)}else x=pe(g,re,!0,me,ke);return ne(g,re,x),x})}function $(O,se){const G=_(O,se);return G?Promise.reject(G):Promise.resolve()}function V(O,se){let G;const[re,ke,Be]=v0(O,se);G=Ll(re.reverse(),"beforeRouteLeave",O,se);for(const de of re)de.leaveGuards.forEach(g=>{G.push(Bn(g,O,se))});const me=$.bind(null,O,se);return G.push(me),ks(G).then(()=>{G=[];for(const de of l.list())G.push(Bn(de,O,se));return G.push(me),ks(G)}).then(()=>{G=Ll(ke,"beforeRouteUpdate",O,se);for(const de of ke)de.updateGuards.forEach(g=>{G.push(Bn(g,O,se))});return G.push(me),ks(G)}).then(()=>{G=[];for(const de of O.matched)if(de.beforeEnter&&!se.matched.includes(de))if($t(de.beforeEnter))for(const g of de.beforeEnter)G.push(Bn(g,O,se));else G.push(Bn(de.beforeEnter,O,se));return G.push(me),ks(G)}).then(()=>(O.matched.forEach(de=>de.enterCallbacks={}),G=Ll(Be,"beforeRouteEnter",O,se),G.push(me),ks(G))).then(()=>{G=[];for(const de of a.list())G.push(Bn(de,O,se));return G.push(me),ks(G)}).catch(de=>on(de,8)?de:Promise.reject(de))}function ne(O,se,G){for(const re of i.list())re(O,se,G)}function pe(O,se,G,re,ke){const Be=_(O,se);if(Be)return Be;const me=se===Dn,de=un?history.state:{};G&&(re||me?r.replace(O.fullPath,Ie({scroll:me&&de&&de.scroll},ke)):r.push(O.fullPath,ke)),c.value=O,Fe(O,se,G,me),Ee()}let K;function Ae(){K||(K=r.listen((O,se,G)=>{if(!An.listening)return;const re=A(O),ke=B(re);if(ke){j(Ie(ke,{replace:!0}),re).catch(yo);return}p=re;const Be=c.value;un&&p_(nu(Be.fullPath,G.delta),hl()),V(re,Be).catch(me=>on(me,12)?me:on(me,2)?(j(me.to,re).then(de=>{on(de,20)&&!G.delta&&G.type===To.pop&&r.go(-1,!1)}).catch(yo),Promise.reject()):(G.delta&&r.go(-G.delta,!1),ee(me,re,Be))).then(me=>{me=me||pe(re,Be,!1),me&&(G.delta&&!on(me,8)?r.go(-G.delta,!1):G.type===To.pop&&on(me,20)&&r.go(-1,!1)),ne(re,Be,me)}).catch(yo)}))}let ve=Zs(),be=Zs(),Pe;function ee(O,se,G){Ee(O);const re=be.list();return re.length?re.forEach(ke=>ke(O,se,G)):(Se("uncaught error during route navigation:"),console.error(O)),Promise.reject(O)}function ce(){return Pe&&c.value!==Dn?Promise.resolve():new Promise((O,se)=>{ve.add([O,se])})}function Ee(O){return Pe||(Pe=!O,Ae(),ve.list().forEach(([se,G])=>O?G(O):se()),ve.reset()),O}function Fe(O,se,G,re){const{scrollBehavior:ke}=e;if(!un||!ke)return Promise.resolve();const Be=!G&&d_(nu(O.fullPath,0))||(re||!G)&&history.state&&history.state.scroll||null;return st().then(()=>ke(O,se,Be)).then(me=>me&&u_(me)).catch(me=>ee(me,O,se))}const bt=O=>r.go(O);let rt;const mt=new Set,An={currentRoute:c,listening:!0,addRoute:y,removeRoute:m,hasRoute:w,getRoutes:v,resolve:A,options:e,push:k,replace:S,go:bt,back:()=>bt(-1),forward:()=>bt(1),beforeEach:l.add,beforeResolve:a.add,afterEach:i.add,onError:be.add,isReady:ce,install(O){const se=this;O.component("RouterLink",n0),O.component("RouterView",l0),O.config.globalProperties.$router=se,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>C(c)}),un&&!rt&&c.value===Dn&&(rt=!0,k(r.location).catch(ke=>{Se("Unexpected error when starting the router:",ke)}));const G={};for(const ke in Dn)G[ke]=T(()=>c.value[ke]);O.provide(Di,se),O.provide(yf,Ve(G)),O.provide(Da,c);const re=O.unmount;mt.add(O),O.unmount=function(){mt.delete(O),mt.size<1&&(p=Dn,K&&K(),K=null,c.value=Dn,rt=!1,Pe=!1),re()},un&&c0(O,se,n)}};return An}function ks(e){return e.reduce((n,s)=>n.then(()=>s()),Promise.resolve())}function v0(e,n){const s=[],o=[],r=[],l=Math.max(n.matched.length,e.matched.length);for(let a=0;a<l;a++){const i=n.matched[a];i&&(e.matched.find(p=>Vn(p,i))?o.push(i):s.push(i));const c=e.matched[a];c&&(n.matched.find(p=>Vn(p,c))||r.push(c))}return[s,o,r]}const Rl=Y(!1),go=Y(!1),$s=Y(!1),_0=Y(!0),Ca=uv({xs:460,...cv}),ys=Wv(),Ef=Rv(),w0=T(()=>ys.height.value-ys.width.value/In>180),Df=Mv(Kt?document.body:null),Rn=lv(),A0=T(()=>{var e,n;return["INPUT","TEXTAREA"].includes(((e=Rn.value)==null?void 0:e.tagName)||"")||((n=Rn.value)==null?void 0:n.classList.contains("CodeMirror-code"))}),b0=T(()=>{var e;return["BUTTON","A"].includes(((e=Rn.value)==null?void 0:e.tagName)||"")});Yt("slidev-camera","default");Yt("slidev-mic","default");const wr=Yt("slidev-scale",0),pt=Yt("slidev-show-overview",!1),Fl=Yt("slidev-presenter-cursor",!0),mu=Yt("slidev-show-editor",!1);Yt("slidev-editor-width",Kt?window.innerWidth*.4:100);const kf=Xd(pt);function gu(e,n,s,o=r=>r){return e*o(.5-n*(.5-s))}function E0(e){return[-e[0],-e[1]]}function Ht(e,n){return[e[0]+n[0],e[1]+n[1]]}function Pt(e,n){return[e[0]-n[0],e[1]-n[1]]}function qt(e,n){return[e[0]*n,e[1]*n]}function D0(e,n){return[e[0]/n,e[1]/n]}function eo(e){return[e[1],-e[0]]}function vu(e,n){return e[0]*n[0]+e[1]*n[1]}function k0(e,n){return e[0]===n[0]&&e[1]===n[1]}function C0(e){return Math.hypot(e[0],e[1])}function x0(e){return e[0]*e[0]+e[1]*e[1]}function _u(e,n){return x0(Pt(e,n))}function Cf(e){return D0(e,C0(e))}function B0(e,n){return Math.hypot(e[1]-n[1],e[0]-n[0])}function to(e,n,s){let o=Math.sin(s),r=Math.cos(s),l=e[0]-n[0],a=e[1]-n[1],i=l*r-a*o,c=l*o+a*r;return[i+n[0],c+n[1]]}function xa(e,n,s){return Ht(e,qt(Pt(n,e),s))}function wu(e,n,s){return Ht(e,qt(n,s))}var{min:Cs,PI:S0}=Math,Au=.275,no=S0+1e-4;function $0(e,n={}){let{size:s=16,smoothing:o=.5,thinning:r=.5,simulatePressure:l=!0,easing:a=ee=>ee,start:i={},end:c={},last:p=!1}=n,{cap:d=!0,easing:f=ee=>ee*(2-ee)}=i,{cap:h=!0,easing:y=ee=>--ee*ee*ee+1}=c;if(e.length===0||s<=0)return[];let m=e[e.length-1].runningLength,v=i.taper===!1?0:i.taper===!0?Math.max(s,m):i.taper,w=c.taper===!1?0:c.taper===!0?Math.max(s,m):c.taper,A=Math.pow(s*o,2),E=[],_=[],k=e.slice(0,10).reduce((ee,ce)=>{let Ee=ce.pressure;if(l){let Fe=Cs(1,ce.distance/s),bt=Cs(1,1-Fe);Ee=Cs(1,ee+(bt-ee)*(Fe*Au))}return(ee+Ee)/2},e[0].pressure),S=gu(s,r,e[e.length-1].pressure,a),B,j=e[0].vector,$=e[0].point,V=$,ne=$,pe=V,K=!1;for(let ee=0;ee<e.length;ee++){let{pressure:ce}=e[ee],{point:Ee,vector:Fe,distance:bt,runningLength:rt}=e[ee];if(ee<e.length-1&&m-rt<3)continue;if(r){if(l){let Be=Cs(1,bt/s),me=Cs(1,1-Be);ce=Cs(1,k+(me-k)*(Be*Au))}S=gu(s,r,ce,a)}else S=s/2;B===void 0&&(B=S);let mt=rt<v?f(rt/v):1,An=m-rt<w?y((m-rt)/w):1;S=Math.max(.01,S*Math.min(mt,An));let O=(ee<e.length-1?e[ee+1]:e[ee]).vector,se=ee<e.length-1?vu(Fe,O):1,G=vu(Fe,j)<0&&!K,re=se!==null&&se<0;if(G||re){let Be=qt(eo(j),S);for(let me=1/13,de=0;de<=1;de+=me)ne=to(Pt(Ee,Be),Ee,no*de),E.push(ne),pe=to(Ht(Ee,Be),Ee,no*-de),_.push(pe);$=ne,V=pe,re&&(K=!0);continue}if(K=!1,ee===e.length-1){let Be=qt(eo(Fe),S);E.push(Pt(Ee,Be)),_.push(Ht(Ee,Be));continue}let ke=qt(eo(xa(O,Fe,se)),S);ne=Pt(Ee,ke),(ee<=1||_u($,ne)>A)&&(E.push(ne),$=ne),pe=Ht(Ee,ke),(ee<=1||_u(V,pe)>A)&&(_.push(pe),V=pe),k=ce,j=Fe}let Ae=e[0].point.slice(0,2),ve=e.length>1?e[e.length-1].point.slice(0,2):Ht(e[0].point,[1,1]),be=[],Pe=[];if(e.length===1){if(!(v||w)||p){let ee=wu(Ae,Cf(eo(Pt(Ae,ve))),-(B||S)),ce=[];for(let Ee=1/13,Fe=Ee;Fe<=1;Fe+=Ee)ce.push(to(ee,Ae,no*2*Fe));return ce}}else{if(!(v||w&&e.length===1))if(d)for(let ce=1/13,Ee=ce;Ee<=1;Ee+=ce){let Fe=to(_[0],Ae,no*Ee);be.push(Fe)}else{let ce=Pt(E[0],_[0]),Ee=qt(ce,.5),Fe=qt(ce,.51);be.push(Pt(Ae,Ee),Pt(Ae,Fe),Ht(Ae,Fe),Ht(Ae,Ee))}let ee=eo(E0(e[e.length-1].vector));if(w||v&&e.length===1)Pe.push(ve);else if(h){let ce=wu(ve,ee,S);for(let Ee=1/29,Fe=Ee;Fe<1;Fe+=Ee)Pe.push(to(ce,ve,no*3*Fe))}else Pe.push(Ht(ve,qt(ee,S)),Ht(ve,qt(ee,S*.99)),Pt(ve,qt(ee,S*.99)),Pt(ve,qt(ee,S)))}return E.concat(Pe,_.reverse(),be)}function T0(e,n={}){var s;let{streamline:o=.5,size:r=16,last:l=!1}=n;if(e.length===0)return[];let a=.15+(1-o)*.85,i=Array.isArray(e[0])?e:e.map(({x:y,y:m,pressure:v=.5})=>[y,m,v]);if(i.length===2){let y=i[1];i=i.slice(0,-1);for(let m=1;m<5;m++)i.push(xa(i[0],y,m/4))}i.length===1&&(i=[...i,[...Ht(i[0],[1,1]),...i[0].slice(2)]]);let c=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],p=!1,d=0,f=c[0],h=i.length-1;for(let y=1;y<i.length;y++){let m=l&&y===h?i[y].slice(0,2):xa(f.point,i[y],a);if(k0(f.point,m))continue;let v=B0(m,f.point);if(d+=v,y<h&&!p){if(d<r)continue;p=!0}f={point:m,pressure:i[y][2]>=0?i[y][2]:.5,vector:Cf(Pt(f.point,m)),distance:v,runningLength:d},c.push(f)}return c[0].vector=((s=c[1])==null?void 0:s.vector)||[0,0],c}function O0(e,n={}){return $0(T0(e,n),n)}var P0=()=>({events:{},emit(e,...n){let s=this.events[e]||[];for(let o=0,r=s.length;o<r;o++)s[o](...n)},on(e,n){var s;return(s=this.events[e])!=null&&s.push(n)||(this.events[e]=[n]),()=>{var o;this.events[e]=(o=this.events[e])==null?void 0:o.filter(r=>n!==r)}}});function qr(e,n){return e-n}function I0(e){return e<0?-1:1}function Hr(e){return[Math.abs(e),I0(e)]}function xf(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var M0=2,pn=M0,Hs=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var n;const s=this.drauu.el,o=this.drauu.options.coordinateScale??1;if(this.drauu.options.coordinateTransform===!1){const r=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-r.left)*o,y:(e.pageY-r.top)*o,pressure:e.pressure}}else{const r=this.drauu.svgPoint;r.x=e.clientX,r.y=e.clientY;const l=r.matrixTransform((n=s.getScreenCTM())==null?void 0:n.inverse());return{x:l.x*o,y:l.y*o,pressure:e.pressure}}}createElement(e,n){const s=document.createElementNS("http://www.w3.org/2000/svg",e),o=n?{...this.brush,...n}:this.brush;return s.setAttribute("fill",o.fill??"transparent"),s.setAttribute("stroke",o.color),s.setAttribute("stroke-width",o.size.toString()),s.setAttribute("stroke-linecap","round"),o.dasharray&&s.setAttribute("stroke-dasharray",o.dasharray),s}attr(e,n){this.el.setAttribute(e,typeof n=="string"?n:n.toFixed(pn))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},L0=class extends Hs{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){const n=O0(e,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!n.length)return"";const s=n.reduce((o,[r,l],a,i)=>{const[c,p]=i[(a+1)%i.length];return o.push(r,l,(r+c)/2,(l+p)/2),o},["M",...n[0],"Q"]);return s.push("Z"),s.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}},R0=class extends Hs{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[n,s]=Hr(e.x-this.start.x),[o,r]=Hr(e.y-this.start.y);if(this.shiftPressed){const l=Math.min(n,o);n=l,o=l}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",n),this.attr("ry",o);else{const[l,a]=[this.start.x,this.start.x+n*s].sort(qr),[i,c]=[this.start.y,this.start.y+o*r].sort(qr);this.attr("cx",(l+a)/2),this.attr("cy",(i+c)/2),this.attr("rx",(a-l)/2),this.attr("ry",(c-i)/2)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function Bf(e,n){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",n),o.setAttribute("id",e),o.setAttribute("viewBox","0 -5 10 10"),o.setAttribute("refX","5"),o.setAttribute("refY","0"),o.setAttribute("markerWidth","4"),o.setAttribute("markerHeight","4"),o.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),o.appendChild(r),s.appendChild(o),s}var F0=class extends Hs{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const n=xf(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Bf(n,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${n})`),s}return this.el}onMove(e){if(!this.el)return!1;let{x:n,y:s}=e;if(this.shiftPressed){const o=e.x-this.start.x,r=e.y-this.start.y;if(r!==0){let l=o/r;l=Math.round(l),Math.abs(l)<=1?(n=this.start.x+r*l,s=this.start.y+r):(n=this.start.x+o,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-n),this.attr("y1",this.start.y*2-s),this.attr("x2",n),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",n),this.attr("y2",s)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||e.getTotalLength()<5)}},N0=class extends Hs{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[n,s]=Hr(e.x-this.start.x),[o,r]=Hr(e.y-this.start.y);if(this.shiftPressed){const l=Math.min(n,o);n=l,o=l}if(this.altPressed)this.attr("x",this.start.x-n),this.attr("y",this.start.y-o),this.attr("width",n*2),this.attr("height",o*2);else{const[l,a]=[this.start.x,this.start.x+n*s].sort(qr),[i,c]=[this.start.y,this.start.y+o*r].sort(qr);this.attr("x",l),this.attr("y",i),this.attr("width",a-l),this.attr("height",c-i)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function j0(e,n){const s=e.x-n.x,o=e.y-n.y;return s*s+o*o}function q0(e,n,s){let o=n.x,r=n.y,l=s.x-o,a=s.y-r;if(l!==0||a!==0){const i=((e.x-o)*l+(e.y-r)*a)/(l*l+a*a);i>1?(o=s.x,r=s.y):i>0&&(o+=l*i,r+=a*i)}return l=e.x-o,a=e.y-r,l*l+a*a}function H0(e,n){let s=e[0];const o=[s];let r;for(let l=1,a=e.length;l<a;l++)r=e[l],j0(r,s)>n&&(o.push(r),s=r);return s!==r&&r&&o.push(r),o}function Ba(e,n,s,o,r){let l=o,a=0;for(let i=n+1;i<s;i++){const c=q0(e[i],e[n],e[s]);c>l&&(a=i,l=c)}l>o&&(a-n>1&&Ba(e,n,a,o,r),r.push(e[a]),s-a>1&&Ba(e,a,s,o,r))}function V0(e,n){const s=e.length-1,o=[e[0]];return Ba(e,0,s,n,o),o.push(e[s]),o}function bu(e,n,s=!1){if(e.length<=2)return e;const o=n!==void 0?n*n:1;return e=s?e:H0(e,o),e=V0(e,o),e}var U0=class extends Hs{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=xf();const n=Bf(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=bu(this.points,1,!0),this.count=0),this.attr("d",Du(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||(e.setAttribute("d",Du(bu(this.points,1,!0))),!e.getTotalLength()))}};function W0(e,n){const s=n.x-e.x,o=n.y-e.y;return{length:Math.sqrt(s**2+o**2),angle:Math.atan2(o,s)}}function Eu(e,n,s,o){const r=n||e,l=s||e,a=.2,i=W0(r,l),c=i.angle+(o?Math.PI:0),p=i.length*a,d=e.x+Math.cos(c)*p,f=e.y+Math.sin(c)*p;return{x:d,y:f}}function z0(e,n,s){const o=Eu(s[n-1],s[n-2],e),r=Eu(e,s[n-1],s[n+1],!0);return`C ${o.x.toFixed(pn)},${o.y.toFixed(pn)} ${r.x.toFixed(pn)},${r.y.toFixed(pn)} ${e.x.toFixed(pn)},${e.y.toFixed(pn)}`}function Du(e){return e.reduce((n,s,o,r)=>o===0?`M ${s.x.toFixed(pn)},${s.y.toFixed(pn)}`:`${n} ${z0(s,o,r)}`,"")}var K0=class extends Hs{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(e){const n=(s,o)=>{if(s&&s.length)for(let r=0;r<s.length;r++){const l=s[r];if(l.getTotalLength){const a=l.getTotalLength();for(let i=0;i<this.pathSubFactor;i++){const c=l.getPointAtLength(a*i/this.pathSubFactor),p=l.getPointAtLength(a*(i+1)/this.pathSubFactor);this.pathFragments.push({x1:c.x,x2:p.x,y1:c.y,y2:p.y,segment:i,element:o||l})}}else l.children&&n(l.children,l)}};e&&n(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const n=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,n}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const e=[];if(this.pathFragments.length)for(let n=0;n<this.pathFragments.length;n++){const s=this.pathFragments[n],o={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(s,o)&&(s.element.remove(),e.push(n))}return e.length&&(this.pathFragments=this.pathFragments.filter((n,s)=>!e.includes(s))),e.length>0}lineLineIntersect(e,n){const s=e.x1,o=e.x2,r=n.x1,l=n.x2,a=e.y1,i=e.y2,c=n.y1,p=n.y2,d=(s-o)*(c-p)-(a-i)*(r-l),f=(s*i-a*o)*(r-l)-(s-o)*(r*p-c*l),h=(s*i-a*o)*(c-p)-(a-i)*(r*p-c*l),y=(m,v,w)=>m>=v&&m<=w?!0:m>=w&&m<=v;if(d===0)return!1;{const m={x:f/d,y:h/d};return y(m.x,s,o)&&y(m.y,a,i)&&y(m.x,r,l)&&y(m.y,c,p)}}};function Y0(e){return{draw:new U0(e),stylus:new L0(e),line:new F0(e),rectangle:new N0(e),ellipse:new R0(e),eraseLine:new K0(e)}}var G0=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=P0(),this._models=Y0(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,n){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(n)||this.el,o=this.eventStart.bind(this),r=this.eventMove.bind(this),l=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",o,{passive:!1}),window.addEventListener("pointermove",r,{passive:!1}),window.addEventListener("pointerup",l,{passive:!1}),window.addEventListener("pointercancel",l,{passive:!1}),window.addEventListener("keydown",a,!1),window.addEventListener("keyup",a,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",o),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",l),window.removeEventListener("keydown",a,!1),window.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,n){return this._emitter.on(e,n)}undo(){const e=this.el;return e.lastElementChild?(this._undoStack.push(e.lastElementChild.cloneNode(!0)),e.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var e;return!!((e=this.el)!=null&&e.lastElementChild)}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){this.acceptsInput(e)&&(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const n=this.model._eventUp(e);n?(n instanceof Element&&n!==this._currentNode&&(this._currentNode=n),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(e){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}};function Q0(e){return new G0(e)}const Sa=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],en=Yt("slidev-drawing-enabled",!1),e$=Yt("slidev-drawing-pinned",!1),J0=Y(!1),Z0=Y(!1),X0=Y(!1),Po=Y(!1),as=B6(Yt("slidev-drawing-brush",{color:Sa[0],size:4,mode:"stylus"})),ku=Y("stylus"),Sf=T(()=>$e.drawings.syncAll||vt.value);let Io=!1;const so=T({get(){return ku.value},set(e){ku.value=e,e==="arrow"?(as.mode="line",as.arrowEnd=!0):(as.mode=e,as.arrowEnd=!1)}}),e1=Ve({brush:as,acceptsInputTypes:T(()=>en.value&&(!$e.drawings.presenterOnly||vt.value)?void 0:["pen"]),coordinateTransform:!1}),ht=tl(Q0(e1));function t1(){ht.clear(),Sf.value&&Gd(Ye.value,"")}function ki(){var e;Z0.value=ht.canRedo(),J0.value=ht.canUndo(),X0.value=!!((e=ht.el)!=null&&e.children.length)}function n1(e){Io=!0;const n=Nr[e||Ye.value];n!=null?ht.load(n):ht.clear(),ki(),Io=!1}ht.on("changed",()=>{if(ki(),!Io){const e=ht.dump(),n=Ye.value;(Nr[n]||"")!==e&&Sf.value&&Gd(n,ht.dump())}});D6(e=>{Io=!0,e[Ye.value]!=null&&ht.load(e[Ye.value]||""),Io=!1,ki()});st(()=>{_e(Ye,()=>{ht.mounted&&n1()},{immediate:!0})});ht.on("start",()=>Po.value=!0);ht.on("end",()=>Po.value=!1);window.addEventListener("keydown",e=>{if(!en.value)return;const n=!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey;let s=!0;e.code==="KeyZ"&&(e.ctrlKey||e.metaKey)?e.shiftKey?ht.redo():ht.undo():e.code==="Escape"?en.value=!1:e.code==="KeyL"&&n?so.value="line":e.code==="KeyA"&&n?so.value="arrow":e.code==="KeyS"&&n?so.value="stylus":e.code==="KeyR"&&n?so.value="rectangle":e.code==="KeyE"&&n?so.value="ellipse":e.code==="KeyC"&&n?t1():e.code.startsWith("Digit")&&n&&+e.code[5]<=Sa.length?as.color=Sa[+e.code[5]-1]:s=!1,s&&(e.preventDefault(),e.stopPropagation())},!1);function $f(e){return typeof e=="function"?e():C(e)}function Je(...e){return T(()=>e.every(n=>$f(n)))}function Dt(e){return T(()=>!$f(e))}const Cu=bv(),Nl=Yt("slidev-color-schema","auto"),$a=T(()=>$e.colorSchema!=="auto"),Ci=T({get(){return $a.value?$e.colorSchema==="dark":Nl.value==="auto"?Cu.value:Nl.value==="dark"},set(e){$a.value||(Nl.value=e===Cu.value?"auto":e?"dark":"light")}}),Tf=Xd(Ci);Kt&&_e(Ci,e=>{const n=document.querySelector("html");n.classList.toggle("dark",e),n.classList.toggle("light",!e)},{immediate:!0});const Ar=Y(1),br=T(()=>Qe.length-1),St=Y(0),xi=Y(0);function s1(){St.value>Ar.value&&(St.value-=1)}function o1(){St.value<br.value&&(St.value+=1)}function r1(){if(St.value>Ar.value){let e=St.value-xi.value;e<Ar.value&&(e=Ar.value),St.value=e}}function l1(){if(St.value<br.value){let e=St.value+xi.value;e>br.value&&(e=br.value),St.value=e}}function a1(){const{escape:e,space:n,shift:s,left:o,right:r,up:l,down:a,enter:i,d:c,g:p,o:d}=Ef;let f=[{name:"next_space",key:Je(n,Dt(s)),fn:Fn,autoRepeat:!0},{name:"prev_space",key:Je(n,s),fn:Nn,autoRepeat:!0},{name:"next_right",key:Je(r,Dt(s),Dt(pt)),fn:Fn,autoRepeat:!0},{name:"prev_left",key:Je(o,Dt(s),Dt(pt)),fn:Nn,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:Fn,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:Nn,autoRepeat:!0},{name:"next_down",key:Je(a,Dt(pt)),fn:Lo,autoRepeat:!0},{name:"prev_up",key:Je(l,Dt(pt)),fn:()=>Ro(!1),autoRepeat:!0},{name:"next_shift",key:Je(r,s),fn:Lo,autoRepeat:!0},{name:"prev_shift",key:Je(o,s),fn:()=>Ro(!1),autoRepeat:!0},{name:"toggle_dark",key:Je(c,Dt(en)),fn:Tf},{name:"toggle_overview",key:Je(d,Dt(en)),fn:kf},{name:"hide_overview",key:Je(e,Dt(en)),fn:()=>pt.value=!1},{name:"goto",key:Je(p,Dt(en)),fn:()=>$s.value=!$s.value},{name:"next_overview",key:Je(r,pt),fn:o1},{name:"prev_overview",key:Je(o,pt),fn:s1},{name:"up_overview",key:Je(l,pt),fn:r1},{name:"down_overview",key:Je(a,pt),fn:l1},{name:"goto_from_overview",key:Je(i,pt),fn:()=>{js(St.value),pt.value=!1}}];const h=new Set(f.map(m=>m.name));if(f.filter(m=>m.name&&h.has(m.name)).length===0){const m=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(m),console.warn(m)}return f}const Of=Je(Dt(A0),Dt(b0),_0);function i1(e,n,s=!1){typeof e=="string"&&(e=Ef[e]);const o=Je(e,Of);let r=0,l;const a=()=>{if(clearTimeout(l),!o.value){r=0;return}s&&(l=setTimeout(a,Math.max(1e3-r*250,150)),r++),n()};return _e(o,a,{flush:"sync"})}function c1(e,n){return rv(e,s=>{Of.value&&(s.repeat||n())})}function u1(){const e=a1();new Map(e.map(s=>[s.key,s])).forEach(s=>{s.fn&&i1(s.key,s.fn,s.autoRepeat)}),c1("f",()=>Df.toggle())}const p1={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},d1=t("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),f1=[d1];function h1(e,n){return D(),oe("svg",p1,f1)}const y1={name:"carbon-close",render:h1};function Bi(e,n=""){var r,l;const s=["slidev-page",n],o=(l=(r=e==null?void 0:e.meta)==null?void 0:r.slide)==null?void 0:l.no;return o!=null&&s.push(`slidev-page-${o}`),s.filter(Boolean).join(" ")}const m1=Re({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(e){const n=e;P(F);const s=Y(),o=Iv(s),r=T(()=>n.width?n.width:o.width.value),l=T(()=>n.width?n.width/In:o.height.value);n.width&&ws(()=>{s.value&&(s.value.style.width=`${r.value}px`,s.value.style.height=`${l.value}px`)});const a=T(()=>r.value/l.value),i=T(()=>n.scale&&!Ns.value?n.scale:a.value<In?r.value/Mn:l.value*In/Mn),c=T(()=>({height:`${Ai}px`,width:`${Mn}px`,transform:`translate(-50%, -50%) scale(${i.value})`})),p=T(()=>({"select-none":!$e.selectable,"slidev-code-line-numbers":$e.lineNumbers}));return Ct(zd,i),(d,f)=>(D(),oe("div",{id:"slide-container",ref_key:"root",ref:s,class:Ke(C(p))},[t("div",{id:"slide-content",style:at(C(c))},[mn(d.$slots,"default")],4),mn(d.$slots,"controls")],2))}});const N=(e,n)=>{const s=e.__vccOpts||e;for(const[o,r]of n)s[o]=r;return s},Pf=N(m1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlideContainer.vue"]]),Si=Re({name:"SlideWrapper",props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(e,{emit:n}){const s=Xt(e,"clicks",n),o=Xt(e,"clicksElements",n),r=Xt(e,"clicksDisabled",n),l=Xt(e,"clicksOrderMap",n);o.value.length=0,Ct(c6,e.route),Ct(u6,e.context),Ct(fo,s),Ct(ho,r),Ct(ns,o),Ct(ga,l)},render(){var e,n;return this.$props.is?Bt(this.$props.is):(n=(e=this.$slots)==null?void 0:e.default)==null?void 0:n.call(e)}}),g1=["innerHTML"],v1=Re({__name:"DrawingPreview",props:{page:{type:Number,required:!0}},setup(e){return P(F),(n,s)=>C(Nr)[e.page]?(D(),oe("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:C(Nr)[e.page]},null,8,g1)):De("v-if",!0)}}),If=N(v1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/DrawingPreview.vue"]]),_1=Object.freeze(Object.defineProperty({__proto__:null,default:If},Symbol.toStringTag,{value:"Module"})),w1={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},A1=["onClick"],b1=Re({__name:"SlidesOverview",props:{modelValue:{type:Boolean,required:!0}},emits:[],setup(e,{emit:n}){const s=e;P(F);const o=Xt(s,"modelValue",n);function r(){o.value=!1}function l(y){js(y),r()}function a(y){return y===St.value}const i=Ca.smaller("xs"),c=Ca.smaller("sm"),p=4*16*2,d=2*16,f=T(()=>i.value?ys.width.value-p:c.value?(ys.width.value-p-d)/2:300),h=T(()=>Math.floor((ys.width.value-p)/(f.value+d)));return ws(()=>{St.value=Ye.value,xi.value=h.value}),(y,m)=>{const v=y1;return D(),oe(Te,null,[ud(t("div",w1,[t("div",{class:"grid gap-y-4 gap-x-8 w-full",style:at(`grid-template-columns: repeat(auto-fit,minmax(${C(f)}px,1fr))`)},[(D(!0),oe(Te,null,qs(C(Qe).slice(0,-1),(w,A)=>(D(),oe("div",{key:w.path,class:"relative"},[t("div",{class:Ke(["inline-block border rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":a(A+1),"border-gray-400":!a(A+1)}]),style:at(C(bi)),onClick:E=>l(+w.path)},[(D(),I(Pf,{key:w.path,width:C(f),"clicks-disabled":!0,class:"pointer-events-none"},{default:M(()=>[w!=null&&w.component?(D(),I(C(Si),{key:0,is:w.component,"clicks-disabled":!0,class:Ke(C(Bi)(w)),route:w,context:"overview"},null,8,["is","class","route"])):De("v-if",!0),te(If,{page:+w.path},null,8,["page"])]),_:2},1032,["width"]))],14,A1),t("div",{class:"absolute top-0 opacity-50",style:at(`left: ${C(f)+5}px`)},fn(A+1),5)]))),128))],4)],512),[[Md,C(o)]]),C(o)?(D(),oe("button",{key:0,class:"fixed text-2xl top-4 right-4 slidev-icon-btn text-gray-400",onClick:r},[te(v)])):De("v-if",!0)],64)}}});const E1=N(b1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlidesOverview.vue"]]),D1="/owasp-top-ten-workshop/assets/logo-b72bde5d.png",k1={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},C1=Re({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(e,{emit:n}){const s=e;P(F);const o=Xt(s,"modelValue",n);function r(){o.value=!1}return(l,a)=>(D(),I(rd,null,[C(o)?(D(),oe("div",k1,[t("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=i=>r())}),t("div",{class:Ke(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ main"},[mn(l.$slots,"default")],2)])):De("v-if",!0)],1024))}}),x1=N(C1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Modal.vue"]]),B1={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},S1=["innerHTML"],$1=t("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[t("div",{class:"flex gap-1 children:my-auto"},[t("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),t("img",{class:"w-5 h-5",src:D1,alt:"Slidev"}),t("div",{style:{color:"#2082A6"}},[t("b",null,"Sli"),u("dev ")])])],-1),T1=Re({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(e,{emit:n}){const s=e;P(F);const o=Xt(s,"modelValue",n),r=T(()=>typeof $e.info=="string");return(l,a)=>(D(),I(x1,{modelValue:C(o),"onUpdate:modelValue":a[0]||(a[0]=i=>Oe(o)?o.value=i:null),class:"px-6 py-4"},{default:M(()=>[t("div",B1,[C(r)?(D(),oe("div",{key:0,class:"mb-4",innerHTML:C($e).info},null,8,S1)):De("v-if",!0),$1])]),_:1},8,["modelValue"]))}});const O1=N(T1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/InfoDialog.vue"]]);function vn(e){return Array.isArray?Array.isArray(e):Rf(e)==="[object Array]"}const P1=1/0;function I1(e){if(typeof e=="string")return e;let n=e+"";return n=="0"&&1/e==-P1?"-0":n}function M1(e){return e==null?"":I1(e)}function tn(e){return typeof e=="string"}function Mf(e){return typeof e=="number"}function L1(e){return e===!0||e===!1||R1(e)&&Rf(e)=="[object Boolean]"}function Lf(e){return typeof e=="object"}function R1(e){return Lf(e)&&e!==null}function xt(e){return e!=null}function jl(e){return!e.trim().length}function Rf(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const F1="Incorrect 'index' type",N1=e=>`Invalid value for key ${e}`,j1=e=>`Pattern length exceeds max of ${e}.`,q1=e=>`Missing ${e} property in key`,H1=e=>`Property 'weight' in key '${e}' must be a positive integer`,xu=Object.prototype.hasOwnProperty;class V1{constructor(n){this._keys=[],this._keyMap={};let s=0;n.forEach(o=>{let r=Ff(o);s+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,s+=r.weight}),this._keys.forEach(o=>{o.weight/=s})}get(n){return this._keyMap[n]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ff(e){let n=null,s=null,o=null,r=1,l=null;if(tn(e)||vn(e))o=e,n=Bu(e),s=Ta(e);else{if(!xu.call(e,"name"))throw new Error(q1("name"));const a=e.name;if(o=a,xu.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(H1(a));n=Bu(a),s=Ta(a),l=e.getFn}return{path:n,id:s,weight:r,src:o,getFn:l}}function Bu(e){return vn(e)?e:e.split(".")}function Ta(e){return vn(e)?e.join("."):e}function U1(e,n){let s=[],o=!1;const r=(l,a,i)=>{if(xt(l))if(!a[i])s.push(l);else{let c=a[i];const p=l[c];if(!xt(p))return;if(i===a.length-1&&(tn(p)||Mf(p)||L1(p)))s.push(M1(p));else if(vn(p)){o=!0;for(let d=0,f=p.length;d<f;d+=1)r(p[d],a,i+1)}else a.length&&r(p,a,i+1)}};return r(e,tn(n)?n.split("."):n,0),o?s:s[0]}const W1={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},z1={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,n)=>e.score===n.score?e.idx<n.idx?-1:1:e.score<n.score?-1:1},K1={location:0,threshold:.6,distance:100},Y1={useExtendedSearch:!1,getFn:U1,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var he={...z1,...W1,...K1,...Y1};const G1=/[^ ]+/g;function Q1(e=1,n=3){const s=new Map,o=Math.pow(10,n);return{get(r){const l=r.match(G1).length;if(s.has(l))return s.get(l);const a=1/Math.pow(l,.5*e),i=parseFloat(Math.round(a*o)/o);return s.set(l,i),i},clear(){s.clear()}}}class $i{constructor({getFn:n=he.getFn,fieldNormWeight:s=he.fieldNormWeight}={}){this.norm=Q1(s,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}setSources(n=[]){this.docs=n}setIndexRecords(n=[]){this.records=n}setKeys(n=[]){this.keys=n,this._keysMap={},n.forEach((s,o)=>{this._keysMap[s.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,tn(this.docs[0])?this.docs.forEach((n,s)=>{this._addString(n,s)}):this.docs.forEach((n,s)=>{this._addObject(n,s)}),this.norm.clear())}add(n){const s=this.size();tn(n)?this._addString(n,s):this._addObject(n,s)}removeAt(n){this.records.splice(n,1);for(let s=n,o=this.size();s<o;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(n,s){return n[this._keysMap[s]]}size(){return this.records.length}_addString(n,s){if(!xt(n)||jl(n))return;let o={v:n,i:s,n:this.norm.get(n)};this.records.push(o)}_addObject(n,s){let o={i:s,$:{}};this.keys.forEach((r,l)=>{let a=r.getFn?r.getFn(n):this.getFn(n,r.path);if(xt(a)){if(vn(a)){let i=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:p,value:d}=c.pop();if(xt(d))if(tn(d)&&!jl(d)){let f={v:d,i:p,n:this.norm.get(d)};i.push(f)}else vn(d)&&d.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}o.$[l]=i}else if(tn(a)&&!jl(a)){let i={v:a,n:this.norm.get(a)};o.$[l]=i}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function Nf(e,n,{getFn:s=he.getFn,fieldNormWeight:o=he.fieldNormWeight}={}){const r=new $i({getFn:s,fieldNormWeight:o});return r.setKeys(e.map(Ff)),r.setSources(n),r.create(),r}function J1(e,{getFn:n=he.getFn,fieldNormWeight:s=he.fieldNormWeight}={}){const{keys:o,records:r}=e,l=new $i({getFn:n,fieldNormWeight:s});return l.setKeys(o),l.setIndexRecords(r),l}function pr(e,{errors:n=0,currentLocation:s=0,expectedLocation:o=0,distance:r=he.distance,ignoreLocation:l=he.ignoreLocation}={}){const a=n/e.length;if(l)return a;const i=Math.abs(o-s);return r?a+i/r:i?1:a}function Z1(e=[],n=he.minMatchCharLength){let s=[],o=-1,r=-1,l=0;for(let a=e.length;l<a;l+=1){let i=e[l];i&&o===-1?o=l:!i&&o!==-1&&(r=l-1,r-o+1>=n&&s.push([o,r]),o=-1)}return e[l-1]&&l-o>=n&&s.push([o,l-1]),s}const os=32;function X1(e,n,s,{location:o=he.location,distance:r=he.distance,threshold:l=he.threshold,findAllMatches:a=he.findAllMatches,minMatchCharLength:i=he.minMatchCharLength,includeMatches:c=he.includeMatches,ignoreLocation:p=he.ignoreLocation}={}){if(n.length>os)throw new Error(j1(os));const d=n.length,f=e.length,h=Math.max(0,Math.min(o,f));let y=l,m=h;const v=i>1||c,w=v?Array(f):[];let A;for(;(A=e.indexOf(n,m))>-1;){let j=pr(n,{currentLocation:A,expectedLocation:h,distance:r,ignoreLocation:p});if(y=Math.min(j,y),m=A+d,v){let $=0;for(;$<d;)w[A+$]=1,$+=1}}m=-1;let E=[],_=1,k=d+f;const S=1<<d-1;for(let j=0;j<d;j+=1){let $=0,V=k;for(;$<V;)pr(n,{errors:j,currentLocation:h+V,expectedLocation:h,distance:r,ignoreLocation:p})<=y?$=V:k=V,V=Math.floor((k-$)/2+$);k=V;let ne=Math.max(1,h-V+1),pe=a?f:Math.min(h+V,f)+d,K=Array(pe+2);K[pe+1]=(1<<j)-1;for(let ve=pe;ve>=ne;ve-=1){let be=ve-1,Pe=s[e.charAt(be)];if(v&&(w[be]=+!!Pe),K[ve]=(K[ve+1]<<1|1)&Pe,j&&(K[ve]|=(E[ve+1]|E[ve])<<1|1|E[ve+1]),K[ve]&S&&(_=pr(n,{errors:j,currentLocation:be,expectedLocation:h,distance:r,ignoreLocation:p}),_<=y)){if(y=_,m=be,m<=h)break;ne=Math.max(1,2*h-m)}}if(pr(n,{errors:j+1,currentLocation:h,expectedLocation:h,distance:r,ignoreLocation:p})>y)break;E=K}const B={isMatch:m>=0,score:Math.max(.001,_)};if(v){const j=Z1(w,i);j.length?c&&(B.indices=j):B.isMatch=!1}return B}function ew(e){let n={};for(let s=0,o=e.length;s<o;s+=1){const r=e.charAt(s);n[r]=(n[r]||0)|1<<o-s-1}return n}class jf{constructor(n,{location:s=he.location,threshold:o=he.threshold,distance:r=he.distance,includeMatches:l=he.includeMatches,findAllMatches:a=he.findAllMatches,minMatchCharLength:i=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreLocation:p=he.ignoreLocation}={}){if(this.options={location:s,threshold:o,distance:r,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:c,ignoreLocation:p},this.pattern=c?n:n.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(h,y)=>{this.chunks.push({pattern:h,alphabet:ew(h),startIndex:y})},f=this.pattern.length;if(f>os){let h=0;const y=f%os,m=f-y;for(;h<m;)d(this.pattern.substr(h,os),h),h+=os;if(y){const v=f-os;d(this.pattern.substr(v),v)}}else d(this.pattern,0)}searchIn(n){const{isCaseSensitive:s,includeMatches:o}=this.options;if(s||(n=n.toLowerCase()),this.pattern===n){let m={isMatch:!0,score:0};return o&&(m.indices=[[0,n.length-1]]),m}const{location:r,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:c,ignoreLocation:p}=this.options;let d=[],f=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:v,startIndex:w})=>{const{isMatch:A,score:E,indices:_}=X1(n,m,v,{location:r+w,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:c,includeMatches:o,ignoreLocation:p});A&&(h=!0),f+=E,A&&_&&(d=[...d,..._])});let y={isMatch:h,score:h?f/this.chunks.length:1};return h&&o&&(y.indices=d),y}}class Wn{constructor(n){this.pattern=n}static isMultiMatch(n){return Su(n,this.multiRegex)}static isSingleMatch(n){return Su(n,this.singleRegex)}search(){}}function Su(e,n){const s=e.match(n);return s?s[1]:null}class tw extends Wn{constructor(n){super(n)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(n){const s=n===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class nw extends Wn{constructor(n){super(n)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(n){const o=n.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,n.length-1]}}}class sw extends Wn{constructor(n){super(n)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(n){const s=n.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class ow extends Wn{constructor(n){super(n)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(n){const s=!n.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,n.length-1]}}}class rw extends Wn{constructor(n){super(n)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(n){const s=n.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[n.length-this.pattern.length,n.length-1]}}}class lw extends Wn{constructor(n){super(n)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(n){const s=!n.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,n.length-1]}}}class qf extends Wn{constructor(n,{location:s=he.location,threshold:o=he.threshold,distance:r=he.distance,includeMatches:l=he.includeMatches,findAllMatches:a=he.findAllMatches,minMatchCharLength:i=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreLocation:p=he.ignoreLocation}={}){super(n),this._bitapSearch=new jf(n,{location:s,threshold:o,distance:r,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:c,ignoreLocation:p})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(n){return this._bitapSearch.searchIn(n)}}class Hf extends Wn{constructor(n){super(n)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(n){let s=0,o;const r=[],l=this.pattern.length;for(;(o=n.indexOf(this.pattern,s))>-1;)s=o+l,r.push([o,s-1]);const a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}const Oa=[tw,Hf,sw,ow,lw,rw,nw,qf],$u=Oa.length,aw=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,iw="|";function cw(e,n={}){return e.split(iw).map(s=>{let o=s.trim().split(aw).filter(l=>l&&!!l.trim()),r=[];for(let l=0,a=o.length;l<a;l+=1){const i=o[l];let c=!1,p=-1;for(;!c&&++p<$u;){const d=Oa[p];let f=d.isMultiMatch(i);f&&(r.push(new d(f,n)),c=!0)}if(!c)for(p=-1;++p<$u;){const d=Oa[p];let f=d.isSingleMatch(i);if(f){r.push(new d(f,n));break}}}return r})}const uw=new Set([qf.type,Hf.type]);class pw{constructor(n,{isCaseSensitive:s=he.isCaseSensitive,includeMatches:o=he.includeMatches,minMatchCharLength:r=he.minMatchCharLength,ignoreLocation:l=he.ignoreLocation,findAllMatches:a=he.findAllMatches,location:i=he.location,threshold:c=he.threshold,distance:p=he.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:o,minMatchCharLength:r,findAllMatches:a,ignoreLocation:l,location:i,threshold:c,distance:p},this.pattern=s?n:n.toLowerCase(),this.query=cw(this.pattern,this.options)}static condition(n,s){return s.useExtendedSearch}searchIn(n){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:r}=this.options;n=r?n:n.toLowerCase();let l=0,a=[],i=0;for(let c=0,p=s.length;c<p;c+=1){const d=s[c];a.length=0,l=0;for(let f=0,h=d.length;f<h;f+=1){const y=d[f],{isMatch:m,indices:v,score:w}=y.search(n);if(m){if(l+=1,i+=w,o){const A=y.constructor.type;uw.has(A)?a=[...a,...v]:a.push(v)}}else{i=0,l=0,a.length=0;break}}if(l){let f={isMatch:!0,score:i/l};return o&&(f.indices=a),f}}return{isMatch:!1,score:1}}}const Pa=[];function dw(...e){Pa.push(...e)}function Ia(e,n){for(let s=0,o=Pa.length;s<o;s+=1){let r=Pa[s];if(r.condition(e,n))return new r(e,n)}return new jf(e,n)}const Vr={AND:"$and",OR:"$or"},Ma={PATH:"$path",PATTERN:"$val"},La=e=>!!(e[Vr.AND]||e[Vr.OR]),fw=e=>!!e[Ma.PATH],hw=e=>!vn(e)&&Lf(e)&&!La(e),Tu=e=>({[Vr.AND]:Object.keys(e).map(n=>({[n]:e[n]}))});function Vf(e,n,{auto:s=!0}={}){const o=r=>{let l=Object.keys(r);const a=fw(r);if(!a&&l.length>1&&!La(r))return o(Tu(r));if(hw(r)){const c=a?r[Ma.PATH]:l[0],p=a?r[Ma.PATTERN]:r[c];if(!tn(p))throw new Error(N1(c));const d={keyId:Ta(c),pattern:p};return s&&(d.searcher=Ia(p,n)),d}let i={children:[],operator:l[0]};return l.forEach(c=>{const p=r[c];vn(p)&&p.forEach(d=>{i.children.push(o(d))})}),i};return La(e)||(e=Tu(e)),o(e)}function yw(e,{ignoreFieldNorm:n=he.ignoreFieldNorm}){e.forEach(s=>{let o=1;s.matches.forEach(({key:r,norm:l,score:a})=>{const i=r?r.weight:null;o*=Math.pow(a===0&&i?Number.EPSILON:a,(i||1)*(n?1:l))}),s.score=o})}function mw(e,n){const s=e.matches;n.matches=[],xt(s)&&s.forEach(o=>{if(!xt(o.indices)||!o.indices.length)return;const{indices:r,value:l}=o;let a={indices:r,value:l};o.key&&(a.key=o.key.src),o.idx>-1&&(a.refIndex=o.idx),n.matches.push(a)})}function gw(e,n){n.score=e.score}function vw(e,n,{includeMatches:s=he.includeMatches,includeScore:o=he.includeScore}={}){const r=[];return s&&r.push(mw),o&&r.push(gw),e.map(l=>{const{idx:a}=l,i={item:n[a],refIndex:a};return r.length&&r.forEach(c=>{c(l,i)}),i})}class Vs{constructor(n,s={},o){this.options={...he,...s},this.options.useExtendedSearch,this._keyStore=new V1(this.options.keys),this.setCollection(n,o)}setCollection(n,s){if(this._docs=n,s&&!(s instanceof $i))throw new Error(F1);this._myIndex=s||Nf(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(n){xt(n)&&(this._docs.push(n),this._myIndex.add(n))}remove(n=()=>!1){const s=[];for(let o=0,r=this._docs.length;o<r;o+=1){const l=this._docs[o];n(l,o)&&(this.removeAt(o),o-=1,r-=1,s.push(l))}return s}removeAt(n){this._docs.splice(n,1),this._myIndex.removeAt(n)}getIndex(){return this._myIndex}search(n,{limit:s=-1}={}){const{includeMatches:o,includeScore:r,shouldSort:l,sortFn:a,ignoreFieldNorm:i}=this.options;let c=tn(n)?tn(this._docs[0])?this._searchStringList(n):this._searchObjectList(n):this._searchLogical(n);return yw(c,{ignoreFieldNorm:i}),l&&c.sort(a),Mf(s)&&s>-1&&(c=c.slice(0,s)),vw(c,this._docs,{includeMatches:o,includeScore:r})}_searchStringList(n){const s=Ia(n,this.options),{records:o}=this._myIndex,r=[];return o.forEach(({v:l,i:a,n:i})=>{if(!xt(l))return;const{isMatch:c,score:p,indices:d}=s.searchIn(l);c&&r.push({item:l,idx:a,matches:[{score:p,value:l,norm:i,indices:d}]})}),r}_searchLogical(n){const s=Vf(n,this.options),o=(i,c,p)=>{if(!i.children){const{keyId:f,searcher:h}=i,y=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return y&&y.length?[{idx:p,item:c,matches:y}]:[]}const d=[];for(let f=0,h=i.children.length;f<h;f+=1){const y=i.children[f],m=o(y,c,p);if(m.length)d.push(...m);else if(i.operator===Vr.AND)return[]}return d},r=this._myIndex.records,l={},a=[];return r.forEach(({$:i,i:c})=>{if(xt(i)){let p=o(s,i,c);p.length&&(l[c]||(l[c]={idx:c,item:i,matches:[]},a.push(l[c])),p.forEach(({matches:d})=>{l[c].matches.push(...d)}))}}),a}_searchObjectList(n){const s=Ia(n,this.options),{keys:o,records:r}=this._myIndex,l=[];return r.forEach(({$:a,i})=>{if(!xt(a))return;let c=[];o.forEach((p,d)=>{c.push(...this._findMatches({key:p,value:a[d],searcher:s}))}),c.length&&l.push({idx:i,item:a,matches:c})}),l}_findMatches({key:n,value:s,searcher:o}){if(!xt(s))return[];let r=[];if(vn(s))s.forEach(({v:l,i:a,n:i})=>{if(!xt(l))return;const{isMatch:c,score:p,indices:d}=o.searchIn(l);c&&r.push({score:p,key:n,value:l,idx:a,norm:i,indices:d})});else{const{v:l,n:a}=s,{isMatch:i,score:c,indices:p}=o.searchIn(l);i&&r.push({score:c,key:n,value:l,norm:a,indices:p})}return r}}Vs.version="6.6.2";Vs.createIndex=Nf;Vs.parseIndex=J1;Vs.config=he;Vs.parseQuery=Vf;dw(pw);const _w={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},ww=["value","disabled","onKeydown"],Aw=["border","onClick"],bw={"w-4":"","text-right":"",op50:"","text-sm":""},Ew=Re({__name:"Goto",setup(e){P(F);const n=Y(),s=Y(),o=Y(),r=Y(),l=Y(""),a=Y(0);function i(_){return _!=null}const c=T(()=>new Vs(Qe.map(_=>{var k;return(k=_.meta)==null?void 0:k.slide}).filter(i),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),p=T(()=>l.value.startsWith("/")?l.value.substring(1):l.value),d=T(()=>c.value.search(p.value).map(_=>_.item)),f=T(()=>!!d.value.length);function h(){if(f.value){const _=d.value.at(a.value||0);_&&js(_.no)}y()}function y(){l.value="",$s.value=!1}function m(_){_.preventDefault(),a.value++,a.value>=d.value.length&&(a.value=0),w()}function v(_){_.preventDefault(),a.value--,a.value<=-2&&(a.value=d.value.length-1),w()}function w(){var k;const _=(k=r.value)==null?void 0:k[a.value];_&&o.value&&(_.offsetTop+_.offsetHeight>o.value.offsetHeight+o.value.scrollTop?o.value.scrollTo({behavior:"smooth",top:_.offsetTop+_.offsetHeight-o.value.offsetHeight+1}):_.offsetTop<o.value.scrollTop&&o.value.scrollTo({behavior:"smooth",top:_.offsetTop}))}function A(_){a.value=0,l.value=_.target.value}function E(_){js(_),y()}return _e($s,async _=>{var k;_?(l.value="",a.value=0,setTimeout(()=>{var S;return(S=s.value)==null?void 0:S.focus()},0)):(k=s.value)==null||k.blur()}),_e(Rn,()=>{var _;(_=n.value)!=null&&_.contains(Rn.value)||y()}),(_,k)=>(D(),oe("div",{id:"slidev-goto-dialog",ref_key:"container",ref:n,class:Ke(["fixed right-5 transition-all",C($s)?"top-5":"-top-20"]),"w-90":""},[t("div",_w,[t("input",{ref_key:"input",ref:s,value:l.value,type:"text",disabled:!C($s),class:Ke(["outline-none bg-transparent",{"text-red-400":!C(f)&&l.value}]),placeholder:"Goto...",onKeydown:[or(h,["enter"]),or(y,["escape"]),or(m,["down"]),or(v,["up"])],onInput:A},null,42,ww)]),C(d).length>0?(D(),oe("ul",{key:0,ref_key:"list",ref:o,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[(D(!0),oe(Te,null,qs(C(d),(S,B)=>(D(),oe("li",{ref_for:!0,ref_key:"items",ref:r,key:S.id,role:"button",tabindex:"0",p:"x-4 y-2","cursor-pointer":"",hover:"op100",flex:"~ gap-2","items-center":"",border:B===0?"":"t main",class:Ke(a.value===B?"bg-active op100":"op80"),onClick:ug(j=>E(S.no),["stop"])},[t("div",bw,fn(S.no),1),u(" "+fn(S.title),1)],10,Aw))),128))],512)):De("v-if",!0)],2))}});const Dw=N(Ew,[["__scopeId","data-v-f5ee02a7"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Goto.vue"]]),kw=Re({__name:"Controls",setup(e){P(F);const n=sn(),s=sn();return(o,r)=>(D(),oe(Te,null,[te(E1,{modelValue:C(pt),"onUpdate:modelValue":r[0]||(r[0]=l=>Oe(pt)?pt.value=l:null)},null,8,["modelValue"]),te(Dw),C(n)?(D(),I(C(n),{key:0})):De("v-if",!0),C(s)?(D(),I(C(s),{key:1,modelValue:C(Rl),"onUpdate:modelValue":r[1]||(r[1]=l=>Oe(Rl)?Rl.value=l:null)},null,8,["modelValue"])):De("v-if",!0),C($e).info?(D(),I(O1,{key:2,modelValue:C(go),"onUpdate:modelValue":r[2]||(r[2]=l=>Oe(go)?go.value=l:null)},null,8,["modelValue"])):De("v-if",!0)],64))}}),Cw=N(kw,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Controls.vue"]]),xw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Bw=t("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),Sw=[Bw];function $w(e,n){return D(),oe("svg",xw,Sw)}const Tw={name:"carbon-settings-adjust",render:$w},Ow={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Pw=t("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),Iw=t("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),Mw=[Pw,Iw];function Lw(e,n){return D(),oe("svg",Ow,Mw)}const Rw={name:"carbon-information",render:Lw},Fw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Nw=t("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),jw=[Nw];function qw(e,n){return D(),oe("svg",Fw,jw)}const Hw={name:"carbon-download",render:qw},Vw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Uw=t("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),Ww=t("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),zw=[Uw,Ww];function Kw(e,n){return D(),oe("svg",Vw,zw)}const Yw={name:"carbon-user-speaker",render:Kw},Gw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Qw=t("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),Jw=t("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),Zw=[Qw,Jw];function Xw(e,n){return D(),oe("svg",Gw,Zw)}const eA={name:"carbon-presentation-file",render:Xw},tA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},nA=t("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),sA=[nA];function oA(e,n){return D(),oe("svg",tA,sA)}const rA={name:"carbon-pen",render:oA},lA={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},aA=t("g",{fill:"currentColor"},[t("path",{d:"M213.66 201L201 213.66a8 8 0 0 1-11.31 0L140 164a8 8 0 0 0-13 2.46l-19.46 44.77a8 8 0 0 1-14.85-.71L40.41 50.44a8 8 0 0 1 10-10l160.1 52.24a8 8 0 0 1 .71 14.85L166.45 127a8 8 0 0 0-2.45 13l49.67 49.67a8 8 0 0 1-.01 11.33Z",opacity:".2"}),t("path",{d:"m169.64 134.33l44.77-19.46a16 16 0 0 0-1.41-29.8L52.92 32.8A16 16 0 0 0 32.8 52.92L85.07 213a15.83 15.83 0 0 0 14.41 11h.78a15.83 15.83 0 0 0 14.61-9.59l19.46-44.77L184 219.31a16 16 0 0 0 22.63 0l12.68-12.68a16 16 0 0 0 0-22.63Zm-69.48 73.76l.06-.05Zm95.15-.09l-49.67-49.67a16 16 0 0 0-26 4.94l-19.42 44.65L48 48l159.87 52.21l-44.64 19.41a16 16 0 0 0-4.94 26L208 195.31Z"})],-1),iA=[aA];function cA(e,n){return D(),oe("svg",lA,iA)}const uA={name:"ph-cursor-duotone",render:cA},pA={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},dA=t("path",{fill:"currentColor",d:"M219.31 192a16 16 0 0 1 0 22.63l-4.68 4.68a16 16 0 0 1-22.63 0l-55.25-55.24l-21.88 50.34a15.84 15.84 0 0 1-14.61 9.59h-.78a15.82 15.82 0 0 1-14.41-11L32.8 52.92A15.95 15.95 0 0 1 52.92 32.8L213 85.07a16 16 0 0 1 1.41 29.8l-50.34 21.88Z"},null,-1),fA=[dA];function hA(e,n){return D(),oe("svg",pA,fA)}const Uf={name:"ph-cursor-fill",render:hA},yA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},mA=t("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),gA=[mA];function vA(e,n){return D(),oe("svg",yA,gA)}const _A={name:"carbon-sun",render:vA},wA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},AA=t("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),bA=[AA];function EA(e,n){return D(),oe("svg",wA,bA)}const DA={name:"carbon-moon",render:EA},kA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},CA=t("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),xA=[CA];function BA(e,n){return D(),oe("svg",kA,xA)}const SA={name:"carbon-apps",render:BA},$A={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},TA=t("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),OA=[TA];function PA(e,n){return D(),oe("svg",$A,OA)}const IA={name:"carbon-arrow-right",render:PA},MA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},LA=t("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),RA=[LA];function FA(e,n){return D(),oe("svg",MA,RA)}const NA={name:"carbon-arrow-left",render:FA},jA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},qA=t("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),HA=[qA];function VA(e,n){return D(),oe("svg",jA,HA)}const UA={name:"carbon-maximize",render:VA},WA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},zA=t("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),KA=[zA];function YA(e,n){return D(),oe("svg",WA,KA)}const GA={name:"carbon-minimize",render:YA},QA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},JA=t("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),ZA=[JA];function XA(e,n){return D(),oe("svg",QA,ZA)}const eb={name:"carbon-checkmark",render:XA},tb={class:"select-list"},nb={class:"title"},sb={class:"items"},ob=["onClick"],rb=Re({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(e,{emit:n}){const s=e;P(F);const o=Xt(s,"modelValue",n,{passive:!0});return(r,l)=>{const a=eb;return D(),oe("div",tb,[t("div",nb,fn(e.title),1),t("div",sb,[(D(!0),oe(Te,null,qs(e.items,i=>(D(),oe("div",{key:i.value,class:Ke(["item",{active:C(o)===i.value}]),onClick:()=>{var c;o.value=i.value,(c=i.onClick)==null||c.call(i)}},[te(a,{class:Ke(["text-green-500",{"opacity-0":C(o)!==i.value}])},null,8,["class"]),u(" "+fn(i.display||i.value),1)],10,ob))),128))])])}}});const lb=N(rb,[["__scopeId","data-v-3f89fa11"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SelectList.vue"]]),ab={class:"text-sm"},ib=Re({__name:"Settings",setup(e){P(F);const n=[{display:"Fit",value:0},{display:"1:1",value:1}];return(s,o)=>(D(),oe("div",ab,[te(lb,{modelValue:C(wr),"onUpdate:modelValue":o[0]||(o[0]=r=>Oe(wr)?wr.value=r:null),title:"Scale",items:n},null,8,["modelValue"])]))}}),cb=N(ib,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Settings.vue"]]),ub={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ main"},pb=Re({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:n}){const s=e;P(F);const o=Xt(s,"modelValue",n,{passive:!0}),r=Y();return sv(r,()=>{o.value=!1}),(l,a)=>(D(),oe("div",{ref_key:"el",ref:r,class:"flex relative"},[t("button",{class:Ke({disabled:e.disabled}),onClick:a[0]||(a[0]=i=>o.value=!C(o))},[mn(l.$slots,"button",{class:Ke({disabled:e.disabled})})],2),(D(),I(rd,null,[C(o)?(D(),oe("div",ub,[mn(l.$slots,"menu")])):De("v-if",!0)],1024))],512))}}),db=N(pb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/MenuButton.vue"]]),fb={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},hb={__name:"VerticalDivider",setup(e){return P(F),(n,s)=>(D(),oe("div",fb))}},dr=N(hb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/VerticalDivider.vue"]]),yb={render(){return[]}},mb={class:"slidev-icon-btn"},gb={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},vb={class:"my-auto"},_b={class:"opacity-50"},wb=Re({__name:"NavControls",props:{persist:{default:!1}},setup(e){const n=e;P(F);const s=Ca.smaller("md"),{isFullscreen:o,toggle:r}=Df,l=T(()=>Fa.value?`?password=${Fa.value}`:""),a=T(()=>`/presenter/${Ye.value}${l.value}`),i=T(()=>`/${Ye.value}${l.value}`),c=Y();function p(){c.value&&Rn.value&&c.value.contains(Rn.value)&&Rn.value.blur()}const d=T(()=>n.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),f=sn(),h=sn();return Ln(()=>import("./DrawingControls-c94c2623.js"),[]).then(y=>h.value=y.default),(y,m)=>{const v=GA,w=UA,A=NA,E=IA,_=SA,k=DA,S=_A,B=Uf,j=uA,$=rA,V=eA,ne=Ir("RouterLink"),pe=Yw,K=Hw,Ae=Rw,ve=Tw;return D(),oe("nav",{ref_key:"root",ref:c,class:"flex flex-col"},[t("div",{class:Ke(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",C(d)]),onMouseleave:p},[C(cn)?De("v-if",!0):(D(),oe("button",{key:0,class:"slidev-icon-btn",onClick:m[0]||(m[0]=(...be)=>C(r)&&C(r)(...be))},[C(o)?(D(),I(v,{key:0})):(D(),I(w,{key:1}))])),t("button",{class:Ke(["slidev-icon-btn",{disabled:!C(s5)}]),onClick:m[1]||(m[1]=(...be)=>C(Nn)&&C(Nn)(...be))},[te(A)],2),t("button",{class:Ke(["slidev-icon-btn",{disabled:!C(n5)}]),title:"Next",onClick:m[2]||(m[2]=(...be)=>C(Fn)&&C(Fn)(...be))},[te(E)],2),C(cn)?De("v-if",!0):(D(),oe("button",{key:1,class:"slidev-icon-btn",title:"Slides overview",onClick:m[3]||(m[3]=be=>C(kf)())},[te(_)])),C($a)?De("v-if",!0):(D(),oe("button",{key:2,class:"slidev-icon-btn",title:"Toggle dark mode",onClick:m[4]||(m[4]=be=>C(Tf)())},[C(Ci)?(D(),I(k,{key:0})):(D(),I(S,{key:1}))])),te(dr),C(cn)?De("v-if",!0):(D(),oe(Te,{key:3},[!C(vt)&&!C(s)&&C(f)?(D(),oe(Te,{key:0},[te(C(f)),te(dr)],64)):De("v-if",!0),C(vt)?(D(),oe("button",{key:1,class:"slidev-icon-btn",title:"Show presenter cursor",onClick:m[5]||(m[5]=be=>Fl.value=!C(Fl))},[C(Fl)?(D(),I(B,{key:0})):(D(),I(j,{key:1,class:"opacity-50"}))])):De("v-if",!0)],64)),(!C($e).drawings.presenterOnly||C(vt))&&!C(cn)?(D(),oe(Te,{key:4},[t("button",{class:"slidev-icon-btn relative",title:"Drawing",onClick:m[6]||(m[6]=be=>en.value=!C(en))},[te($),C(en)?(D(),oe("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:at({background:C(as).color})},null,4)):De("v-if",!0)]),te(dr)],64)):De("v-if",!0),C(cn)?De("v-if",!0):(D(),oe(Te,{key:5},[C(vt)?(D(),I(ne,{key:0,to:C(i),class:"slidev-icon-btn",title:"Play Mode"},{default:M(()=>[te(V)]),_:1},8,["to"])):De("v-if",!0),C(J4)?(D(),I(ne,{key:1,to:C(a),class:"slidev-icon-btn",title:"Presenter Mode"},{default:M(()=>[te(pe)]),_:1},8,["to"])):De("v-if",!0),De("v-if",!0)],64)),(D(),oe(Te,{key:6},[C($e).download?(D(),oe("button",{key:0,class:"slidev-icon-btn",onClick:m[8]||(m[8]=(...be)=>C(Na)&&C(Na)(...be))},[te(K)])):De("v-if",!0)],64)),!C(vt)&&C($e).info&&!C(cn)?(D(),oe("button",{key:7,class:"slidev-icon-btn",onClick:m[9]||(m[9]=be=>go.value=!C(go))},[te(Ae)])):De("v-if",!0),!C(vt)&&!C(cn)?(D(),I(db,{key:8},{button:M(()=>[t("button",mb,[te(ve)])]),menu:M(()=>[te(cb)]),_:1})):De("v-if",!0),C(cn)?De("v-if",!0):(D(),I(dr,{key:9})),t("div",gb,[t("div",vb,[u(fn(C(Ye))+" ",1),t("span",_b,"/ "+fn(C(Z4)),1)])]),te(C(yb))],34)],512)}}}),Ab=N(wb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/NavControls.vue"]]),Wf={render(){return[]}},zf={render(){return[]}},bb={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},Eb=Re({__name:"PresenterMouse",setup(e){return P(F),(n,s)=>{const o=Uf;return C(Pl).cursor?(D(),oe("div",bb,[te(o,{class:"absolute",style:at({left:`${C(Pl).cursor.x}%`,top:`${C(Pl).cursor.y}%`})},null,8,["style"])])):De("v-if",!0)}}}),Db=N(Eb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PresenterMouse.vue"]]),kb=Re({__name:"SlidesShow",props:{context:{type:String,required:!0}},setup(e){P(F),_e(dt,()=>{var o,r;(o=dt.value)!=null&&o.meta&&dt.value.meta.preload!==!1&&(dt.value.meta.__preloaded=!0),(r=ql.value)!=null&&r.meta&&ql.value.meta.preload!==!1&&(ql.value.meta.__preloaded=!0)},{immediate:!0});const n=sn();Ln(()=>import("./DrawingLayer-e11f29ff.js"),[]).then(o=>n.value=o.default);const s=T(()=>Qe.filter(o=>{var r;return((r=o.meta)==null?void 0:r.__preloaded)||o===dt.value}));return(o,r)=>(D(),oe(Te,null,[De(" Global Bottom "),te(C(zf)),De(" Slides "),te(sg,Ue(C(l5),{id:"slideshow",tag:"div"}),{default:M(()=>[(D(!0),oe(Te,null,qs(C(s),l=>{var a;return ud((D(),I(C(Si),{key:l.path,is:l==null?void 0:l.component,clicks:l===C(dt)?C(Mt):0,"clicks-elements":((a=l.meta)==null?void 0:a.__clicksElements)||[],"clicks-disabled":!1,class:Ke(C(Bi)(l)),route:l,context:e.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[Md,l===C(dt)]])}),128))]),_:1},16),De(" Global Top "),te(C(Wf)),C(n)?(D(),I(C(n),{key:0})):De("v-if",!0),C(vt)?De("v-if",!0):(D(),I(Db,{key:1}))],64))}});const Cb=N(kb,[["__scopeId","data-v-afb4231e"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlidesShow.vue"]]),xb=Re({__name:"PrintStyle",setup(e){P(F);function n(s,{slots:o}){if(o.default)return Bt("style",o.default())}return(s,o)=>(D(),I(n,null,{default:M(()=>[u(" @page { size: "+fn(C(Mn))+"px "+fn(C(Ai))+"px; margin: 0px; } ",1)]),_:1}))}}),Kf=N(xb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintStyle.vue"]]),Bb=Re({__name:"Play",setup(e){P(F),u1();const n=Y();function s(l){var a;mu.value||((a=l.target)==null?void 0:a.id)==="slide-container"&&(l.screenX/window.innerWidth>.6?Fn():Nn())}a5(n);const o=T(()=>w0.value||mu.value);sn();const r=sn();return Ln(()=>import("./DrawingControls-c94c2623.js"),[]).then(l=>r.value=l.default),(l,a)=>(D(),oe(Te,null,[C(Ns)?(D(),I(Kf,{key:0})):De("v-if",!0),t("div",{id:"page-root",ref_key:"root",ref:n,class:"grid grid-cols-[1fr_max-content]",style:at(C(bi))},[te(Pf,{class:"w-full h-full",style:at({background:"var(--slidev-slide-container-background, black)"}),width:C(Ns)?C(ys).width.value:void 0,scale:C(wr),onPointerdown:s},{default:M(()=>[te(Cb,{context:"slide"})]),controls:M(()=>[t("div",{class:Ke(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[C(o)?"opacity-100 right-0":"opacity-0 p-2",C(Po)?"pointer-events-none":""]])},[te(Ab,{class:"m-auto",persist:C(o)},null,8,["persist"])],2),!C($e).drawings.presenterOnly&&!C(cn)&&C(r)?(D(),I(C(r),{key:0,class:"ml-0"})):De("v-if",!0)]),_:1},8,["style","width","scale"]),De("v-if",!0)],4),te(Cw)],64))}}),Sb=N(Bb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Play.vue"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Yf(e){return typeof e>"u"||e===null}function $b(e){return typeof e=="object"&&e!==null}function Tb(e){return Array.isArray(e)?e:Yf(e)?[]:[e]}function Ob(e,n){var s,o,r,l;if(n)for(l=Object.keys(n),s=0,o=l.length;s<o;s+=1)r=l[s],e[r]=n[r];return e}function Pb(e,n){var s="",o;for(o=0;o<n;o+=1)s+=e;return s}function Ib(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Mb=Yf,Lb=$b,Rb=Tb,Fb=Pb,Nb=Ib,jb=Ob,Ti={isNothing:Mb,isObject:Lb,toArray:Rb,repeat:Fb,isNegativeZero:Nb,extend:jb};function Gf(e,n){var s="",o=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(s+='in "'+e.mark.name+'" '),s+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(s+=`

`+e.mark.snippet),o+" "+s):o}function Mo(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=Gf(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Mo.prototype=Object.create(Error.prototype);Mo.prototype.constructor=Mo;Mo.prototype.toString=function(n){return this.name+": "+Gf(this,n)};var rs=Mo,qb=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Hb=["scalar","sequence","mapping"];function Vb(e){var n={};return e!==null&&Object.keys(e).forEach(function(s){e[s].forEach(function(o){n[String(o)]=s})}),n}function Ub(e,n){if(n=n||{},Object.keys(n).forEach(function(s){if(qb.indexOf(s)===-1)throw new rs('Unknown option "'+s+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(s){return s},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Vb(n.styleAliases||null),Hb.indexOf(this.kind)===-1)throw new rs('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var it=Ub;function Ou(e,n){var s=[];return e[n].forEach(function(o){var r=s.length;s.forEach(function(l,a){l.tag===o.tag&&l.kind===o.kind&&l.multi===o.multi&&(r=a)}),s[r]=o}),s}function Wb(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,s;function o(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(n=0,s=arguments.length;n<s;n+=1)arguments[n].forEach(o);return e}function Ra(e){return this.extend(e)}Ra.prototype.extend=function(n){var s=[],o=[];if(n instanceof it)o.push(n);else if(Array.isArray(n))o=o.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(s=s.concat(n.implicit)),n.explicit&&(o=o.concat(n.explicit));else throw new rs("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(l){if(!(l instanceof it))throw new rs("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new rs("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new rs("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(l){if(!(l instanceof it))throw new rs("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Ra.prototype);return r.implicit=(this.implicit||[]).concat(s),r.explicit=(this.explicit||[]).concat(o),r.compiledImplicit=Ou(r,"implicit"),r.compiledExplicit=Ou(r,"explicit"),r.compiledTypeMap=Wb(r.compiledImplicit,r.compiledExplicit),r};var zb=Ra,Kb=new it("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Yb=new it("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Gb=new it("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Qb=new zb({explicit:[Kb,Yb,Gb]});function Jb(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Zb(){return null}function Xb(e){return e===null}var e3=new it("tag:yaml.org,2002:null",{kind:"scalar",resolve:Jb,construct:Zb,predicate:Xb,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function t3(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function n3(e){return e==="true"||e==="True"||e==="TRUE"}function s3(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var o3=new it("tag:yaml.org,2002:bool",{kind:"scalar",resolve:t3,construct:n3,predicate:s3,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function r3(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function l3(e){return 48<=e&&e<=55}function a3(e){return 48<=e&&e<=57}function i3(e){if(e===null)return!1;var n=e.length,s=0,o=!1,r;if(!n)return!1;if(r=e[s],(r==="-"||r==="+")&&(r=e[++s]),r==="0"){if(s+1===n)return!0;if(r=e[++s],r==="b"){for(s++;s<n;s++)if(r=e[s],r!=="_"){if(r!=="0"&&r!=="1")return!1;o=!0}return o&&r!=="_"}if(r==="x"){for(s++;s<n;s++)if(r=e[s],r!=="_"){if(!r3(e.charCodeAt(s)))return!1;o=!0}return o&&r!=="_"}if(r==="o"){for(s++;s<n;s++)if(r=e[s],r!=="_"){if(!l3(e.charCodeAt(s)))return!1;o=!0}return o&&r!=="_"}}if(r==="_")return!1;for(;s<n;s++)if(r=e[s],r!=="_"){if(!a3(e.charCodeAt(s)))return!1;o=!0}return!(!o||r==="_")}function c3(e){var n=e,s=1,o;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),o=n[0],(o==="-"||o==="+")&&(o==="-"&&(s=-1),n=n.slice(1),o=n[0]),n==="0")return 0;if(o==="0"){if(n[1]==="b")return s*parseInt(n.slice(2),2);if(n[1]==="x")return s*parseInt(n.slice(2),16);if(n[1]==="o")return s*parseInt(n.slice(2),8)}return s*parseInt(n,10)}function u3(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ti.isNegativeZero(e)}var p3=new it("tag:yaml.org,2002:int",{kind:"scalar",resolve:i3,construct:c3,predicate:u3,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),d3=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function f3(e){return!(e===null||!d3.test(e)||e[e.length-1]==="_")}function h3(e){var n,s;return n=e.replace(/_/g,"").toLowerCase(),s=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:s*parseFloat(n,10)}var y3=/^[-+]?[0-9]+e/;function m3(e,n){var s;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ti.isNegativeZero(e))return"-0.0";return s=e.toString(10),y3.test(s)?s.replace("e",".e"):s}function g3(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ti.isNegativeZero(e))}var v3=new it("tag:yaml.org,2002:float",{kind:"scalar",resolve:f3,construct:h3,predicate:g3,represent:m3,defaultStyle:"lowercase"}),_3=Qb.extend({implicit:[e3,o3,p3,v3]}),w3=_3,Qf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Jf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function A3(e){return e===null?!1:Qf.exec(e)!==null||Jf.exec(e)!==null}function b3(e){var n,s,o,r,l,a,i,c=0,p=null,d,f,h;if(n=Qf.exec(e),n===null&&(n=Jf.exec(e)),n===null)throw new Error("Date resolve error");if(s=+n[1],o=+n[2]-1,r=+n[3],!n[4])return new Date(Date.UTC(s,o,r));if(l=+n[4],a=+n[5],i=+n[6],n[7]){for(c=n[7].slice(0,3);c.length<3;)c+="0";c=+c}return n[9]&&(d=+n[10],f=+(n[11]||0),p=(d*60+f)*6e4,n[9]==="-"&&(p=-p)),h=new Date(Date.UTC(s,o,r,l,a,i,c)),p&&h.setTime(h.getTime()-p),h}function E3(e){return e.toISOString()}var D3=new it("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:A3,construct:b3,instanceOf:Date,represent:E3});function k3(e){return e==="<<"||e===null}var C3=new it("tag:yaml.org,2002:merge",{kind:"scalar",resolve:k3}),Oi=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function x3(e){if(e===null)return!1;var n,s,o=0,r=e.length,l=Oi;for(s=0;s<r;s++)if(n=l.indexOf(e.charAt(s)),!(n>64)){if(n<0)return!1;o+=6}return o%8===0}function B3(e){var n,s,o=e.replace(/[\r\n=]/g,""),r=o.length,l=Oi,a=0,i=[];for(n=0;n<r;n++)n%4===0&&n&&(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)),a=a<<6|l.indexOf(o.charAt(n));return s=r%4*6,s===0?(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)):s===18?(i.push(a>>10&255),i.push(a>>2&255)):s===12&&i.push(a>>4&255),new Uint8Array(i)}function S3(e){var n="",s=0,o,r,l=e.length,a=Oi;for(o=0;o<l;o++)o%3===0&&o&&(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]),s=(s<<8)+e[o];return r=l%3,r===0?(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]):r===2?(n+=a[s>>10&63],n+=a[s>>4&63],n+=a[s<<2&63],n+=a[64]):r===1&&(n+=a[s>>2&63],n+=a[s<<4&63],n+=a[64],n+=a[64]),n}function $3(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var T3=new it("tag:yaml.org,2002:binary",{kind:"scalar",resolve:x3,construct:B3,predicate:$3,represent:S3}),O3=Object.prototype.hasOwnProperty,P3=Object.prototype.toString;function I3(e){if(e===null)return!0;var n=[],s,o,r,l,a,i=e;for(s=0,o=i.length;s<o;s+=1){if(r=i[s],a=!1,P3.call(r)!=="[object Object]")return!1;for(l in r)if(O3.call(r,l))if(!a)a=!0;else return!1;if(!a)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function M3(e){return e!==null?e:[]}var L3=new it("tag:yaml.org,2002:omap",{kind:"sequence",resolve:I3,construct:M3}),R3=Object.prototype.toString;function F3(e){if(e===null)return!0;var n,s,o,r,l,a=e;for(l=new Array(a.length),n=0,s=a.length;n<s;n+=1){if(o=a[n],R3.call(o)!=="[object Object]"||(r=Object.keys(o),r.length!==1))return!1;l[n]=[r[0],o[r[0]]]}return!0}function N3(e){if(e===null)return[];var n,s,o,r,l,a=e;for(l=new Array(a.length),n=0,s=a.length;n<s;n+=1)o=a[n],r=Object.keys(o),l[n]=[r[0],o[r[0]]];return l}var j3=new it("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:F3,construct:N3}),q3=Object.prototype.hasOwnProperty;function H3(e){if(e===null)return!0;var n,s=e;for(n in s)if(q3.call(s,n)&&s[n]!==null)return!1;return!0}function V3(e){return e!==null?e:{}}var U3=new it("tag:yaml.org,2002:set",{kind:"mapping",resolve:H3,construct:V3});w3.extend({implicit:[D3,C3],explicit:[T3,L3,j3,U3]});function Pu(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}var W3=new Array(256),z3=new Array(256);for(var xs=0;xs<256;xs++)W3[xs]=Pu(xs)?1:0,z3[xs]=Pu(xs);function K3(e){return Array.from(new Set(e))}function Iu(...e){let n,s,o;e.length===1?(n=0,o=1,[s]=e):[n,s,o=1]=e;const r=[];let l=n;for(;l<s;)r.push(l),l+=o||1;return r}function Zf(e,n){if(!n||n==="all"||n==="*")return Iu(1,e+1);const s=[];for(const o of n.split(/[,;]/g))if(!o.includes("-"))s.push(+o);else{const[r,l]=o.split("-",2);s.push(...Iu(+r,l?+l+1:e+1))}return K3(s).filter(o=>o<=e).sort((o,r)=>o-r)}function Xf(e){const n=T(()=>e.value.path),s=T(()=>Qe.length-1),o=T(()=>parseInt(n.value.split(/\//g).slice(-1)[0])||1),r=T(()=>yl(o.value)),l=T(()=>Qe.find(h=>h.path===`${o.value}`)),a=T(()=>{var h,y,m;return(m=(y=(h=l.value)==null?void 0:h.meta)==null?void 0:y.slide)==null?void 0:m.id}),i=T(()=>{var h,y;return((y=(h=l.value)==null?void 0:h.meta)==null?void 0:y.layout)||(o.value===1?"cover":"default")}),c=T(()=>Qe.find(h=>h.path===`${Math.min(Qe.length,o.value+1)}`)),p=T(()=>Qe.filter(h=>{var y,m;return(m=(y=h.meta)==null?void 0:y.slide)==null?void 0:m.title}).reduce((h,y)=>(Pi(h,y),h),[])),d=T(()=>Ii(p.value,l.value)),f=T(()=>Mi(d.value));return{route:e,path:n,total:s,currentPage:o,currentPath:r,currentRoute:l,currentSlideId:a,currentLayout:i,nextRoute:c,rawTree:p,treeWithActiveStatuses:d,tree:f,downloadPDF:Na,next:Fn,nextSlide:Lo,openInEditor:i5,prev:Nn,prevSlide:Ro}}function eh(e,n,s){const o=Y(0);st(()=>{wt.afterEach(async()=>{await st(),o.value+=1})});const r=T(()=>{var c,p;return o.value,((p=(c=n.value)==null?void 0:c.meta)==null?void 0:p.__clicksElements)||[]}),l=T(()=>{var c,p;return+(((p=(c=n.value)==null?void 0:c.meta)==null?void 0:p.clicks)??r.value.length)}),a=T(()=>s.value<Qe.length-1||e.value<l.value),i=T(()=>s.value>1||e.value>0);return{clicks:e,clicksElements:r,clicksTotal:l,hasNext:a,hasPrev:i}}const Y3=["id"],G3=Re({__name:"PrintSlideClick",props:{clicks:{type:Number,required:!0},clicksElements:{type:Array,required:!1},nav:{type:null,required:!0},route:{type:null,required:!0}},emits:["update:clicksElements"],setup(e,{emit:n}){const s=e,o=Xt(s,"clicksElements",n),r=T(()=>({height:`${Ai}px`,width:`${Mn}px`})),l=sn();Ln(()=>Promise.resolve().then(()=>_1),void 0).then(p=>l.value=p.default);const a=T(()=>s.clicks),i=eh(a,s.nav.currentRoute,s.nav.currentPage),c=T(()=>`${s.route.path.toString().padStart(3,"0")}-${(a.value+1).toString().padStart(2,"0")}`);return Ct(F,Ve({nav:{...s.nav,...i},configs:$e,themeConfigs:T(()=>$e.themeConfig)})),(p,d)=>{var f;return D(),oe("div",{id:C(c),class:"print-slide-container",style:at(C(r))},[te(C(zf)),te(C(Si),{is:(f=e.route)==null?void 0:f.component,"clicks-elements":C(o),"onUpdate:clicksElements":d[0]||(d[0]=h=>Oe(o)?o.value=h:null),clicks:C(a),"clicks-disabled":!1,class:Ke(C(Bi)(e.route)),route:e.route},null,8,["is","clicks-elements","clicks","class","route"]),C(l)?(D(),I(C(l),{key:0,page:+e.route.path},null,8,["page"])):De("v-if",!0),te(C(Wf))],12,Y3)}}}),Mu=N(G3,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintSlideClick.vue"]]),Q3=Re({__name:"PrintSlide",props:{route:{type:null,required:!0}},setup(e){var l;const n=e;P(F);const s=Y(((l=n.route.meta)==null?void 0:l.__clicksElements)||[]),o=T(()=>n.route),r=Xf(o);return(a,i)=>(D(),oe(Te,null,[te(Mu,{"clicks-elements":s.value,"onUpdate:clicksElements":i[0]||(i[0]=c=>s.value=c),clicks:0,nav:C(r),route:C(o)},null,8,["clicks-elements","nav","route"]),C(vo)?De("v-if",!0):(D(!0),oe(Te,{key:0},qs(s.value.length,c=>(D(),I(Mu,{key:c,clicks:c,nav:C(r),route:C(o)},null,8,["clicks","nav","route"]))),128))],64))}}),J3=N(Q3,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintSlide.vue"]]),Z3={id:"print-content"},X3=Re({__name:"PrintContainer",props:{width:{type:Number,required:!0}},setup(e){const n=e;P(F);const s=T(()=>n.width),o=T(()=>n.width/In),r=T(()=>s.value/o.value),l=T(()=>r.value<In?s.value/Mn:o.value*In/Mn);let a=Qe.slice(0,-1);Rt.value.query.range&&(a=Zf(a.length,Rt.value.query.range).map(p=>a[p-1]));const i=T(()=>({"select-none":!$e.selectable,"slidev-code-line-numbers":$e.lineNumbers}));return Ct(zd,l),(c,p)=>(D(),oe("div",{id:"print-container",class:Ke(C(i))},[t("div",Z3,[(D(!0),oe(Te,null,qs(C(a),d=>(D(),I(J3,{key:d.path,route:d},null,8,["route"]))),128))]),mn(c.$slots,"controls")],2))}});const eE=N(X3,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintContainer.vue"]]),tE=Re({__name:"Print",setup(e){return P(F),ws(()=>{Ns?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(n,s)=>(D(),oe(Te,null,[C(Ns)?(D(),I(Kf,{key:0})):De("v-if",!0),t("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:at(C(bi))},[te(eE,{class:"w-full h-full",style:at({background:"var(--slidev-slide-container-background, black)"}),width:C(ys).width.value},null,8,["style","width"])],4)],64))}});const nE=N(tE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Print.vue"]]);const sE={class:"slidev-layout end"},oE={__name:"end",setup(e){return P(F),(n,s)=>(D(),oe("div",sE,[mn(n.$slots,"default",{},()=>[u("END")],!0)]))}},rE=N(oE,[["__scopeId","data-v-e532b98d"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/layouts/end.vue"]]),lE="/owasp-top-ten-workshop/images/nearform.svg",aE="/owasp-top-ten-workshop/assets/owasp-8902e583.png",iE={class:"slidev-layout default"},cE={__name:"default",setup(e){return P(F),(n,s)=>(D(),oe("div",iE,[mn(n.$slots,"default")]))}},Z=N(cE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/layouts/default.vue"]]),uE=t("img",{class:"logo",src:lE},null,-1),pE=t("h1",null,"OWASP Top Ten Security Vulnerabilities Workshop",-1),dE=t("img",{src:aE,style:{width:"30%"}},null,-1),fE=t("div",{class:"copyright"},[t("p",null," Copyright 2022 NearForm Ltd. All Rights Reserved.")],-1),hE={__name:"1",setup(e){const n={theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[uE,pE,dE,fE]),_:1},16))}},yE=N(hE,[["__file","/@slidev/slides/1.md"]]),mE=t("h1",null,"Introduction: OWASP ",-1),gE=t("div",{class:"dense"},[t("ul",null,[t("li",null,[t("p",null,[u("The Open Web Application Security Project ("),t("strong",null,"OWASP"),u(") is a "),t("strong",null,"non profit"),u(" foundation that works to improve the security of software")])]),t("li",null,[t("p",null,[u("OWASP has community-led "),t("strong",null,"open-source"),u(" software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences")])])])],-1),vE={__name:"2",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[mE,gE]),_:1},16))}},_E=N(vE,[["__file","/@slidev/slides/2.md"]]),wE=t("h1",null,"Introduction: OWASP Top Ten",-1),AE=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("The "),t("strong",null,[t("a",{href:"https://owasp.org/Top10/",target:"_blank",rel:"noopener"},"OWASP Top Ten")]),u(" is a standard awareness document for developers and web application security")]),t("li",null,"It represents a broad consensus about the most critical security risks to web applications")])],-1),bE={__name:"3",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[wE,AE]),_:1},16))}},EE=N(bE,[["__file","/@slidev/slides/3.md"]]),DE=t("h1",null,"Workshop Setup",-1),kE=t("div",{class:"dense"},[t("ul",null,[t("li",null,"This workshop will explain each of the 10 vulnerabilities"),t("li",null,"There is a Fastify node.js server demonstrating the security issues"),t("li",null,"At each step you are asked to fix the vulnerability in the server"),t("li",null,[u("You will find the solution to each step in the file "),t("code",null,"solution.js"),u(" inside "),t("code",null,"src/a{n}-{name}"),u(" folder (the actual path may vary)")]),t("li",null,"The  icon indicates hints")])],-1),CE={__name:"4",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[DE,kE]),_:1},16))}},xE=N(CE,[["__file","/@slidev/slides/4.md"]]),BE={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},SE=t("path",{fill:"currentColor",d:"M200 32h-36.26a47.92 47.92 0 0 0-71.48 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32 32 0 0 1 32 32H96a32 32 0 0 1 32-32Zm72 184H56V48h26.75A47.93 47.93 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.93 47.93 0 0 0-2.75-16H200Z"},null,-1),$E=[SE];function TE(e,n){return D(),oe("svg",BE,$E)}const OE={name:"ph-clipboard",render:TE},PE={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},IE=t("path",{fill:"currentColor",d:"M173.66 98.34a8 8 0 0 1 0 11.32l-56 56a8 8 0 0 1-11.32 0l-24-24a8 8 0 0 1 11.32-11.32L112 148.69l50.34-50.35a8 8 0 0 1 11.32 0ZM232 128A104 104 0 1 1 128 24a104.11 104.11 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),ME=[IE];function LE(e,n){return D(),oe("svg",PE,ME)}const RE={name:"ph-check-circle",render:LE},FE=["title"],NE=Re({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(e){const n=e;P(F);const s=P(fo),o=P(ns),r=P(ho);function l(f=5){const h=[],y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m=y.length;for(let v=0;v<f;v++)h.push(y.charAt(Math.floor(Math.random()*m)));return h.join("")}const a=Y(),i=yt();wn(()=>{const f=n.at==null?o==null?void 0:o.value.length:n.at,h=T(()=>r!=null&&r.value?n.ranges.length-1:Math.min(Math.max(0,((s==null?void 0:s.value)||0)-(f||0)),n.ranges.length-1)),y=T(()=>n.ranges[h.value]||"");if(n.ranges.length>=2&&!(r!=null&&r.value)){const m=l(),v=h6(n.ranges.length-1).map(w=>m+w);o!=null&&o.value&&(o.value.push(...v),il(()=>v.forEach(w=>va(o.value,w)),i))}ws(()=>{if(!a.value)return;const v=a.value.querySelector(".shiki-dark")?Array.from(a.value.querySelectorAll(".shiki")):[a.value];for(const w of v){const A=Array.from(w.querySelectorAll(".line")),E=Zf(A.length,y.value);if(A.forEach((_,k)=>{const S=E.includes(k+1);_.classList.toggle(Xn,!0),_.classList.toggle("highlighted",S),_.classList.toggle("dishonored",!S)}),n.maxHeight){const _=Array.from(w.querySelectorAll(".line.highlighted"));_.reduce((S,B)=>B.offsetHeight+S,0)>a.value.offsetHeight?_[0].scrollIntoView({behavior:"smooth",block:"start"}):_.length>0&&_[Math.round((_.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:c,copy:p}=pv();function d(){var h,y;const f=(y=(h=a.value)==null?void 0:h.querySelector(".slidev-code"))==null?void 0:y.textContent;f&&p(f)}return(f,h)=>{const y=RE,m=OE;return D(),oe("div",{ref_key:"el",ref:a,class:"slidev-code-wrapper relative group",style:at({"max-height":n.maxHeight,"overflow-y":n.maxHeight?"scroll":void 0})},[mn(f.$slots,"default"),C($e).codeCopy?(D(),oe("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:C(c)?"Copied":"Copy",onClick:h[0]||(h[0]=v=>d())},[C(c)?(D(),I(y,{key:0,class:"p-2 w-8 h-8"})):(D(),I(m,{key:1,class:"p-2 w-8 h-8"}))],8,FE)):De("v-if",!0)],4)}}}),et=N(NE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),jE=t("h1",null,"Getting setup",-1),qE={class:"dense"},HE=t("h4",null,"Requirements",-1),VE=t("br",null,null,-1),UE=t("ul",null,[t("li",null,"Node LTS"),t("li",null,"docker"),t("li",null,"docker-compose"),t("li",null,"Postman (if you want to be able to test vulnerabilities)")],-1),WE=t("h4",null,"Setup",-1),zE=t("br",null,null,-1),KE=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#80A665"}},"git"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"clone"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"https://github.com/nearform/owasp-top-ten-workshop")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#80A665"}},"npm"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"ci")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#80A665"}},"npm"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"run"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"db:up")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#80A665"}},"npm"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"run"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"db:migrate")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#59873A"}},"git"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"clone"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"https://github.com/nearform/owasp-top-ten-workshop")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#59873A"}},"npm"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"ci")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#59873A"}},"npm"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"run"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"db:up")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#59873A"}},"npm"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"run"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"db:migrate")])])])],-1),YE={__name:"5",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[jE,t("div",qE,[HE,VE,UE,WE,zE,te(r,Ue({},{ranges:[""]}),{default:M(()=>[KE]),_:1},16)])]),_:1},16)}}},GE=N(YE,[["__file","/@slidev/slides/5.md"]]),QE=t("h1",null,"Running the modules",-1),JE=t("div",{class:"dense"},[t("ul",null,[t("li",null,[t("code",null,"cd src/a{x}-step-name")]),t("li",null,[t("code",null,"npm start"),u(" will run the server ready to respond to requests")]),t("li",null,[t("code",null,"npm run verify"),u(" will run automated tests that fail by default until this steps issue is solved")]),t("li",null,"Check out README.md in the projects for potential additional info")])],-1),ZE=t("h3",null,"Example",-1),XE=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#B8A965"}},"cd"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"src/a01-access-control")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#80A665"}},"npm"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D"}},"start")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#998418"}},"cd"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"src/a01-access-control")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#59873A"}},"npm"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B56959"}},"start")])])])],-1),eD=t("p",null,[u("The server for that step will run on "),t("a",{href:"http://localhost:3000",target:"_blank",rel:"noopener"},"http://localhost:3000")],-1),tD={__name:"6",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[QE,JE,ZE,te(r,Ue({},{ranges:[""]}),{default:M(()=>[XE]),_:1},16),eD]),_:1},16)}}},nD=N(tD,[["__file","/@slidev/slides/6.md"]]),sD=t("h1",null,"Testing the vulnerabilities",-1),oD=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests"),t("li",null,[u("The "),t("code",null,"postman"),u(" folder contains a collection that can be imported into Postman to easily send those requests")]),t("li",null,[u("The Postman collection is pre-logged in with user "),t("code",null,"alice"),u(". The "),t("code",null,"Bearer token"),u(" is set that represents "),t("code",null,"alice"),u(".")])])],-1),rD={__name:"7",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[sD,oD]),_:1},16))}},lD=N(rD,[["__file","/@slidev/slides/7.md"]]),aD=t("h1",null,"Automated testing",-1),iD=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Some vulnerabilities have automated tests which verify the presence of the vulnerability"),t("li",null,"Those tests will fail until you fix the vulnerability"),t("li",null,[t("code",null,"npm run verify"),u(" in a steps folder")])])],-1),cD={__name:"8",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[aD,iD]),_:1},16))}},uD=N(cD,[["__file","/@slidev/slides/8.md"]]),pD=t("h1",null,"A01 Broken Access Control",-1),dD=t("div",{class:"dense"},[t("ul",null,[t("li",null,[t("a",{href:"https://owasp.org/Top10/A01_2021-Broken_Access_Control/",target:"_blank",rel:"noopener"},"AO1:2021 - Broken Access Control")]),t("li",null,"User should only act based on specific permissions"),t("li",null,"Incorrect permissions -> unauthorised access of data")])],-1),fD={__name:"9",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[pD,dD]),_:1},16))}},hD=N(fD,[["__file","/@slidev/slides/9.md"]]),yD=t("h1",null,"A01 Common vulnerabilities",-1),mD=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Not applying principle of "),t("strong",null,"least privilege")]),t("li",null,"Checks can be bypassed by tampering with page or request"),t("li",null,"Allowing access to someone elses info by knowing the UUID"),t("li",null,"CORS allows untrusted origins")])],-1),gD={__name:"10",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[yD,mD]),_:1},16))}},vD=N(gD,[["__file","/@slidev/slides/10.md"]]),_D=t("h1",null,"A01 How to Prevent",-1),wD=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Deny access by default"),t("li",null,"Avoid duplication of access control logic"),t("li",null,[u("Enforce "),t("strong",null,"user ownership"),u(" when manipulating data")])])],-1),AD={__name:"11",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[_D,wD]),_:1},16))}},bD=N(AD,[["__file","/@slidev/slides/11.md"]]),ED=t("h1",null,"A01 Exercise",-1),DD={class:"dense"},kD=t("ul",null,[t("li",null,[u("The "),t("code",null,"/profile"),u(" route returns sensitive user data")]),t("li",null,[u("It takes a "),t("code",null,"username"),u(" query parameter to return the users info")])],-1),CD=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#dbd7caee"}},"GET http://localhost:3000/profile?username=alice")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#393a34"}},"GET http://localhost:3000/profile?username=alice")])])])],-1),xD=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"id"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4C9A91"}},"1"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"username"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#C98A7D"}},"alice"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"age"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4C9A91"}},"23")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"id"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#2F798A"}},"1"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"username"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#B56959"}},"alice"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"age"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#2F798A"}},"23")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),BD={__name:"12",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[ED,t("div",DD,[kD,CD,te(r,Ue({},{ranges:[""]}),{default:M(()=>[xD]),_:1},16)])]),_:1},16)}}},SD=N(BD,[["__file","/@slidev/slides/12.md"]]),$D=t("h1",null,"A01 The problem",-1),TD={class:"dense"},OD=t("ul",null,[t("li",null,[u("Run the server for step 1 ("),t("code",null,"cd src/a01-access-control"),u(", "),t("code",null,"npm start"),u(")")]),t("li",null,"In Postman, run the query for A01: Access Control. Observe the data for Alice being returned"),t("li",null,[u("Now change the "),t("code",null,"username"),u(" query parameter to "),t("code",null,"bob"),u(". Result:")])],-1),PD=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"id"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4C9A91"}},"2"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"username"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#C98A7D"}},"bob"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"age"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4C9A91"}},"31")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"id"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#2F798A"}},"2"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"username"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#B56959"}},"bob"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"age"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#2F798A"}},"31")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),ID=t("ul",null,[t("li",null,"Bobs data is being exposed! Remember were logged in as Alice and shouldnt see Bobs data")],-1),MD={__name:"13",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[$D,t("div",TD,[OD,te(r,Ue({},{ranges:[""]}),{default:M(()=>[PD]),_:1},16),ID])]),_:1},16)}}},LD=N(MD,[["__file","/@slidev/slides/13.md"]]),RD=t("h1",null,"A01 Fixing it ",-1),FD=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the automated tests for step 1 - "),t("code",null,"npm run verify")]),t("li",null,"The tests fail because the server shouldnt return Bobs data"),t("li",null,[u("Edit the "),t("code",null,"/profile"),u(" route in the exercise folder to return only the "),t("code",null,"logged-in"),u(" users profile without exposing other peoples profiles")]),t("li",null,[u(" The server uses "),t("a",{href:"https://github.com/fastify/fastify-jwt",target:"_blank",rel:"noopener"},"fastify-jwt"),u(" to handle authentication")])])],-1),ND={__name:"14",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[RD,FD]),_:1},16))}},jD=N(ND,[["__file","/@slidev/slides/14.md"]]),qD=t("h1",null,"A01 Solution ",-1),HD={class:"dense"},VD=t("ul",null,[t("li",null,[u("The issue comes from the usage of a user-supplied "),t("code",null,"query"),u(" parameter to choose which profiles info to check")]),t("li",null,[u("The server should instead fetch the only the "),t("code",null,"logged-in"),u(" users info and reply with "),t("code",null,"403"),u(" in other cases")])],-1),UD=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#CB7676"}},"!"),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"new"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"Unauthorized"),t("span",{style:{color:"#666666"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#758575DD"}},"//  We get the username from the logged in user, not from the query!")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"!=="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"query"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"new"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"Forbidden"),t("span",{style:{color:"#666666"}},"()"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#758575DD"}},"// if does not match with the user's one, return a 403 Forbidden error")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"user")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#AB5959"}},"!"),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"new"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"Unauthorized"),t("span",{style:{color:"#999999"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#A0ADA0"}},"//  We get the username from the logged in user, not from the query!")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"!=="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"query"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"new"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"Forbidden"),t("span",{style:{color:"#999999"}},"()"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#A0ADA0"}},"// if does not match with the user's one, return a 403 Forbidden error")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"user")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),WD={__name:"15",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[qD,t("div",HD,[VD,te(r,Ue({},{ranges:[""]}),{default:M(()=>[UD]),_:1},16)])]),_:1},16)}}},zD=N(WD,[["__file","/@slidev/slides/15.md"]]),KD=t("h1",null,"A02 Cryptographic Failures",-1),YD=t("div",{class:"dense"},[t("ul",null,[t("li",null,[t("a",{href:"https://owasp.org/Top10/A02_2021-Cryptographic_Failures/",target:"_blank",rel:"noopener"},"A02: Cryptographic Failures")]),t("li",null,[u("Weak or inexistent "),t("strong",null,"cryptography"),u(" of sensitive data")]),t("li",null,"Passwords, credit card numbers, health records, personal information, business secrets"),t("li",null,"Anything protected by privacy laws or other regulations")])],-1),GD={__name:"16",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[KD,YD]),_:1},16))}},QD=N(GD,[["__file","/@slidev/slides/16.md"]]),JD=t("h1",null,"A02 Common vulnerabilities",-1),ZD=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Weak or outdated cryptographic algorithms like "),t("strong",null,"md5 ")]),t("li",null,"Weak secret keys, default ones, keys from online tutorials, keys checked in source control"),t("li",null,[u("Lack of traffic encryption ("),t("strong",null,"HTTPS"),u(")")]),t("li",null,"Insufficient entropy in seed generation")])],-1),XD={__name:"17",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[JD,ZD]),_:1},16))}},e7=N(XD,[["__file","/@slidev/slides/17.md"]]),t7=t("h1",null,"A02 How to Prevent",-1),n7=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Check sensitive data is well "),t("strong",null,"encrypted"),u(". Avoid storing sensitive data unnecessarily")]),t("li",null,"Use up to date and strong standard algorithms"),t("li",null,[u("Proper key/secrets management ("),t("strong",null,"private keys in git "),u(")")]),t("li",null,"Disable caching for responses that contain sensitive data")])],-1),s7={__name:"18",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[t7,n7]),_:1},16))}},o7=N(s7,[["__file","/@slidev/slides/18.md"]]),r7=t("h1",null,"A02 A weak hashing algorithm",-1),l7={class:"dense"},a7=t("ul",null,[t("li",null,[u("The "),t("code",null,"/all-data"),u(" endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach")]),t("li",null,[u("Result of the "),t("code",null,"all-data"),u(" endpoint")])],-1),i7=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"[")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"username"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#C98A7D"}},"bob"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"password"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#C98A7D"}},"884a22eb30e5cfd71894d43ac553faa5"),t("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"username"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#C98A7D"}},"alice"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#B8A965"}},"password"),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#C98A7D"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),t("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"]")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"[")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"username"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#B56959"}},"bob"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"password"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#B56959"}},"884a22eb30e5cfd71894d43ac553faa5"),t("span",{style:{color:"#B5695999"}},'"')]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"username"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#B56959"}},"alice"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#998418"}},"password"),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#B56959"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),t("span",{style:{color:"#B5695999"}},'"')]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"]")])])])],-1),c7={__name:"19",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[r7,t("div",l7,[a7,te(r,Ue({},{ranges:[""]}),{default:M(()=>[i7]),_:1},16)])]),_:1},16)}}},u7=N(c7,[["__file","/@slidev/slides/19.md"]]),p7=t("h1",null,"A02 The problem",-1),d7=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Using the "),t("code",null,"/all-data"),u(" route, find Alices hashed password")]),t("li",null,"With this password hash, try to find the original password Alice created"),t("li",null,"the Postman collection contains requests for doing the queries"),t("li",null," There are websites to decrypt md5")])],-1),f7={__name:"20",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[p7,d7]),_:1},16))}},h7=N(f7,[["__file","/@slidev/slides/20.md"]]),y7=t("h1",null,"A02 Fixing it ",-1),m7=t("div",{class:"dense"},[t("ul",null,[t("li",null,"md5 hash is vulnerable and shouldnt be used"),t("li",null,[u("In "),t("code",null,"src/a02-cryptographic-failure"),u(", fix the hashing algorithm used to be a strong algorithm instead of md5")]),t("li",null,[u("Using "),t("a",{href:"https://www.npmjs.com/package/bcrypt",target:"_blank",rel:"noopener"},"bcrypt"),u(" is a good idea for passwords")]),t("li",null,[u("The application exposes a "),t("code",null,"/change-password"),u(" route used to change a users password")])])],-1),g7={__name:"21",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[y7,m7]),_:1},16))}},v7=N(g7,[["__file","/@slidev/slides/21.md"]]),_7=t("h1",null,"A02 Solution ",-1),w7={class:"dense"},A7=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#758575DD"}},"// utils/crypto.js")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"import"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"hash"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"compare"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"from"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"bcrypt"),t("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"saltRounds"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4C9A91"}},"10")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"hashPassword"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"password"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"hash"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"password"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"saltRounds"),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#A0ADA0"}},"// utils/crypto.js")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"import"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"hash"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"compare"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"from"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"bcrypt"),t("span",{style:{color:"#B5695999"}},"'")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"saltRounds"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#2F798A"}},"10")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"hashPassword"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"password"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"hash"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"password"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"saltRounds"),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),b7={__name:"22",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[_7,t("div",w7,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[A7]),_:1},16)])]),_:1},16)}}},E7=N(b7,[["__file","/@slidev/slides/22.md"]]),D7=t("h1",null,"A02 Solution  (2)",-1),k7={class:"dense"},C7=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#758575DD"}},"// utils/crypto.js")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"comparePassword"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"password"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"hash"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"compare"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"password"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"hash"),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#A0ADA0"}},"// utils/crypto.js")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"comparePassword"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"password"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"hash"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"compare"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"password"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"hash"),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),x7={__name:"23",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[D7,t("div",k7,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[C7]),_:1},16)])]),_:1},16)}}},B7=N(x7,[["__file","/@slidev/slides/23.md"]]),S7=t("h1",null,"A03 Injection ",-1),$7=t("div",{class:"dense"},[t("ul",null,[t("li",null,[t("a",{href:"https://owasp.org/Top10/A03_2021-Injection/",target:"_blank",rel:"noopener"},"A03: Injection")]),t("li",null,"Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server"),t("li",null,"Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover."),t("li",null,[u("Common targets: "),t("strong",null,"SQL, NoSQL, ORM, LDAP, JS eval")])])],-1),T7={__name:"24",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[S7,$7]),_:1},16))}},O7=N(T7,[["__file","/@slidev/slides/24.md"]]),P7=t("h1",null,"A03 Common vulnerabilities",-1),I7=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Lack of validation or "),t("strong",null,"sanitization"),u(" of user input")]),t("li",null,[u("Dynamic queries or non-parameterized calls without context-aware "),t("strong",null,"escaping"),u(" are used directly in the interpreter")]),t("li",null,[u("Hostile data is used within object-relational mapping (ORM) "),t("strong",null,"search parameters"),u(" to extract additional, sensitive records")])])],-1),M7={__name:"25",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[P7,I7]),_:1},16))}},L7=N(M7,[["__file","/@slidev/slides/25.md"]]),R7=t("h1",null,"A03 Attack",-1),F7=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the server for step 3 ("),t("code",null,"cd src/a03-injection"),u(", "),t("code",null,"npm start"),u(")")]),t("li",null,[u("In Postman, run the query for "),t("code",null,"A03: Get customer by name"),u(". Observe the data for "),t("code",null,'name: "alice"'),u(" being returned")]),t("li",null,[u("Try to run the query for "),t("code",null,"A03: SQL Injection"),u(". Observe all the customers being returned")]),t("li",null,[u("The query param value "),t("code",null,"' OR '1'='1"),u(" takes advantage of the unsafe string concatenation to create this SQL query "),t("code",null,"SELECT * FROM customers WHERE name='' OR '1'='1'"),u(" which will return every record in the table")])])],-1),N7={__name:"26",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[R7,F7]),_:1},16))}},j7=N(N7,[["__file","/@slidev/slides/26.md"]]),q7=t("h1",null,"A03 Fixing it ",-1),H7=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u(" Prefer using a safe API that "),t("strong",null,"sanitizes input"),u(" e.g "),t("code",null,"@nearform/sql")]),t("li",null,[t("strong",null,"Escape special characters"),u(" using the specific escape syntax for that interpreter")]),t("li",null,"Avoid user-supplied table names or column names as they cannot be escaped"),t("li",null,[t("strong",null,"Automated testing"),u(" of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged")])])],-1),V7={__name:"27",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[q7,H7]),_:1},16))}},U7=N(V7,[["__file","/@slidev/slides/27.md"]]),W7=t("h1",null,"A03 Solution ",-1),z7={class:"dense"},K7=t("ul",null,[t("li",null,[u("The "),t("code",null,"@nearform/sql"),u(" library escapes special characters contained in the users input")])],-1),Y7=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#758575DD"}},"// import SQL from '@nearform/sql'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"default"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"customer"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"get"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"/customer"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#B8A965"}},"onRequest"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"authenticate"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"name"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"query")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"rows"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"customers"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"pg"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"query"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#80A665"}},"SQL"),t("span",{style:{color:"#C98A7D99"}},"`"),t("span",{style:{color:"#C98A7D"}},"SELECT * FROM customers WHERE name="),t("span",{style:{color:"#666666"}},"${"),t("span",{style:{color:"#C98A7D"}},"name"),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#CB7676"}},"!"),t("span",{style:{color:"#BD976A"}},"customers"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#B8A965"}},"length"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"NotFound"),t("span",{style:{color:"#666666"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"customers")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#A0ADA0"}},"// import SQL from '@nearform/sql'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"default"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"customer"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"get"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"/customer"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#998418"}},"onRequest"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"authenticate"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"name"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"query")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"rows"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"customers"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"pg"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"query"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#59873A"}},"SQL"),t("span",{style:{color:"#B5695999"}},"`"),t("span",{style:{color:"#B56959"}},"SELECT * FROM customers WHERE name="),t("span",{style:{color:"#999999"}},"${"),t("span",{style:{color:"#B56959"}},"name"),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#B5695999"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#AB5959"}},"!"),t("span",{style:{color:"#B07D48"}},"customers"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#998418"}},"length"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"NotFound"),t("span",{style:{color:"#999999"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"customers")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),G7={__name:"28",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[W7,t("div",z7,[K7,te(r,Ue({},{ranges:[""]}),{default:M(()=>[Y7]),_:1},16)])]),_:1},16)}}},Q7=N(G7,[["__file","/@slidev/slides/28.md"]]),J7=t("h1",null,"A04 Insecure Design",-1),Z7=t("div",{class:"dense"},[t("ul",null,[t("li",null,[t("a",{href:"https://owasp.org/Top10/A04_2021-Insecure_Design/",target:"_blank",rel:"noopener"},"A04: Insecure Design")]),t("li",null,[u("Fundamental "),t("strong",null,"design flaws"),u(" of the software can cause security issues")]),t("li",null,"Those issues cannot be fixed by a better more secure code implementation"),t("li",null,"Failure to determine the level of security required during design")])],-1),X7={__name:"29",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[J7,Z7]),_:1},16))}},ek=N(X7,[["__file","/@slidev/slides/29.md"]]),tk=t("h1",null,"A04 Examples",-1),nk=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("A forgotten password flow with "),t("strong",null,[t("em",null,'"security questions"')]),u(" is insecure by design because more than one person can know the answer")]),t("li",null,"An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)"),t("li",null,[u("A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make "),t("strong",null,"hundreds of small booking requests"),u(" at once to block all seats, causing massive revenue loss")])])],-1),sk={__name:"30",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[tk,nk]),_:1},16))}},ok=N(sk,[["__file","/@slidev/slides/30.md"]]),rk=t("h1",null,"A04 How to prevent",-1),lk=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Model threats for the application, all its flows and business logic"),t("li",null,"Continuously evaluate security requirement and design during the development lifecycle"),t("li",null,"Consider security rules and access controls for every user story"),t("li",null,[t("strong",null,"Use unit and integration tests"),u(" to verify the application is resistant to the threat model")])])],-1),ak={__name:"31",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[rk,lk]),_:1},16))}},ik=N(ak,[["__file","/@slidev/slides/31.md"]]),ck=t("h1",null,"A04 Exercise",-1),uk=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("The "),t("code",null,"/buy-product"),u(" endpoint does not have protection against bots run by scalpers")]),t("li",null,"It means that someone can buy a lot of stock quickly and leave legitimate customers without any")])],-1),pk={__name:"32",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[ck,uk]),_:1},16))}},dk=N(pk,[["__file","/@slidev/slides/32.md"]]),fk=t("h1",null,"A04 Scalping",-1),hk=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the server for step 4 ("),t("code",null,"cd src/a04-insecure-design"),u(", "),t("code",null,"npm start"),u(")")]),t("li",null,[u("In Postman, run the query for "),t("code",null,"A04: Buy product"),u(". Observe the data for "),t("code",null,"success: true"),u(" being returned")]),t("li",null,"Run the query many times in a row in a short period of time"),t("li",null,"Notice that there is no protection against multiple sequential purchases")])],-1),yk={__name:"33",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[fk,hk]),_:1},16))}},mk=N(yk,[["__file","/@slidev/slides/33.md"]]),gk=t("h1",null,"A04 Fixing it ",-1),vk=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Prefer using rate limiter for your routes"),t("li",null,[u(" Using "),t("a",{href:"https://github.com/fastify/fastify-rate-limit",target:"_blank",rel:"noopener"},[t("code",null,"fastify-rate-limit")]),u(" is a good idea for setting a rate limit")]),t("li",null,"Lets consider a scenario where a user can buy a maximum of two products per minute"),t("li",null,[u("Edit the "),t("code",null,"/buy-product"),u(" route in the exercise folder considering the scenario above")])])],-1),_k={__name:"34",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[gk,vk]),_:1},16))}},wk=N(_k,[["__file","/@slidev/slides/34.md"]]),Ak=t("h1",null,"A04 Solution ",-1),bk={class:"dense"},Ek=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#758575DD"}},"// register the rateLimit plugin in the server.js file")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"register"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"rateLimit"),t("span",{style:{color:"#666666"}},")")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#A0ADA0"}},"// register the rateLimit plugin in the server.js file")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"register"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"rateLimit"),t("span",{style:{color:"#999999"}},")")])])])],-1),Dk=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#758575DD"}},"// the rate limit is set to a maximum of two purchases per minute")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"default"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"ecommerce"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"post"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"/buy-product"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#B8A965"}},"config"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#B8A965"}},"rateLimit"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"          "),t("span",{style:{color:"#B8A965"}},"max"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4C9A91"}},"2"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"          "),t("span",{style:{color:"#B8A965"}},"timeWindow"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"1 minute"),t("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"reply"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#BD976A"}},"reply"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"send"),t("span",{style:{color:"#666666"}},"({"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#B8A965"}},"success"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"true"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#A0ADA0"}},"// the rate limit is set to a maximum of two purchases per minute")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"default"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"ecommerce"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"post"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"/buy-product"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#998418"}},"config"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#998418"}},"rateLimit"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"          "),t("span",{style:{color:"#998418"}},"max"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#2F798A"}},"2"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"          "),t("span",{style:{color:"#998418"}},"timeWindow"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"1 minute"),t("span",{style:{color:"#B5695999"}},"'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"reply"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#B07D48"}},"reply"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"send"),t("span",{style:{color:"#999999"}},"({"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#998418"}},"success"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"true"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),kk={__name:"35",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[Ak,t("div",bk,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[Ek]),_:1},16),te(r,Ue({},{ranges:[""]}),{default:M(()=>[Dk]),_:1},16)])]),_:1},16)}}},Ck=N(kk,[["__file","/@slidev/slides/35.md"]]),xk=t("h1",null,"A05 Security Misconfiguration",-1),Bk=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk"),t("li",null,[t("strong",null,"Badly configured"),u(" servers or services can lead to vulnerabilities")]),t("li",null,"With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration")])],-1),Sk={__name:"36",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[xk,Bk]),_:1},16))}},$k=N(Sk,[["__file","/@slidev/slides/36.md"]]),Tk=t("h1",null,"A05 Common Vulnerabilities",-1),Ok=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Improperly configured "),t("strong",null,"permissions"),u(" or security settings")]),t("li",null,"Unnecessary features enabled: open ports, services, accounts with elevated accesss"),t("li",null,[t("strong",null,"Default credentials"),u(" unchanged")]),t("li",null,"Out of date or vulnerable server"),t("li",null,"Stack trace from error handling revealing information to users")])],-1),Pk={__name:"37",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Tk,Ok]),_:1},16))}},Ik=N(Pk,[["__file","/@slidev/slides/37.md"]]),Mk=t("h1",null,"A05 How to prevent",-1),Lk=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Repeatable, automated and fast to deploy environments"),t("li",null,"Different credentials should be used in each environment"),t("li",null,"Frequently review security updates, patches and permissions"),t("li",null,[u("A "),t("strong",null,"segmented architecture"),u(" increases security by separating components, tenants, containers or cloud security groups")]),t("li",null,[u("An automated "),t("strong",null,"test"),u(" to verify the effectiveness of the configurations")])])],-1),Rk={__name:"38",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Mk,Lk]),_:1},16))}},Fk=N(Rk,[["__file","/@slidev/slides/38.md"]]),Nk=t("h1",null,"A05 Unsigned Cookies ",-1),jk=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the server for step 5 ("),t("code",null,"cd src/a05-security-misconfiguration"),u(", "),t("code",null,"npm start"),u(")")]),t("li",null,[u("In Postman, run the query for "),t("code",null,"A05: Login"),u(". Observe a cookie with "),t("code",null,"userId=1"),u(" being returned")]),t("li",null,[u("Try to run the query for "),t("code",null,"A05: Profile"),u(". Observe the information about profile with "),t("code",null,"userId=1"),u(" being returned")]),t("li",null,[u("Try to "),t("a",{href:"https://learning.postman.com/docs/sending-requests/cookies/",target:"_blank",rel:"noopener"},"change the value of the cookie"),u(" to "),t("code",null,"userId=2"),u(". Observe information about "),t("code",null,"userId=2"),u(" being returned")])])],-1),qk={__name:"39",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Nk,jk]),_:1},16))}},Hk=N(qk,[["__file","/@slidev/slides/39.md"]]),Vk=t("h1",null,"A05 Fixing it ",-1),Uk=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u(" Cookie must always be "),t("strong",null,[t("a",{href:"https://github.com/fastify/fastify-cookie",target:"_blank",rel:"noopener"},"signed")]),u(" to ensure they are not getting tampered with on client-side by an attacker")]),t("li",null,[u("Its important to use "),t("strong",null,"httpOnly"),u(" cookies to prevent the cookie being accessed through client side script")]),t("li",null,[u("Store the "),t("strong",null,"signing secret"),u(" safely.")]),t("li",null,"Dont store sentive information in cleartext")])],-1),Wk={__name:"40",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Vk,Uk]),_:1},16))}},zk=N(Wk,[["__file","/@slidev/slides/40.md"]]),Kk=t("h1",null,"A05 Solution ",-1),Yk={class:"dense"},Gk=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"login"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"post"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"/login"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"schema"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"},"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"rep"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"password"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"body")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#BD976A"}},"rows"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"pg"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"query"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#80A665"}},"SQL"),t("span",{style:{color:"#C98A7D99"}},"`"),t("span",{style:{color:"#C98A7D"}},"SELECT id, username, password FROM users WHERE username = "),t("span",{style:{color:"#666666"}},"${"),t("span",{style:{color:"#C98A7D"}},"username"),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#CB7676"}},"!"),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"Unauthorized"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"No matching user found"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"passwordMatch"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"comparePassword"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"password"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"password"),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#CB7676"}},"!"),t("span",{style:{color:"#BD976A"}},"passwordMatch"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"Unauthorized"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"Invalid Password"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#BD976A"}},"rep"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"setCookie"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"userId"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"JSON"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"stringify"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"id"),t("span",{style:{color:"#666666"}},"),"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#B8A965"}},"signed"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"true"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#758575DD"}},"//  signing the cookie")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#B8A965"}},"httpOnly"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"true"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#758575DD"}},"// http only")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"user logged in"),t("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"login"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"post"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"/login"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"schema"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"},"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"rep"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"password"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"body")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#B07D48"}},"rows"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"pg"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"query"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#59873A"}},"SQL"),t("span",{style:{color:"#B5695999"}},"`"),t("span",{style:{color:"#B56959"}},"SELECT id, username, password FROM users WHERE username = "),t("span",{style:{color:"#999999"}},"${"),t("span",{style:{color:"#B56959"}},"username"),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#B5695999"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#AB5959"}},"!"),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"Unauthorized"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"No matching user found"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"passwordMatch"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"comparePassword"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"password"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"password"),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#AB5959"}},"!"),t("span",{style:{color:"#B07D48"}},"passwordMatch"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"Unauthorized"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"Invalid Password"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B07D48"}},"rep"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"setCookie"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"userId"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"JSON"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"stringify"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"id"),t("span",{style:{color:"#999999"}},"),"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#998418"}},"signed"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"true"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#A0ADA0"}},"//  signing the cookie")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#998418"}},"httpOnly"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"true"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#A0ADA0"}},"// http only")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"user logged in"),t("span",{style:{color:"#B5695999"}},"'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),Qk={__name:"41",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[Kk,t("div",Yk,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[Gk]),_:1},16)])]),_:1},16)}}},Jk=N(Qk,[["__file","/@slidev/slides/41.md"]]),Zk=t("h1",null,"A05 Solution  (2)",-1),Xk={class:"dense"},eC=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"profile"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"get"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"/profile"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"value"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"id"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"valid"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"unsignCookie"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"      "),t("span",{style:{color:"#758575DD"}},"//unsign the cookie and check validity")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"?."),t("span",{style:{color:"#BD976A"}},"cookies"),t("span",{style:{color:"#666666"}},"?."),t("span",{style:{color:"#BD976A"}},"userId"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"||"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"''")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#CB7676"}},"!"),t("span",{style:{color:"#BD976A"}},"valid"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"      "),t("span",{style:{color:"#758575DD"}},"// check if the cookie has been tampered")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"new"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"Unauthorized"),t("span",{style:{color:"#666666"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#BD976A"}},"rows"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"pg"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"query"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#80A665"}},"SQL"),t("span",{style:{color:"#C98A7D99"}},"`"),t("span",{style:{color:"#C98A7D"}},"SELECT id, username, age FROM users WHERE id = "),t("span",{style:{color:"#666666"}},"${"),t("span",{style:{color:"#C98A7D"}},"id"),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#CB7676"}},"!"),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"new"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"NotFound"),t("span",{style:{color:"#666666"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"user")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"profile"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"get"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"/profile"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"value"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"id"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"valid"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"unsignCookie"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"      "),t("span",{style:{color:"#A0ADA0"}},"//unsign the cookie and check validity")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"?."),t("span",{style:{color:"#B07D48"}},"cookies"),t("span",{style:{color:"#999999"}},"?."),t("span",{style:{color:"#B07D48"}},"userId"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"||"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"''")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#AB5959"}},"!"),t("span",{style:{color:"#B07D48"}},"valid"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"      "),t("span",{style:{color:"#A0ADA0"}},"// check if the cookie has been tampered")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"new"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"Unauthorized"),t("span",{style:{color:"#999999"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#B07D48"}},"rows"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"pg"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"query"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#59873A"}},"SQL"),t("span",{style:{color:"#B5695999"}},"`"),t("span",{style:{color:"#B56959"}},"SELECT id, username, age FROM users WHERE id = "),t("span",{style:{color:"#999999"}},"${"),t("span",{style:{color:"#B56959"}},"id"),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#B5695999"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#AB5959"}},"!"),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"new"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"NotFound"),t("span",{style:{color:"#999999"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"user")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),tC={__name:"42",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[Zk,t("div",Xk,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[eC]),_:1},16)])]),_:1},16)}}},nC=N(tC,[["__file","/@slidev/slides/42.md"]]),sC=t("h1",null,"A06 Vulnerable and Outdated Components",-1),oC=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Applications use a variety of components and libraries which can have security issues"),t("li",null,"Vulnerable components can be an attack vector until they are patched"),t("li",null,[u("Particularly relevant in the node.js world with an ever-growing "),t("strong",null,"NPM dependency tree")])])],-1),rC={__name:"43",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[sC,oC]),_:1},16))}},lC=N(rC,[["__file","/@slidev/slides/43.md"]]),aC=t("h1",null,"A06 Common Vulnerabilities",-1),iC=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Not "),t("strong",null,"tracking versions"),u(" of used components, including nested dependencies")]),t("li",null,"Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes"),t("li",null,[u("Not "),t("strong",null,"scanning for vulnerabilities"),u(" regularly and subscribing to security news for used components")]),t("li",null,"Not fixing vulnerable dependencies in a timely fashion")])],-1),cC={__name:"44",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[aC,iC]),_:1},16))}},uC=N(cC,[["__file","/@slidev/slides/44.md"]]),pC=t("h1",null,"A06 How to prevent",-1),dC=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Remove "),t("strong",null,"unused dependencies"),u(", unnecessary features, components, files, and documentation")]),t("li",null,"Continuously inventory the versions of components and their dependencies"),t("li",null,[u("Monitor for libraries and components that are "),t("strong",null,"unmaintained"),u(" or do not create security patches for older versions")]),t("li",null,[u("Only obtain components from "),t("strong",null,"official"),u(" sources over secure links")])])],-1),fC={__name:"45",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[pC,dC]),_:1},16))}},hC=N(fC,[["__file","/@slidev/slides/45.md"]]),yC=t("h1",null,"A06 The attack ",-1),mC=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the server for step 6 ("),t("code",null,"cd src/a06-vulnerable-outdated"),u(", "),t("code",null,"npm start"),u(")")]),t("li",null,[u("In Postman, run the query for "),t("code",null,"A06: Profile"),u(". Observe error "),t("code",null,"404"),u(" being returned")]),t("li",null,[u("Try to run the query for "),t("code",null,"A06: Exploit vulnerability"),u(". Observe the error message response")])])],-1),gC={__name:"46",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[yC,mC]),_:1},16))}},vC=N(gC,[["__file","/@slidev/slides/46.md"]]),_C=t("h1",null,"A06 The attack (2)",-1),wC=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Because of an outdated version of the HTTP client library "),t("strong",null,[t("a",{href:"https://github.com/nodejs/undici",target:"_blank",rel:"noopener"},"undici")]),u(" we can exploit a known "),t("strong",null,[t("a",{href:"https://www.cvedetails.com/cve/CVE-2022-35949/",target:"_blank",rel:"noopener"},"vulnerability")])]),t("li",null,[u("By passing the value "),t("code",null,"//127.0.0.1"),u(" in the username query param, we override the original hostname and we can make the server perform a GET to "),t("code",null,"127.0.0.1:80")])])],-1),AC={__name:"47",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[_C,wC]),_:1},16))}},bC=N(AC,[["__file","/@slidev/slides/47.md"]]),EC=t("h1",null,"A06 Fixing it ",-1),DC=t("div",{class:"dense"},[t("ul",null,[t("li",null," Update the library to a version in which this vulnerability was fixed")])],-1),kC={__name:"48",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[EC,DC]),_:1},16))}},CC=N(kC,[["__file","/@slidev/slides/48.md"]]),xC=t("h1",null,"A06 The Solution ",-1),BC={class:"dense"},SC=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"import"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"request"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"from"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"undici"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#758575DD"}},"// updated undici version >= 5.8.1")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"default"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"get"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"/profile"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#B8A965"}},"onRequest"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"authenticate"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"query")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#C98A7D99"}},"/"),t("span",{style:{color:"#4D9375"}},"^"),t("span",{style:{color:"#E6CC77"}},"\\/"),t("span",{style:{color:"#C98A7D99"}},"/"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"test"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#666666"}},"))"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"        "),t("span",{style:{color:"#758575DD"}},"// check username doesn't start with /")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"BadRequest"),t("span",{style:{color:"#666666"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"body"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"statusCode"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"request"),t("span",{style:{color:"#666666"}},"({")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#B8A965"}},"origin"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"http://example.com"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#B8A965"}},"pathname"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"username")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#666666"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"statusCode"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"!=="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4C9A91"}},"200"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"NotFound"),t("span",{style:{color:"#666666"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"body")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"import"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"request"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"from"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"undici"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#A0ADA0"}},"// updated undici version >= 5.8.1")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"default"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"get"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"/profile"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#998418"}},"onRequest"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"authenticate"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"query")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B5695999"}},"/"),t("span",{style:{color:"#1E754F"}},"^"),t("span",{style:{color:"#BDA437"}},"\\/"),t("span",{style:{color:"#B5695999"}},"/"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"test"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#999999"}},"))"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"        "),t("span",{style:{color:"#A0ADA0"}},"// check username doesn't start with /")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"BadRequest"),t("span",{style:{color:"#999999"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"body"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"statusCode"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"request"),t("span",{style:{color:"#999999"}},"({")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#998418"}},"origin"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"http://example.com"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#998418"}},"pathname"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"username")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#999999"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"statusCode"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"!=="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#2F798A"}},"200"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"NotFound"),t("span",{style:{color:"#999999"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"body")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),$C={__name:"49",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[xC,t("div",BC,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[SC]),_:1},16)])]),_:1},16)}}},TC=N($C,[["__file","/@slidev/slides/49.md"]]),OC=t("h1",null,"A07 Identification and Authentication Failures",-1),PC=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Verification of the users identity, "),t("strong",null,"authentication"),u(", and session management is crucial to security")]),t("li",null,"Weak or vulnerable authentication systems can be exploited to gain access"),t("li",null,"Systems with broken authentication can lead to data breaches and passwords leak")])],-1),IC={__name:"50",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[OC,PC]),_:1},16))}},MC=N(IC,[["__file","/@slidev/slides/50.md"]]),LC=t("h1",null,"A07 Common Vulnerabilities",-1),RC=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Application allows for credentials stuffing or brute forcing"),t("li",null,"Allows default, weak or known passwords"),t("li",null,"Exploitable credential recovery processes"),t("li",null,[u("Lack of effective "),t("strong",null,"multi-factor authentication")]),t("li",null,[u("Unencrypted or weakly encrypted "),t("strong",null,"password storage")])])],-1),FC={__name:"51",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[LC,RC]),_:1},16))}},NC=N(FC,[["__file","/@slidev/slides/51.md"]]),jC=t("h1",null,"A07 How to prevent",-1),qC=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Where possible, implement "),t("strong",null,"multi-factor authentication")]),t("li",null,[u("Require "),t("strong",null,"strong passwords"),u(" (length, complexity, rotation policies, and dont allow leaked passwords use)")]),t("li",null,"Ensure registration and credential recovery use the same messages for all outcomes"),t("li",null,"Limit or increasingly delay failed login attempts"),t("li",null,"Use secure password data store practices (salting + hashing)")])],-1),HC={__name:"52",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[jC,qC]),_:1},16))}},VC=N(HC,[["__file","/@slidev/slides/52.md"]]),UC=t("h1",null,"A07 Allowing leaked passwords ",-1),WC=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("In 2017 the NIST "),t("strong",null,[t("a",{href:"https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value",target:"_blank",rel:"noopener"},"recommended")]),u(" that websites should check all new passwords against available lists of data breaches.")]),t("li",null,[u("This practice has been adopted by OWASP and became part of their "),t("strong",null,[t("a",{href:"https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.",target:"_blank",rel:"noopener"},"recommendation")]),u(".")]),t("li",null,[u("In the real scenario you should try to use something like "),t("strong",null,[t("a",{href:"https://haveibeenpwned.com/Passwords",target:"_blank",rel:"noopener"},"Have I Been Pwned")])])])],-1),zC={__name:"53",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[UC,WC]),_:1},16))}},KC=N(zC,[["__file","/@slidev/slides/53.md"]]),YC=t("h1",null,"A07 Allowing leaked passwords  (2)",-1),GC=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("In the workshop - the database contains the list of leaked passwords in "),t("code",null,"databreachrecords")]),t("li",null,[u("Run the server for step 7 ("),t("code",null,"cd src/a07-authentication-failures"),u(", "),t("code",null,"npm start"),u(")")]),t("li",null,[u("In Postman, run the query for "),t("code",null,"A07: Register"),u(". Observe a token is succesfully returned")]),t("li",null,[u("In the database check the "),t("code",null,"databreachrecords"),u(" table for password used in the Postman request body")])])],-1),QC={__name:"54",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[YC,GC]),_:1},16))}},JC=N(QC,[["__file","/@slidev/slides/54.md"]]),ZC=t("h1",null,"A07 Allowing leaked passwords  (3)",-1),XC=t("div",{class:"dense"},[t("ul",null,[t("li",null,"It should not allow to use passwords that are known to be leaked"),t("li",null,"Instead it should require the user to set a different password indicating what is the reason"),t("li",null,[u("Place your solution in the "),t("code",null,"routes/user/index.js")]),t("li",null,[u("Test it by running "),t("code",null,"npm run verify"),u(" (it will fail initially)")])])],-1),ex={__name:"55",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[ZC,XC]),_:1},16))}},tx=N(ex,[["__file","/@slidev/slides/55.md"]]),nx=t("h1",null,"A07 Fixing it ",-1),sx=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u(" Using data available in "),t("code",null,"dataBreachRecords"),u(" check if requested password is safe to use")]),t("li",null,[u("Run "),t("code",null,"sql"),u(" query inside the "),t("code",null,"/register"),u(" endpoint to check if the password is there")]),t("li",null,[u("Return a "),t("code",null,"400"),u(" error with "),t("code",null,"message"),u(" indicating the source of the leak: "),t("code",null,"'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'")])])],-1),ox={__name:"56",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[nx,sx]),_:1},16))}},rx=N(ox,[["__file","/@slidev/slides/56.md"]]),lx=t("h1",null,"A07 Solution ",-1),ax={class:"dense"},ix=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"rows"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#BD976A"}},"breach"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"pg"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"query"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#80A665"}},"SQL"),t("span",{style:{color:"#C98A7D99"}},"`"),t("span",{style:{color:"#C98A7D"}},"SELECT * FROM databreachrecords WHERE password="),t("span",{style:{color:"#666666"}},"${"),t("span",{style:{color:"#C98A7D"}},"password"),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"breach"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"res"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"send"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"BadRequest"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#C98A7D99"}},"`"),t("span",{style:{color:"#C98A7D"}},"You are trying to use password that is known to be exposed in data breaches: "),t("span",{style:{color:"#666666"}},"${"),t("span",{style:{color:"#C98A7D"}},"breach"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#C98A7D"}},"source"),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#C98A7D"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),t("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"rows"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B07D48"}},"breach"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"pg"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"query"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#59873A"}},"SQL"),t("span",{style:{color:"#B5695999"}},"`"),t("span",{style:{color:"#B56959"}},"SELECT * FROM databreachrecords WHERE password="),t("span",{style:{color:"#999999"}},"${"),t("span",{style:{color:"#B56959"}},"password"),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#B5695999"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"breach"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"res"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"send"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"BadRequest"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#B5695999"}},"`"),t("span",{style:{color:"#B56959"}},"You are trying to use password that is known to be exposed in data breaches: "),t("span",{style:{color:"#999999"}},"${"),t("span",{style:{color:"#B56959"}},"breach"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B56959"}},"source"),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#B56959"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),t("span",{style:{color:"#B5695999"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),cx={__name:"57",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[lx,t("div",ax,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[ix]),_:1},16)])]),_:1},16)}}},ux=N(cx,[["__file","/@slidev/slides/57.md"]]),px=t("h1",null,"A08 Software and Data Integrity Failures",-1),dx=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Code and infrastructure not protected against "),t("strong",null,"integrity violations")]),t("li",null,"Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users")])],-1),fx={__name:"58",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[px,dx]),_:1},16))}},hx=N(fx,[["__file","/@slidev/slides/58.md"]]),yx=t("h1",null,"A08 Common Vulnerabilities",-1),mx=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Libraries coming from "),t("strong",null,"untrusted sources"),u(", repos or CDNs")]),t("li",null,[u("Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to "),t("strong",null,"insecure deserialization")]),t("li",null,"An insecure CI/CD pipeline"),t("li",null,"Updates downloaded without sufficient integrity verification")])],-1),gx={__name:"59",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[yx,mx]),_:1},16))}},vx=N(gx,[["__file","/@slidev/slides/59.md"]]),_x=t("h1",null,"A08 How to prevent",-1),wx=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Using digital signatures for integrity checks on data and downloaded software"),t("li",null,[u("Ensure "),t("strong",null,"npm dependencies"),u(" are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies")]),t("li",null,"Use automated tools to verify that components dont contain known vulnerabilities"),t("li",null,"Ensure there are code reviews for changes to minimise the risk of malicious code being introduced")])],-1),Ax={__name:"60",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[_x,wx]),_:1},16))}},bx=N(Ax,[["__file","/@slidev/slides/60.md"]]),Ex=t("h1",null,"A08 Exercise: Insecure Deserialization",-1),Dx=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the server for step 8 ("),t("code",null,"cd src/a08-software-data-integrity-failures"),u(", "),t("code",null,"npm start"),u(")")]),t("li",null,[u("In Postman, try to run the query for "),t("code",null,"A08: Get profile from cookie"),u(". There is a cookie attached to the request "),t("code",null,"/profile"),u(" containing the users profile encoded as base64. Observe the request "),t("code",null,"status code 500"),u(" being returned")]),t("li",null,[u("This is happening because the server is deserializing a "),t("code",null,"cookie containing a malicious JavaScript"),u(" code which is forcing the server to throw an exception")])])],-1),kx={__name:"61",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Ex,Dx]),_:1},16))}},Cx=N(kx,[["__file","/@slidev/slides/61.md"]]),xx=t("h1",null,"A08 Exercise: Insecure Deserialization",-1),Bx={class:"dense"},Sx=t("ul",null,[t("li",null,[u("When decoding the cookie attached to the "),t("code",null,"/profile"),u(" request, this is what the output looks like:")])],-1),$x=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#758575DD"}},"// base64 to ASCII")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#80A665"}},"id"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4C9A91"}},"1"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#80A665"}},"username"),t("span",{style:{color:"#666666"}},":")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},'"'),t("span",{style:{color:"#C98A7D"}},"_$$ND_FUNC$$_function () {"),t("span",{style:{color:"#C99076"}},"\\n"),t("span",{style:{color:"#C98A7D"}},"    throw new Error('server error')"),t("span",{style:{color:"#C99076"}},"\\n"),t("span",{style:{color:"#C98A7D"}},"  }()"),t("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#A0ADA0"}},"// base64 to ASCII")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#59873A"}},"id"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#2F798A"}},"1"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#59873A"}},"username"),t("span",{style:{color:"#999999"}},":")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},'"'),t("span",{style:{color:"#B56959"}},"_$$ND_FUNC$$_function () {"),t("span",{style:{color:"#A65E2B"}},"\\n"),t("span",{style:{color:"#B56959"}},"    throw new Error('server error')"),t("span",{style:{color:"#A65E2B"}},"\\n"),t("span",{style:{color:"#B56959"}},"  }()"),t("span",{style:{color:"#B5695999"}},'"')]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),Tx=t("ul",null,[t("li",null,[u("Note that there is an "),t("code",null,"IIFE"),u(" at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization")]),t("li",null,[u("The full step by step to serialize a JavaScript code and inject it as a cookie can be found "),t("a",{href:"https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/",target:"_blank",rel:"noopener"},"in this article")])],-1),Ox={__name:"62",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[xx,t("div",Bx,[Sx,te(r,Ue({},{ranges:[""]}),{default:M(()=>[$x]),_:1},16),Tx])]),_:1},16)}}},Px=N(Ox,[["__file","/@slidev/slides/62.md"]]),Ix=t("h1",null,"A08 Fixing it ",-1),Mx=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the automated tests for step 8 - "),t("code",null,"npm run verify")]),t("li",null,"The tests fail because the server shouldnt trust a library that provides a way to deserialize strings into executable JavaScript code"),t("li",null,[u("Untrusted data passed into "),t("code",null,"unserialize()"),u(" function in "),t("code",null,"node-serialize"),u(" module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)")]),t("li",null,[u(" "),t("code",null,"JSON.parse"),u(" is a safer way to deserialize data")])])],-1),Lx={__name:"63",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Ix,Mx]),_:1},16))}},Rx=N(Lx,[["__file","/@slidev/slides/63.md"]]),Fx=t("h1",null,"A08 Solution ",-1),Nx={class:"dense"},jx=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"default"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"solution"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"get"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"/profile"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"cookieAsStr"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"Buffer"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"from"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"cookies"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"profile"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"base64"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},")."),t("span",{style:{color:"#80A665"}},"toString"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"ascii"),t("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"profile"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"JSON"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"parse"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"cookieAsStr"),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"profile"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"Hello "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"+"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"profile"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"username")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"Hello guest"),t("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"default"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"solution"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"get"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"/profile"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"cookieAsStr"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"Buffer"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"from"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"cookies"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"profile"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"base64"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},")."),t("span",{style:{color:"#59873A"}},"toString"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"ascii"),t("span",{style:{color:"#B5695999"}},"'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"profile"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"JSON"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"parse"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"cookieAsStr"),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"profile"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"Hello "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"+"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"profile"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"username")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"Hello guest"),t("span",{style:{color:"#B5695999"}},"'")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),qx={__name:"64",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[Fx,t("div",Nx,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[jx]),_:1},16)])]),_:1},16)}}},Hx=N(qx,[["__file","/@slidev/slides/64.md"]]),Vx=t("h1",null,"A09 Security Logging and Monitoring Failures",-1),Ux=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Proper logging and monitoring is "),t("strong",null,"critical"),u(" to detecting and responding to breaches")]),t("li",null,"It is important for alerting, accountability, visibility and forensics of security incidents")])],-1),Wx={__name:"65",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Vx,Ux]),_:1},16))}},zx=N(Wx,[["__file","/@slidev/slides/65.md"]]),Kx=t("h1",null,"A09 Common Vulnerabilities",-1),Yx=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Auditable events, such as logins, failed logins, and "),t("strong",null,"high-value transactions"),u(", are not logged")]),t("li",null,"Warnings and errors generate no, inadequate, or unclear log messages"),t("li",null,[u("Logs of applications and APIs are not monitored for "),t("strong",null,"suspicious activity")]),t("li",null,"The application cannot detect, escalate, or alert for active attacks in real-time or near real-time")])],-1),Gx={__name:"66",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Kx,Yx]),_:1},16))}},Qx=N(Gx,[["__file","/@slidev/slides/66.md"]]),Jx=t("h1",null,"A09 How to prevent",-1),Zx=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Ensure all login, access control, and server-side input validation failures can be logged with "),t("strong",null,"sufficient user context"),u(" to identify suspicious or malicious accounts")]),t("li",null,"Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems"),t("li",null,"Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.")])],-1),Xx={__name:"67",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[Jx,Zx]),_:1},16))}},e4=N(Xx,[["__file","/@slidev/slides/67.md"]]),t4=t("h1",null,"A09 Suspicious activity ",-1),n4=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the server for step 5 ("),t("code",null,"cd src/a09-security-logging"),u(", "),t("code",null,"npm run verify"),u(")")]),t("li",null,[u("You can observe a log message "),t("code",null,"something suspicious is happening")]),t("li",null,[u("Note that the application is using a vulnerable version of the http client "),t("strong",null,[t("a",{href:"https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3",target:"_blank",rel:"noopener"},"undici")])])])],-1),s4={__name:"68",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[t4,n4]),_:1},16))}},o4=N(s4,[["__file","/@slidev/slides/68.md"]]),r4=t("h1",null,"A09 Fixing it ",-1),l4=t("div",{class:"dense"},[t("ul",null,[t("li",null," Log user input to identify suspicious or malicious access"),t("li",null,"Validate user input")])],-1),a4={__name:"69",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[r4,l4]),_:1},16))}},i4=N(a4,[["__file","/@slidev/slides/69.md"]]),c4=t("h1",null,"A09 Solution ",-1),u4={class:"dense"},p4=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#758575DD"}},"// profile route handler")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"console"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"log"),t("span",{style:{color:"#666666"}},"({")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#B8A965"}},"username"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"user"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"username"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#758575DD"}},"// add context to logs to help identify the user")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#B8A965"}},"input"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"headers"),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"content-type"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"headerCharRegex"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#C4704F"}}," "),t("span",{style:{color:"#C98A7D99"}},"/"),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#CB7676"}},"^"),t("span",{style:{color:"#C99076"}},"\\t\\x20-\\x7e\\x80-\\xff"),t("span",{style:{color:"#666666"}},"]"),t("span",{style:{color:"#C98A7D99"}},"/"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#758575DD"}},"// validate user input")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"headerCharRegex"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"exec"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"headers"),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"content-type"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},"])"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"!=="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"null"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"BadRequest"),t("span",{style:{color:"#666666"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"body"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"request"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"http://localhost:3001"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},","),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#B8A965"}},"method"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"GET"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#B8A965"}},"headers"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"content-type"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"headers"),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"content-type"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"body")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#A0ADA0"}},"// profile route handler")]),u(`
`),t("span",{class:"line"}),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"console"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"log"),t("span",{style:{color:"#999999"}},"({")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#998418"}},"username"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"user"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"username"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#A0ADA0"}},"// add context to logs to help identify the user")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#998418"}},"input"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"headers"),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"content-type"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"headerCharRegex"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#AB5E3F"}}," "),t("span",{style:{color:"#B5695999"}},"/"),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#AB5959"}},"^"),t("span",{style:{color:"#A65E2B"}},"\\t\\x20-\\x7e\\x80-\\xff"),t("span",{style:{color:"#999999"}},"]"),t("span",{style:{color:"#B5695999"}},"/"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#A0ADA0"}},"// validate user input")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"headerCharRegex"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"exec"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"headers"),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"content-type"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},"])"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"!=="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"null"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"BadRequest"),t("span",{style:{color:"#999999"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"body"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"request"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"http://localhost:3001"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},","),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#998418"}},"method"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"GET"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#998418"}},"headers"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"content-type"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"headers"),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"content-type"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},"})")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"body")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),d4={__name:"70",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[c4,t("div",u4,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[p4]),_:1},16)])]),_:1},16)}}},f4=N(d4,[["__file","/@slidev/slides/70.md"]]),h4=t("h1",null,"A10 Server Side Request Forgery",-1),y4=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("SSRF flaws occur whenever a web application is fetching a remote resource without "),t("strong",null,"validating"),u(" the user-supplied URL")]),t("li",null,[u("It allows an attacker to coerce the application to send a crafted request to an "),t("strong",null,"unexpected destination"),u(", even when protected by a firewall, VPN, or another type of network access control list")])])],-1),m4={__name:"71",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[h4,y4]),_:1},16))}},g4=N(m4,[["__file","/@slidev/slides/71.md"]]),v4=t("h1",null,"A10 How to prevent",-1),_4=t("div",{class:"dense"},[t("ul",null,[t("li",null,[t("strong",null,"Sanitize and validate"),u(" all client-supplied input data")]),t("li",null,"Enforce the URL schema, port, and destination with a positive allow list"),t("li",null,"Do not send raw responses to clients"),t("li",null,"Disable HTTP redirections"),t("li",null," Do not mitigate SSRF via the use of a deny list or regular expression")])],-1),w4={__name:"72",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[v4,_4]),_:1},16))}},A4=N(w4,[["__file","/@slidev/slides/72.md"]]),b4=t("h1",null,"A10 The Attack ",-1),E4=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("Run the server for step 10 ("),t("code",null,"cd src/a10-server-side-request-forgery"),u(", "),t("code",null,"npm start"),u(")")]),t("li",null,[u("In Postman, run the query for "),t("code",null,"A10: Upload Image"),u(". Observe an image being returned")]),t("li",null,[u("Try to run the query for "),t("code",null,"A10: Malicious Image url"),u(". Observe "),t("code",null,"something suspicious is happening"),u(" being returned")]),t("li",null,"The server is not sanitizing user input so it will send a request to whatever url provided in the payload")])],-1),D4={__name:"73",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[b4,E4]),_:1},16))}},k4=N(D4,[["__file","/@slidev/slides/73.md"]]),C4=t("h1",null,"A10 Fixing it ",-1),x4=t("div",{class:"dense"},[t("ul",null,[t("li",null,"Sanitize the url making sure its valid"),t("li",null,[u("Create a whitelist of allowed domains by adding them in the database column "),t("code",null,"allowedImageDomain")]),t("li",null," Make sure the requested domain is in the whitelist")])],-1),B4={__name:"74",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[C4,x4]),_:1},16))}},S4=N(B4,[["__file","/@slidev/slides/74.md"]]),$4=t("h1",null,"A10 Solution ",-1),T4={class:"dense"},O4=t("pre",{class:"shiki-container"},[t("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#4D9375"}},"export"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"default"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"function"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"profilePicture"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"post"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#C98A7D"}},"/user/image"),t("span",{style:{color:"#C98A7D99"}},"'"),t("span",{style:{color:"#666666"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#B8A965"}},"onRequest"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"authenticate"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#CB7676"}},"async"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"=>"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"imgUrl"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"req"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"body")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"url"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#80A665"}},"validateUrl"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"imgUrl"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#758575DD"}},"// validate url using the URL object")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#BD976A"}},"rows"),t("span",{style:{color:"#666666"}},":"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"["),t("span",{style:{color:"#BD976A"}},"whitelisted"),t("span",{style:{color:"#666666"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"fastify"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"pg"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"query"),t("span",{style:{color:"#666666"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#80A665"}},"SQL"),t("span",{style:{color:"#C98A7D99"}},"`"),t("span",{style:{color:"#C98A7D"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),t("span",{style:{color:"#666666"}},"${"),t("span",{style:{color:"#C98A7D"}},"url"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#C98A7D"}},"hostname"),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"if"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#CB7676"}},"!"),t("span",{style:{color:"#BD976A"}},"whitelisted"),t("span",{style:{color:"#666666"}},")"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"        "),t("span",{style:{color:"#4D9375"}},"throw"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"errors"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"Forbidden"),t("span",{style:{color:"#666666"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#CB7676"}},"const"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"{"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"data"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#666666"}},"}"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#CB7676"}},"="),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#4D9375"}},"await"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"axios"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#80A665"}},"get"),t("span",{style:{color:"#666666"}},"("),t("span",{style:{color:"#BD976A"}},"url"),t("span",{style:{color:"#666666"}},"."),t("span",{style:{color:"#BD976A"}},"href"),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"      "),t("span",{style:{color:"#4D9375"}},"return"),t("span",{style:{color:"#DBD7CAEE"}}," "),t("span",{style:{color:"#BD976A"}},"data")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"    "),t("span",{style:{color:"#666666"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#DBD7CAEE"}},"  "),t("span",{style:{color:"#666666"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#666666"}},"}")])])]),t("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#1E754F"}},"export"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"default"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"function"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"profilePicture"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"post"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#B56959"}},"/user/image"),t("span",{style:{color:"#B5695999"}},"'"),t("span",{style:{color:"#999999"}},",")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#998418"}},"onRequest"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"authenticate"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"},")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#AB5959"}},"async"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"=>"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"imgUrl"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"req"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"body")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"url"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#59873A"}},"validateUrl"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"imgUrl"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#A0ADA0"}},"// validate url using the URL object")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#B07D48"}},"rows"),t("span",{style:{color:"#999999"}},":"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"["),t("span",{style:{color:"#B07D48"}},"whitelisted"),t("span",{style:{color:"#999999"}},"]")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"fastify"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"pg"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"query"),t("span",{style:{color:"#999999"}},"(")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#59873A"}},"SQL"),t("span",{style:{color:"#B5695999"}},"`"),t("span",{style:{color:"#B56959"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),t("span",{style:{color:"#999999"}},"${"),t("span",{style:{color:"#B56959"}},"url"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B56959"}},"hostname"),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#B5695999"}},"`")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"if"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#AB5959"}},"!"),t("span",{style:{color:"#B07D48"}},"whitelisted"),t("span",{style:{color:"#999999"}},")"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"        "),t("span",{style:{color:"#1E754F"}},"throw"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"errors"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"Forbidden"),t("span",{style:{color:"#999999"}},"()")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#AB5959"}},"const"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"{"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"data"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#999999"}},"}"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#AB5959"}},"="),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#1E754F"}},"await"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"axios"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#59873A"}},"get"),t("span",{style:{color:"#999999"}},"("),t("span",{style:{color:"#B07D48"}},"url"),t("span",{style:{color:"#999999"}},"."),t("span",{style:{color:"#B07D48"}},"href"),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"      "),t("span",{style:{color:"#1E754F"}},"return"),t("span",{style:{color:"#393A34"}}," "),t("span",{style:{color:"#B07D48"}},"data")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"    "),t("span",{style:{color:"#999999"}},"}")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#393A34"}},"  "),t("span",{style:{color:"#999999"}},")")]),u(`
`),t("span",{class:"line"},[t("span",{style:{color:"#999999"}},"}")])])])],-1),P4={__name:"75",setup(e){const n={};return P(F),(s,o)=>{const r=et;return D(),I(Z,J(Q(n)),{default:M(()=>[$4,t("div",T4,[te(r,Ue({},{ranges:[""]}),{default:M(()=>[O4]),_:1},16)])]),_:1},16)}}},I4=N(P4,[["__file","/@slidev/slides/75.md"]]),M4=t("h1",null,"Beyond the Top 10",-1),L4=t("div",{class:"dense"},[t("ul",null,[t("li",null,"The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing"),t("li",null,"By its nature, the Top 10 is a series of guidelines but cant be tested easily as its applications are broad"),t("li",null,[u("On the other hand the "),t("a",{href:"https://owasp.org/www-project-application-security-verification-standard/",target:"_blank",rel:"noopener"},"OWASP Application Security Verification Standard"),u(" is a comprehensive list of security criteria")]),t("li",null,"Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail")])],-1),R4={__name:"76",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[M4,L4]),_:1},16))}},F4=N(R4,[["__file","/@slidev/slides/76.md"]]),N4=t("h1",null,"Other useful OWASP resources",-1),j4=t("div",{class:"dense"},[t("ul",null,[t("li",null,[u("The "),t("a",{href:"https://cheatsheetseries.owasp.org",target:"_blank",rel:"noopener"},"OWASP Cheat Sheet Series"),u(" provides condensed information on specific security topics related to OWASP standards")]),t("li",null,[u("The "),t("a",{href:"https://owaspsamm.org",target:"_blank",rel:"noopener"},"OWASP Software Assurance Maturity Model"),u(" can help an organization analyze and improve their software security")])])],-1),q4={__name:"77",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[N4,j4]),_:1},16))}},H4=N(q4,[["__file","/@slidev/slides/77.md"]]),V4=t("h1",null,"Thanks For Having Us!",-1),U4=t("h2",null,"",-1),W4={__name:"78",setup(e){const n={};return P(F),(s,o)=>(D(),I(Z,J(Q(n)),{default:M(()=>[V4,U4]),_:1},16))}},z4=N(W4,[["__file","/@slidev/slides/78.md"]]),K4=[{path:"1",name:"page-1",component:yE,meta:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop",slide:{raw:`---
theme: slidev-theme-nearform
layout: default
highlighter: shiki
lineNumbers: false
---

<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>
`,title:"OWASP Top Ten Security Vulnerabilities Workshop",level:1,content:`<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>`,frontmatter:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop"},index:0,start:0,end:19,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:_E,meta:{slide:{raw:`
# Introduction: OWASP 

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>
`,title:"Introduction: OWASP ",level:1,content:`# Introduction: OWASP 

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>`,frontmatter:{},index:1,start:20,end:31,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:EE,meta:{slide:{raw:`
# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>
`,title:"Introduction: OWASP Top Ten",level:1,content:`# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>`,frontmatter:{},index:2,start:32,end:42,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:xE,meta:{slide:{raw:`
# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The  icon indicates hints

</div>
`,title:"Workshop Setup",level:1,content:`# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The  icon indicates hints

</div>`,frontmatter:{},index:3,start:43,end:56,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:GE,meta:{slide:{raw:`
# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>
`,title:"Getting setup",level:1,content:`# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>`,frontmatter:{},index:4,start:57,end:84,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:nD,meta:{slide:{raw:`
# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000
`,title:"Running the modules",level:1,content:`# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000`,frontmatter:{},index:5,start:85,end:106,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:lD,meta:{slide:{raw:`
# Testing the vulnerabilities

<div class="dense">

- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests
- The \`postman\` folder contains a collection that can be imported into Postman to easily send those requests
- The Postman collection is pre-logged in with user \`alice\`. The \`Bearer token\` is set that represents \`alice\`.

</div>
`,title:"Testing the vulnerabilities",level:1,content:'# Testing the vulnerabilities\n\n<div class="dense">\n\n- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests\n- The `postman` folder contains a collection that can be imported into Postman to easily send those requests\n- The Postman collection is pre-logged in with user `alice`. The `Bearer token` is set that represents `alice`.\n\n</div>',frontmatter:{},index:6,start:107,end:118,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:uD,meta:{slide:{raw:`
# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>
`,title:"Automated testing",level:1,content:`# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>`,frontmatter:{},index:7,start:119,end:130,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:hD,meta:{slide:{raw:`
# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>
`,title:"A01 Broken Access Control",level:1,content:`# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>`,frontmatter:{},index:8,start:131,end:141,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:vD,meta:{slide:{raw:`
# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>
`,title:"A01 Common vulnerabilities",level:1,content:`# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>`,frontmatter:{},index:9,start:142,end:154,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:bD,meta:{slide:{raw:`
# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>
`,title:"A01 How to Prevent",level:1,content:`# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>`,frontmatter:{},index:10,start:155,end:166,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:SD,meta:{slide:{raw:`
# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>
`,title:"A01 Exercise",level:1,content:`# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>`,frontmatter:{},index:11,start:167,end:189,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:LD,meta:{slide:{raw:`
# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>
`,title:"A01 The problem",level:1,content:`# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>`,frontmatter:{},index:12,start:190,end:211,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:jD,meta:{slide:{raw:`
# A01 Fixing it 

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
-  The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>
`,title:"A01 Fixing it ",level:1,content:`# A01 Fixing it 

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
-  The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>`,frontmatter:{},index:13,start:212,end:224,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:zD,meta:{slide:{raw:`
# A01 Solution 

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username //  We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>
`,title:"A01 Solution ",level:1,content:`# A01 Solution 

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username //  We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>`,frontmatter:{},index:14,start:225,end:248,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:QD,meta:{slide:{raw:`
# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>
`,title:"A02 Cryptographic Failures",level:1,content:`# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>`,frontmatter:{},index:15,start:249,end:261,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:e7,meta:{slide:{raw:`
# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 **
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>
`,title:"A02 Common vulnerabilities",level:1,content:`# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 **
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>`,frontmatter:{},index:16,start:262,end:274,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:o7,meta:{slide:{raw:`
# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git **)
- Disable caching for responses that contain sensitive data

</div>
`,title:"A02 How to Prevent",level:1,content:`# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git **)
- Disable caching for responses that contain sensitive data

</div>`,frontmatter:{},index:17,start:275,end:287,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:u7,meta:{slide:{raw:`
# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>
`,title:"A02 A weak hashing algorithm",level:1,content:`# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>`,frontmatter:{},index:18,start:288,end:311,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:h7,meta:{slide:{raw:`
# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's hashed password
- With this password hash, try to find the original password Alice created
- the Postman collection contains requests for doing the queries
-  There are websites to decrypt md5

</div>
`,title:"A02 The problem",level:1,content:`# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's hashed password
- With this password hash, try to find the original password Alice created
- the Postman collection contains requests for doing the queries
-  There are websites to decrypt md5

</div>`,frontmatter:{},index:19,start:312,end:324,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:v7,meta:{slide:{raw:`
# A02 Fixing it 

<div class="dense">

- md5 hash is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the hashing algorithm used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>
`,title:"A02 Fixing it ",level:1,content:`# A02 Fixing it 

<div class="dense">

- md5 hash is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the hashing algorithm used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>`,frontmatter:{},index:20,start:325,end:337,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:E7,meta:{slide:{raw:`
# A02 Solution 

<div class="dense">

\`\`\`js
// utils/crypto.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function hashPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>
`,title:"A02 Solution ",level:1,content:`# A02 Solution 

<div class="dense">

\`\`\`js
// utils/crypto.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function hashPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>`,frontmatter:{},index:21,start:338,end:356,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:B7,meta:{slide:{raw:`
# A02 Solution  (2)

<div class="dense">

\`\`\`js
// utils/crypto.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>
`,title:"A02 Solution  (2)",level:1,content:`# A02 Solution  (2)

<div class="dense">

\`\`\`js
// utils/crypto.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>`,frontmatter:{},index:22,start:357,end:371,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:O7,meta:{slide:{raw:`
# A03 Injection 

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>
`,title:"A03 Injection ",level:1,content:`# A03 Injection 

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>`,frontmatter:{},index:23,start:372,end:384,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:L7,meta:{slide:{raw:`
# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>
`,title:"A03 Common vulnerabilities",level:1,content:`# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>`,frontmatter:{},index:24,start:385,end:396,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:j7,meta:{slide:{raw:`
# A03 Attack

<div class="dense">

- Run the server for step 3 (\`cd src/a03-injection\`, \`npm start\`)
- In Postman, run the query for \`A03: Get customer by name\`. Observe the data for \`name: "alice"\` being returned
- Try to run the query for \`A03: SQL Injection\`. Observe all the customers being returned
- The query param value \`' OR '1'='1\` takes advantage of the unsafe string concatenation to create this SQL query
  \`SELECT * FROM customers WHERE name='' OR '1'='1'\` which will return every record in the table

</div>
`,title:"A03 Attack",level:1,content:"# A03 Attack\n\n<div class=\"dense\">\n\n- Run the server for step 3 (`cd src/a03-injection`, `npm start`)\n- In Postman, run the query for `A03: Get customer by name`. Observe the data for `name: \"alice\"` being returned\n- Try to run the query for `A03: SQL Injection`. Observe all the customers being returned\n- The query param value `' OR '1'='1` takes advantage of the unsafe string concatenation to create this SQL query\n  `SELECT * FROM customers WHERE name='' OR '1'='1'` which will return every record in the table\n\n</div>",frontmatter:{},index:25,start:397,end:410,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:U7,meta:{slide:{raw:`
# A03 Fixing it 

<div class="dense">

-  Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>
`,title:"A03 Fixing it ",level:1,content:`# A03 Fixing it 

<div class="dense">

-  Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>`,frontmatter:{},index:26,start:411,end:423,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:Q7,meta:{slide:{raw:`
# A03 Solution 

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>
`,title:"A03 Solution ",level:1,content:`# A03 Solution 

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:27,start:424,end:453,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:ek,meta:{slide:{raw:`
# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>
`,title:"A04 Insecure Design",level:1,content:`# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>`,frontmatter:{},index:28,start:454,end:466,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:ok,meta:{slide:{raw:`
# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>
`,title:"A04 Examples",level:1,content:`# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>`,frontmatter:{},index:29,start:467,end:478,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",name:"page-31",component:ik,meta:{slide:{raw:`
# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>
`,title:"A04 How to prevent",level:1,content:`# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>`,frontmatter:{},index:30,start:479,end:491,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:30,no:31},__clicksElements:[],__preloaded:!1}},{path:"32",name:"page-32",component:dk,meta:{slide:{raw:`
# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>
`,title:"A04 Exercise",level:1,content:`# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>`,frontmatter:{},index:31,start:492,end:502,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:31,no:32},__clicksElements:[],__preloaded:!1}},{path:"33",name:"page-33",component:mk,meta:{slide:{raw:`
# A04 Scalping

<div class="dense">

- Run the server for step 4 (\`cd src/a04-insecure-design\`, \`npm start\`)
- In Postman, run the query for \`A04: Buy product\`. Observe the data for \`success: true\` being returned
- Run the query many times in a row in a short period of time
- Notice that there is no protection against multiple sequential purchases
</div>
`,title:"A04 Scalping",level:1,content:'# A04 Scalping\n\n<div class="dense">\n\n- Run the server for step 4 (`cd src/a04-insecure-design`, `npm start`)\n- In Postman, run the query for `A04: Buy product`. Observe the data for `success: true` being returned\n- Run the query many times in a row in a short period of time\n- Notice that there is no protection against multiple sequential purchases\n</div>',frontmatter:{},index:32,start:503,end:514,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:32,no:33},__clicksElements:[],__preloaded:!1}},{path:"34",name:"page-34",component:wk,meta:{slide:{raw:`
# A04 Fixing it 

<div class="dense">

- Prefer using rate limiter for your routes
-  Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>
`,title:"A04 Fixing it ",level:1,content:`# A04 Fixing it 

<div class="dense">

- Prefer using rate limiter for your routes
-  Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>`,frontmatter:{},index:33,start:515,end:527,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:33,no:34},__clicksElements:[],__preloaded:!1}},{path:"35",name:"page-35",component:Ck,meta:{slide:{raw:`
# A04 Solution 

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>
`,title:"A04 Solution ",level:1,content:`# A04 Solution 

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:34,start:528,end:560,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:34,no:35},__clicksElements:[],__preloaded:!1}},{path:"36",name:"page-36",component:$k,meta:{slide:{raw:`
# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>
`,title:"A05 Security Misconfiguration",level:1,content:`# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>`,frontmatter:{},index:35,start:561,end:572,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:35,no:36},__clicksElements:[],__preloaded:!1}},{path:"37",name:"page-37",component:Ik,meta:{slide:{raw:`
# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>
`,title:"A05 Common Vulnerabilities",level:1,content:`# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>`,frontmatter:{},index:36,start:573,end:586,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:36,no:37},__clicksElements:[],__preloaded:!1}},{path:"38",name:"page-38",component:Fk,meta:{slide:{raw:`
# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>
`,title:"A05 How to prevent",level:1,content:`# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>`,frontmatter:{},index:37,start:587,end:600,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:37,no:38},__clicksElements:[],__preloaded:!1}},{path:"39",name:"page-39",component:Hk,meta:{slide:{raw:'\n# A05 Unsigned Cookies \n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>\n',title:"A05 Unsigned Cookies ",level:1,content:'# A05 Unsigned Cookies \n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>',frontmatter:{},index:38,start:601,end:613,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:38,no:39},__clicksElements:[],__preloaded:!1}},{path:"40",name:"page-40",component:zk,meta:{slide:{raw:`
# A05 Fixing it 

<div class="dense">

-  Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>
`,title:"A05 Fixing it ",level:1,content:`# A05 Fixing it 

<div class="dense">

-  Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>`,frontmatter:{},index:39,start:614,end:626,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:39,no:40},__clicksElements:[],__preloaded:!1}},{path:"41",name:"page-41",component:Jk,meta:{slide:{raw:`
# A05 Solution 

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, //  signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>
`,title:"A05 Solution ",level:1,content:`# A05 Solution 

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, //  signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>`,frontmatter:{},index:40,start:627,end:659,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:40,no:41},__clicksElements:[],__preloaded:!1}},{path:"42",name:"page-42",component:nC,meta:{slide:{raw:`
# A05 Solution  (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>
`,title:"A05 Solution  (2)",level:1,content:`# A05 Solution  (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>`,frontmatter:{},index:41,start:660,end:692,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:41,no:42},__clicksElements:[],__preloaded:!1}},{path:"43",name:"page-43",component:lC,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>
`,title:"A06 Vulnerable and Outdated Components",level:1,content:`# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>`,frontmatter:{},index:42,start:693,end:704,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:42,no:43},__clicksElements:[],__preloaded:!1}},{path:"44",name:"page-44",component:uC,meta:{slide:{raw:`
# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>
`,title:"A06 Common Vulnerabilities",level:1,content:`# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>`,frontmatter:{},index:43,start:705,end:717,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:43,no:44},__clicksElements:[],__preloaded:!1}},{path:"45",name:"page-45",component:hC,meta:{slide:{raw:`
# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>
`,title:"A06 How to prevent",level:1,content:`# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>`,frontmatter:{},index:44,start:718,end:730,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:44,no:45},__clicksElements:[],__preloaded:!1}},{path:"46",name:"page-46",component:vC,meta:{slide:{raw:'\n# A06 The attack \n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>\n',title:"A06 The attack ",level:1,content:'# A06 The attack \n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>',frontmatter:{},index:45,start:731,end:741,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:45,no:46},__clicksElements:[],__preloaded:!1}},{path:"47",name:"page-47",component:bC,meta:{slide:{raw:`
# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>
`,title:"A06 The attack (2)",level:1,content:`# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>`,frontmatter:{},index:46,start:742,end:751,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:46,no:47},__clicksElements:[],__preloaded:!1}},{path:"48",name:"page-48",component:CC,meta:{slide:{raw:`
# A06 Fixing it 

<div class="dense">

-  Update the library to a version in which this vulnerability was fixed

</div>
`,title:"A06 Fixing it ",level:1,content:`# A06 Fixing it 

<div class="dense">

-  Update the library to a version in which this vulnerability was fixed

</div>`,frontmatter:{},index:47,start:752,end:761,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:47,no:48},__clicksElements:[],__preloaded:!1}},{path:"49",name:"page-49",component:TC,meta:{slide:{raw:`
# A06 The Solution 

<div class="dense">

\`\`\`js
import { request } from 'undici' // updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>
`,title:"A06 The Solution ",level:1,content:`# A06 The Solution 

<div class="dense">

\`\`\`js
import { request } from 'undici' // updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:48,start:762,end:796,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:48,no:49},__clicksElements:[],__preloaded:!1}},{path:"50",name:"page-50",component:MC,meta:{slide:{raw:`
# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>
`,title:"A07 Identification and Authentication Failures",level:1,content:`# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>`,frontmatter:{},index:49,start:797,end:808,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:49,no:50},__clicksElements:[],__preloaded:!1}},{path:"51",name:"page-51",component:NC,meta:{slide:{raw:`
# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>
`,title:"A07 Common Vulnerabilities",level:1,content:`# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>`,frontmatter:{},index:50,start:809,end:822,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:50,no:51},__clicksElements:[],__preloaded:!1}},{path:"52",name:"page-52",component:VC,meta:{slide:{raw:`
# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>
`,title:"A07 How to prevent",level:1,content:`# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>`,frontmatter:{},index:51,start:823,end:836,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:51,no:52},__clicksElements:[],__preloaded:!1}},{path:"53",name:"page-53",component:KC,meta:{slide:{raw:`
# A07 Allowing leaked passwords 

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>
`,title:"A07 Allowing leaked passwords ",level:1,content:`# A07 Allowing leaked passwords 

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>`,frontmatter:{},index:52,start:837,end:848,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:52,no:53},__clicksElements:[],__preloaded:!1}},{path:"54",name:"page-54",component:JC,meta:{slide:{raw:`
# A07 Allowing leaked passwords  (2)

<div class="dense">

- In the workshop - the database contains the list of leaked passwords in \`databreachrecords\`
- Run the server for step 7 (\`cd src/a07-authentication-failures\`, \`npm start\`)
- In Postman, run the query for \`A07: Register\`. Observe a token is succesfully returned
- In the database check the \`databreachrecords\` table for password used in the Postman request body

</div>
`,title:"A07 Allowing leaked passwords  (2)",level:1,content:'# A07 Allowing leaked passwords  (2)\n\n<div class="dense">\n\n- In the workshop - the database contains the list of leaked passwords in `databreachrecords`\n- Run the server for step 7 (`cd src/a07-authentication-failures`, `npm start`)\n- In Postman, run the query for `A07: Register`. Observe a token is succesfully returned\n- In the database check the `databreachrecords` table for password used in the Postman request body\n\n</div>',frontmatter:{},index:53,start:849,end:861,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:53,no:54},__clicksElements:[],__preloaded:!1}},{path:"55",name:"page-55",component:tx,meta:{slide:{raw:`
# A07 Allowing leaked passwords  (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>
`,title:"A07 Allowing leaked passwords  (3)",level:1,content:`# A07 Allowing leaked passwords  (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>`,frontmatter:{},index:54,start:862,end:874,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:54,no:55},__clicksElements:[],__preloaded:!1}},{path:"56",name:"page-56",component:rx,meta:{slide:{raw:"\n# A07 Fixing it \n\n<div class=\"dense\">\n\n-  Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>\n",title:"A07 Fixing it ",level:1,content:"# A07 Fixing it \n\n<div class=\"dense\">\n\n-  Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>",frontmatter:{},index:55,start:875,end:886,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:55,no:56},__clicksElements:[],__preloaded:!1}},{path:"57",name:"page-57",component:ux,meta:{slide:{raw:`
# A07 Solution 

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>
`,title:"A07 Solution ",level:1,content:`# A07 Solution 

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>`,frontmatter:{},index:56,start:887,end:910,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:56,no:57},__clicksElements:[],__preloaded:!1}},{path:"58",name:"page-58",component:hx,meta:{slide:{raw:`
# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>
`,title:"A08 Software and Data Integrity Failures",level:1,content:`# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>`,frontmatter:{},index:57,start:911,end:921,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:57,no:58},__clicksElements:[],__preloaded:!1}},{path:"59",name:"page-59",component:vx,meta:{slide:{raw:`
# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>
`,title:"A08 Common Vulnerabilities",level:1,content:`# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>`,frontmatter:{},index:58,start:922,end:934,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:58,no:59},__clicksElements:[],__preloaded:!1}},{path:"60",name:"page-60",component:bx,meta:{slide:{raw:`
# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>
`,title:"A08 How to prevent",level:1,content:`# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>`,frontmatter:{},index:59,start:935,end:947,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:59,no:60},__clicksElements:[],__preloaded:!1}},{path:"61",name:"page-61",component:Cx,meta:{slide:{raw:'\n# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>\n',title:"A08 Exercise: Insecure Deserialization",level:1,content:'# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>',frontmatter:{},index:60,start:948,end:959,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:60,no:61},__clicksElements:[],__preloaded:!1}},{path:"62",name:"page-62",component:Px,meta:{slide:{raw:`
# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>
`,title:"A08 Exercise: Insecure Deserialization",level:1,content:`# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>`,frontmatter:{},index:61,start:960,end:981,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:61,no:62},__clicksElements:[],__preloaded:!1}},{path:"63",name:"page-63",component:Rx,meta:{slide:{raw:`
# A08 Fixing it 

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
-  \`JSON.parse\` is a safer way to deserialize data

</div>
`,title:"A08 Fixing it ",level:1,content:`# A08 Fixing it 

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
-  \`JSON.parse\` is a safer way to deserialize data

</div>`,frontmatter:{},index:62,start:982,end:994,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:62,no:63},__clicksElements:[],__preloaded:!1}},{path:"64",name:"page-64",component:Hx,meta:{slide:{raw:`
# A08 Solution 

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>
`,title:"A08 Solution ",level:1,content:`# A08 Solution 

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>`,frontmatter:{},index:63,start:995,end:1020,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:63,no:64},__clicksElements:[],__preloaded:!1}},{path:"65",name:"page-65",component:zx,meta:{slide:{raw:`
# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>
`,title:"A09 Security Logging and Monitoring Failures",level:1,content:`# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>`,frontmatter:{},index:64,start:1021,end:1031,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:64,no:65},__clicksElements:[],__preloaded:!1}},{path:"66",name:"page-66",component:Qx,meta:{slide:{raw:`
# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>
`,title:"A09 Common Vulnerabilities",level:1,content:`# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>`,frontmatter:{},index:65,start:1032,end:1044,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:65,no:66},__clicksElements:[],__preloaded:!1}},{path:"67",name:"page-67",component:e4,meta:{slide:{raw:`
# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>
`,title:"A09 How to prevent",level:1,content:`# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>`,frontmatter:{},index:66,start:1045,end:1056,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:66,no:67},__clicksElements:[],__preloaded:!1}},{path:"68",name:"page-68",component:o4,meta:{slide:{raw:`
# A09 Suspicious activity 

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>
`,title:"A09 Suspicious activity ",level:1,content:`# A09 Suspicious activity 

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>`,frontmatter:{},index:67,start:1057,end:1068,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:67,no:68},__clicksElements:[],__preloaded:!1}},{path:"69",name:"page-69",component:i4,meta:{slide:{raw:`
# A09 Fixing it 

<div class="dense">

-  Log user input to identify suspicious or malicious access
- Validate user input

</div>
`,title:"A09 Fixing it ",level:1,content:`# A09 Fixing it 

<div class="dense">

-  Log user input to identify suspicious or malicious access
- Validate user input

</div>`,frontmatter:{},index:68,start:1069,end:1079,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:68,no:69},__clicksElements:[],__preloaded:!1}},{path:"70",name:"page-70",component:f4,meta:{slide:{raw:`
# A09 Solution 

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>
`,title:"A09 Solution ",level:1,content:`# A09 Solution 

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>`,frontmatter:{},index:69,start:1080,end:1109,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:69,no:70},__clicksElements:[],__preloaded:!1}},{path:"71",name:"page-71",component:g4,meta:{slide:{raw:`
# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>
`,title:"A10 Server Side Request Forgery",level:1,content:`# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>`,frontmatter:{},index:70,start:1110,end:1120,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:70,no:71},__clicksElements:[],__preloaded:!1}},{path:"72",name:"page-72",component:A4,meta:{slide:{raw:`
# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
-  Do not mitigate SSRF via the use of a deny list or regular expression

</div>
`,title:"A10 How to prevent",level:1,content:`# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
-  Do not mitigate SSRF via the use of a deny list or regular expression

</div>`,frontmatter:{},index:71,start:1121,end:1134,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:71,no:72},__clicksElements:[],__preloaded:!1}},{path:"73",name:"page-73",component:k4,meta:{slide:{raw:`
# A10 The Attack 

<div class="dense">

- Run the server for step 10 (\`cd src/a10-server-side-request-forgery\`, \`npm start\`)
- In Postman, run the query for \`A10: Upload Image\`. Observe an image being returned
- Try to run the query for \`A10: Malicious Image url\`. Observe \`something suspicious is happening\` being returned
- The server is not sanitizing user input so it will send a request to whatever url provided in the payload

</div>
`,title:"A10 The Attack ",level:1,content:'# A10 The Attack \n\n<div class="dense">\n\n- Run the server for step 10 (`cd src/a10-server-side-request-forgery`, `npm start`)\n- In Postman, run the query for `A10: Upload Image`. Observe an image being returned\n- Try to run the query for `A10: Malicious Image url`. Observe `something suspicious is happening` being returned\n- The server is not sanitizing user input so it will send a request to whatever url provided in the payload\n\n</div>',frontmatter:{},index:72,start:1135,end:1147,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:72,no:73},__clicksElements:[],__preloaded:!1}},{path:"74",name:"page-74",component:S4,meta:{slide:{raw:`
# A10 Fixing it 

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
-  Make sure the requested domain is in the whitelist

</div>
`,title:"A10 Fixing it ",level:1,content:`# A10 Fixing it 

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
-  Make sure the requested domain is in the whitelist

</div>`,frontmatter:{},index:73,start:1148,end:1159,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:73,no:74},__clicksElements:[],__preloaded:!1}},{path:"75",name:"page-75",component:I4,meta:{slide:{raw:`
# A10 Solution 

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>
`,title:"A10 Solution ",level:1,content:`# A10 Solution 

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:74,start:1160,end:1192,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:74,no:75},__clicksElements:[],__preloaded:!1}},{path:"76",name:"page-76",component:F4,meta:{slide:{raw:`
# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>
`,title:"Beyond the Top 10",level:1,content:`# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>`,frontmatter:{},index:75,start:1193,end:1205,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:75,no:76},__clicksElements:[],__preloaded:!1}},{path:"77",name:"page-77",component:H4,meta:{slide:{raw:`
# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>
`,title:"Other useful OWASP resources",level:1,content:`# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>`,frontmatter:{},index:76,start:1206,end:1216,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:76,no:77},__clicksElements:[],__preloaded:!1}},{path:"78",name:"page-78",component:z4,meta:{slide:{raw:`
# Thanks For Having Us!

## 
`,title:"Thanks For Having Us!",level:1,content:`# Thanks For Having Us!

## `,frontmatter:{},index:77,start:1217,end:1222,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:77,no:78},__clicksElements:[],__preloaded:!1}},{path:"79",component:rE,meta:{layout:"end"}}],Qe=K4,io=[{name:"play",path:"/",component:Sb,children:[...Qe]},{name:"print",path:"/print",component:nE},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}];{let e=function(n){if(!ao.remote||ao.remote===n.query.password)return!0;if(ao.remote&&n.query.password===void 0){const s=prompt("Enter password");if(ao.remote===s)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}};io.push({path:"/presenter/print",component:()=>Ln(()=>import("./PresenterPrint-1e277f3b.js"),["assets/PresenterPrint-1e277f3b.js","assets/NoteDisplay-8e809c67.js"])}),io.push({name:"notes",path:"/notes",component:()=>Ln(()=>import("./NotesView-61197d11.js"),["assets/NotesView-61197d11.js","assets/NoteDisplay-8e809c67.js"]),beforeEnter:e}),io.push({name:"presenter",path:"/presenter/:no",component:()=>Ln(()=>import("./Presenter-1b3aa3df.js"),["assets/Presenter-1b3aa3df.js","assets/NoteDisplay-8e809c67.js","assets/DrawingControls-c94c2623.js","assets/Presenter-103ee41b.css"]),beforeEnter:e}),io.push({path:"/presenter",redirect:{path:"/presenter/1"}})}const wt=g0({history:m_("/owasp-top-ten-workshop/"),routes:io});function Y4(e,n,{mode:s="replace"}={}){return T({get(){const o=wt.currentRoute.value.query[e];return o==null?n??null:Array.isArray(o)?o.filter(Boolean):o},set(o){st(()=>{wt[C(s)]({query:{...wt.currentRoute.value.query,[e]:o}})})}})}const th=Y(0);st(()=>{wt.afterEach(async()=>{await st(),th.value+=1})});const nh=Y(0),Rt=T(()=>wt.currentRoute.value),Ns=T(()=>Rt.value.query.print!==void 0),G4=T(()=>Rt.value.query.print==="clicks"),cn=T(()=>Rt.value.query.embedded!==void 0),vt=T(()=>Rt.value.path.startsWith("/presenter")),Q4=T(()=>Rt.value.path.startsWith("/notes")),vo=T(()=>Ns.value&&!G4.value),Fa=T(()=>Rt.value.query.password),J4=T(()=>!vt.value&&(!$e.remote||Fa.value===$e.remote)),Lu=Y4("clicks","0"),Z4=T(()=>Qe.length-1),X4=T(()=>Rt.value.path),Ye=T(()=>parseInt(X4.value.split(/\//g).slice(-1)[0])||1);T(()=>yl(Ye.value));const dt=T(()=>Qe.find(e=>e.path===`${Ye.value}`));T(()=>{var e,n,s;return(s=(n=(e=dt.value)==null?void 0:e.meta)==null?void 0:n.slide)==null?void 0:s.id});T(()=>{var e,n;return((n=(e=dt.value)==null?void 0:e.meta)==null?void 0:n.layout)||(Ye.value===1?"cover":"default")});const ql=T(()=>Qe.find(e=>e.path===`${Math.min(Qe.length,Ye.value+1)}`)),e5=T(()=>Qe.find(e=>e.path===`${Math.max(1,Ye.value-1)}`)),t5=T(()=>{var e,n;return th.value,((n=(e=dt.value)==null?void 0:e.meta)==null?void 0:n.__clicksElements)||[]}),Mt=T({get(){if(vo.value)return 99999;let e=+(Lu.value||0);return isNaN(e)&&(e=0),e},set(e){Lu.value=e.toString()}}),Ur=T(()=>{var e,n;return+(((n=(e=dt.value)==null?void 0:e.meta)==null?void 0:n.clicks)??t5.value.length)}),n5=T(()=>Ye.value<Qe.length-1||Mt.value<Ur.value),s5=T(()=>Ye.value>1||Mt.value>0),o5=T(()=>Qe.filter(e=>{var n,s;return(s=(n=e.meta)==null?void 0:n.slide)==null?void 0:s.title}).reduce((e,n)=>(Pi(e,n),e),[])),r5=T(()=>Ii(o5.value,dt.value));T(()=>Mi(r5.value));const l5=T(()=>p5(nh.value,dt.value,e5.value));_e(dt,(e,n)=>{nh.value=Number(e==null?void 0:e.path)-Number(n==null?void 0:n.path)});function Fn(){Ur.value<=Mt.value?Lo():Mt.value+=1}async function Nn(){Mt.value<=0?await Ro():Mt.value-=1}function yl(e){return vt.value?`/presenter/${e}`:`/${e}`}function Lo(){const e=Math.min(Qe.length,Ye.value+1);return js(e)}async function Ro(e=!0){const n=Math.max(1,Ye.value-1);await js(n),e&&Ur.value&&wt.replace({query:{...Rt.value.query,clicks:Ur.value}})}function js(e,n){return wt.push({path:yl(e),query:{...Rt.value.query,clicks:n}})}function a5(e){const n=Y(0),{direction:s,distanceX:o,distanceY:r}=Nv(e,{onSwipeStart(l){l.pointerType==="touch"&&(Po.value||(n.value=_a()))},onSwipeEnd(l){if(l.pointerType!=="touch"||!n.value||Po.value)return;const a=Math.abs(o.value),i=Math.abs(r.value);a/window.innerWidth>.3||a>100?s.value==="left"?Fn():Nn():(i/window.innerHeight>.4||i>200)&&(s.value==="down"?Ro():Lo())}})}async function Na(){const{saveAs:e}=await Ln(()=>import("./FileSaver.min-17c85779.js").then(n=>n.F),[]);e(typeof $e.download=="string"?$e.download:$e.exportFilename?`${$e.exportFilename}.pdf`:"/owasp-top-ten-workshop/slidev-exported.pdf",`${$e.title}.pdf`)}async function i5(e){var n,s;if(e==null){const o=(s=(n=dt.value)==null?void 0:n.meta)==null?void 0:s.slide;if(!(o!=null&&o.filepath))return!1;e=`${o.filepath}:${o.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(e)}`),!0}function Pi(e,n,s=1){var r,l,a,i,c;const o=(l=(r=n.meta)==null?void 0:r.slide)==null?void 0:l.level;o&&o>s&&e.length>0?Pi(e[e.length-1].children,n,s+1):e.push({children:[],level:s,path:n.path,hideInToc:!!((a=n.meta)!=null&&a.hideInToc),title:(c=(i=n.meta)==null?void 0:i.slide)==null?void 0:c.title})}function Ii(e,n,s=!1,o){return e.map(r=>{const l={...r,active:r.path===(n==null?void 0:n.path),hasActiveParent:s};return l.children.length>0&&(l.children=Ii(l.children,n,l.active||l.hasActiveParent,l)),o&&(l.active||l.activeParent)&&(o.activeParent=!0),l})}function Mi(e,n=1){return e.filter(s=>!s.hideInToc).map(s=>({...s,children:Mi(s.children,n+1)}))}const c5={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function u5(e,n=!1){if(!e||(typeof e=="string"&&(e={name:e}),!e.name))return;let s=e.name.includes("|")?e.name:c5[e.name]||e.name;if(s.includes("|")){const[o,r]=s.split("|").map(l=>l.trim());s=n?r:o}if(s)return{...e,name:s}}function p5(e,n,s){var r,l;let o=e>0?(r=s==null?void 0:s.meta)==null?void 0:r.transition:(l=n==null?void 0:n.meta)==null?void 0:l.transition;return o||(o=$e.transition),u5(o,e<0)}function d5(){const e=$e.titleTemplate.replace("%s",$e.title||"Slidev");Wd({title:e,htmlAttrs:$e.htmlAttrs}),_6(`${e} - shared`),E6(`${e} - drawings`);const n=`${location.origin}_${f6()}`;function s(){Q4.value||!vt.value&&!d6.includes(location.host.split(":")[0])||(vt.value?(Js("page",+Ye.value),Js("clicks",Mt.value)):(Js("viewerPage",+Ye.value),Js("viewerClicks",Mt.value)),Js("lastUpdate",{id:n,type:vt.value?"presenter":"viewer",time:new Date().getTime()}))}wt.afterEach(s),_e(Mt,s),w6(o=>{var l;wt.currentRoute.value.path.match(/^\/(\d+|presenter)\/?/)&&((l=o.lastUpdate)==null?void 0:l.type)==="presenter"&&(+o.page!=+Ye.value||+Mt.value!=+o.clicks)&&wt.replace({path:yl(o.page),query:{...wt.currentRoute.value.query,clicks:o.clicks||0}})})}const f5=Re({__name:"App",setup(e){return P(F),d5(),(n,s)=>{const o=Ir("RouterView"),r=Ir("StarportCarrier");return D(),oe(Te,null,[te(o),te(r)],64)}}}),h5=N(f5,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/App.vue"]]);function Hl(e){return e!==null&&typeof e=="object"}function ja(e,n,s=".",o){if(!Hl(n))return ja(e,{},s,o);const r=Object.assign({},n);for(const l in e){if(l==="__proto__"||l==="constructor")continue;const a=e[l];a!=null&&(o&&o(r,l,a,s)||(Array.isArray(a)&&Array.isArray(r[l])?r[l]=[...a,...r[l]]:Hl(a)&&Hl(r[l])?r[l]=ja(a,r[l],(s?`${s}.`:"")+l.toString(),o):r[l]=a))}return r}function y5(e){return(...n)=>n.reduce((s,o)=>ja(s,o,"",e),{})}const m5=y5();var Ru;const sh=typeof window<"u",g5=Object.prototype.toString,v5=e=>typeof e=="number",_5=e=>typeof e=="string",qa=e=>g5.call(e)==="[object Object]",Er=()=>{};sh&&((Ru=window==null?void 0:window.navigator)!=null&&Ru.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function oh(e){return typeof e=="function"?e():C(e)}function w5(e){return e}function rh(e){return Qr()?(ni(e),!0):!1}function A5(e,n=!0){yt()?wn(e):n?e():st(e)}function b5(e){yt()&&il(e)}function Wr(e){var n;const s=oh(e);return(n=s==null?void 0:s.$el)!=null?n:s}const lh=sh?window:void 0;function jt(...e){let n,s,o,r;if(_5(e[0])||Array.isArray(e[0])?([s,o,r]=e,n=lh):[n,s,o,r]=e,!n)return Er;Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]);const l=[],a=()=>{l.forEach(d=>d()),l.length=0},i=(d,f,h,y)=>(d.addEventListener(f,h,y),()=>d.removeEventListener(f,h,y)),c=_e(()=>[Wr(n),oh(r)],([d,f])=>{a(),d&&l.push(...s.flatMap(h=>o.map(y=>i(d,h,y,f))))},{immediate:!0,flush:"post"}),p=()=>{c(),a()};return rh(p),p}function E5(e,n=!1){const s=Y(),o=()=>s.value=!!e();return o(),A5(o,n),s}const Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nu="__vueuse_ssr_handlers__";Fu[Nu]=Fu[Nu]||{};function D5(e,n,s={}){const{root:o,rootMargin:r="0px",threshold:l=.1,window:a=lh}=s,i=E5(()=>a&&"IntersectionObserver"in a);let c=Er;const p=i.value?_e(()=>({el:Wr(e),root:Wr(o)}),({el:f,root:h})=>{if(c(),!f)return;const y=new IntersectionObserver(n,{root:h,rootMargin:r,threshold:l});y.observe(f),c=()=>{y.disconnect(),c=Er}},{immediate:!0,flush:"post"}):Er,d=()=>{c(),p()};return rh(d),{isSupported:i,stop:d}}var ju;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ju||(ju={}));var k5=Object.defineProperty,qu=Object.getOwnPropertySymbols,C5=Object.prototype.hasOwnProperty,x5=Object.prototype.propertyIsEnumerable,Hu=(e,n,s)=>n in e?k5(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,B5=(e,n)=>{for(var s in n||(n={}))C5.call(n,s)&&Hu(e,s,n[s]);if(qu)for(var s of qu(n))x5.call(n,s)&&Hu(e,s,n[s]);return e};const S5={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};B5({linear:w5},S5);const ah=1/60*1e3,$5=typeof performance<"u"?()=>performance.now():()=>Date.now(),ih=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e($5()),ah);function T5(e){let n=[],s=[],o=0,r=!1,l=!1;const a=new WeakSet,i={schedule:(c,p=!1,d=!1)=>{const f=d&&r,h=f?n:s;return p&&a.add(c),h.indexOf(c)===-1&&(h.push(c),f&&r&&(o=n.length)),c},cancel:c=>{const p=s.indexOf(c);p!==-1&&s.splice(p,1),a.delete(c)},process:c=>{if(r){l=!0;return}if(r=!0,[n,s]=[s,n],s.length=0,o=n.length,o)for(let p=0;p<o;p++){const d=n[p];d(c),a.has(d)&&(i.schedule(d),e())}r=!1,l&&(l=!1,i.process(c))}};return i}const O5=40;let Ha=!0,Fo=!1,Va=!1;const Ms={delta:0,timestamp:0},Ko=["read","update","preRender","render","postRender"],ml=Ko.reduce((e,n)=>(e[n]=T5(()=>Fo=!0),e),{}),Ua=Ko.reduce((e,n)=>{const s=ml[n];return e[n]=(o,r=!1,l=!1)=>(Fo||M5(),s.schedule(o,r,l)),e},{}),P5=Ko.reduce((e,n)=>(e[n]=ml[n].cancel,e),{});Ko.reduce((e,n)=>(e[n]=()=>ml[n].process(Ms),e),{});const I5=e=>ml[e].process(Ms),ch=e=>{Fo=!1,Ms.delta=Ha?ah:Math.max(Math.min(e-Ms.timestamp,O5),1),Ms.timestamp=e,Va=!0,Ko.forEach(I5),Va=!1,Fo&&(Ha=!1,ih(ch))},M5=()=>{Fo=!0,Ha=!0,Va||ih(ch)},uh=()=>Ms;function ph(e,n){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(s[o[r]]=e[o[r]]);return s}var Li=function(){},No=function(){};Li=function(e,n){!e&&typeof console<"u"&&console.warn(n)},No=function(e,n){if(!e)throw new Error(n)};const Wa=(e,n,s)=>Math.min(Math.max(s,e),n),Vl=.001,L5=.01,Vu=10,R5=.05,F5=1;function N5({duration:e=800,bounce:n=.25,velocity:s=0,mass:o=1}){let r,l;Li(e<=Vu*1e3,"Spring duration must be 10 seconds or less");let a=1-n;a=Wa(R5,F5,a),e=Wa(L5,Vu,e/1e3),a<1?(r=p=>{const d=p*a,f=d*e,h=d-s,y=za(p,a),m=Math.exp(-f);return Vl-h/y*m},l=p=>{const f=p*a*e,h=f*s+s,y=Math.pow(a,2)*Math.pow(p,2)*e,m=Math.exp(-f),v=za(Math.pow(p,2),a);return(-r(p)+Vl>0?-1:1)*((h-y)*m)/v}):(r=p=>{const d=Math.exp(-p*e),f=(p-s)*e+1;return-Vl+d*f},l=p=>{const d=Math.exp(-p*e),f=(s-p)*(e*e);return d*f});const i=5/e,c=q5(r,l,i);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const p=Math.pow(c,2)*o;return{stiffness:p,damping:a*2*Math.sqrt(o*p),duration:e}}}const j5=12;function q5(e,n,s){let o=s;for(let r=1;r<j5;r++)o=o-e(o)/n(o);return o}function za(e,n){return e*Math.sqrt(1-n*n)}const H5=["duration","bounce"],V5=["stiffness","damping","mass"];function Uu(e,n){return n.some(s=>e[s]!==void 0)}function U5(e){let n=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Uu(e,V5)&&Uu(e,H5)){const s=N5(e);n=Object.assign(Object.assign(Object.assign({},n),s),{velocity:0,mass:1}),n.isResolvedFromDuration=!0}return n}function Ri(e){var{from:n=0,to:s=1,restSpeed:o=2,restDelta:r}=e,l=ph(e,["from","to","restSpeed","restDelta"]);const a={done:!1,value:n};let{stiffness:i,damping:c,mass:p,velocity:d,duration:f,isResolvedFromDuration:h}=U5(l),y=Wu,m=Wu;function v(){const w=d?-(d/1e3):0,A=s-n,E=c/(2*Math.sqrt(i*p)),_=Math.sqrt(i/p)/1e3;if(r===void 0&&(r=Math.min(Math.abs(s-n)/100,.4)),E<1){const k=za(_,E);y=S=>{const B=Math.exp(-E*_*S);return s-B*((w+E*_*A)/k*Math.sin(k*S)+A*Math.cos(k*S))},m=S=>{const B=Math.exp(-E*_*S);return E*_*B*(Math.sin(k*S)*(w+E*_*A)/k+A*Math.cos(k*S))-B*(Math.cos(k*S)*(w+E*_*A)-k*A*Math.sin(k*S))}}else if(E===1)y=k=>s-Math.exp(-_*k)*(A+(w+_*A)*k);else{const k=_*Math.sqrt(E*E-1);y=S=>{const B=Math.exp(-E*_*S),j=Math.min(k*S,300);return s-B*((w+E*_*A)*Math.sinh(j)+k*A*Math.cosh(j))/k}}}return v(),{next:w=>{const A=y(w);if(h)a.done=w>=f;else{const E=m(w)*1e3,_=Math.abs(E)<=o,k=Math.abs(s-A)<=r;a.done=_&&k}return a.value=a.done?s:A,a},flipTarget:()=>{d=-d,[n,s]=[s,n],v()}}}Ri.needsInterpolation=(e,n)=>typeof e=="string"||typeof n=="string";const Wu=e=>0,dh=(e,n,s)=>{const o=n-e;return o===0?1:(s-e)/o},Fi=(e,n,s)=>-s*e+s*n+e,fh=(e,n)=>s=>Math.max(Math.min(s,n),e),_o=e=>e%1?Number(e.toFixed(5)):e,jo=/(-)?([\d]*\.?[\d])+/g,Ka=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,W5=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Yo(e){return typeof e=="string"}const Go={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wo=Object.assign(Object.assign({},Go),{transform:fh(0,1)}),fr=Object.assign(Object.assign({},Go),{default:1}),Ni=e=>({test:n=>Yo(n)&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),Gn=Ni("deg"),Ao=Ni("%"),we=Ni("px"),zu=Object.assign(Object.assign({},Ao),{parse:e=>Ao.parse(e)/100,transform:e=>Ao.transform(e*100)}),ji=(e,n)=>s=>!!(Yo(s)&&W5.test(s)&&s.startsWith(e)||n&&Object.prototype.hasOwnProperty.call(s,n)),hh=(e,n,s)=>o=>{if(!Yo(o))return o;const[r,l,a,i]=o.match(jo);return{[e]:parseFloat(r),[n]:parseFloat(l),[s]:parseFloat(a),alpha:i!==void 0?parseFloat(i):1}},is={test:ji("hsl","hue"),parse:hh("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(e)+", "+Ao.transform(_o(n))+", "+Ao.transform(_o(s))+", "+_o(wo.transform(o))+")"},z5=fh(0,255),Ul=Object.assign(Object.assign({},Go),{transform:e=>Math.round(z5(e))}),Tn={test:ji("rgb","red"),parse:hh("red","green","blue"),transform:({red:e,green:n,blue:s,alpha:o=1})=>"rgba("+Ul.transform(e)+", "+Ul.transform(n)+", "+Ul.transform(s)+", "+_o(wo.transform(o))+")"};function K5(e){let n="",s="",o="",r="";return e.length>5?(n=e.substr(1,2),s=e.substr(3,2),o=e.substr(5,2),r=e.substr(7,2)):(n=e.substr(1,1),s=e.substr(2,1),o=e.substr(3,1),r=e.substr(4,1),n+=n,s+=s,o+=o,r+=r),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}}const Ya={test:ji("#"),parse:K5,transform:Tn.transform},gt={test:e=>Tn.test(e)||Ya.test(e)||is.test(e),parse:e=>Tn.test(e)?Tn.parse(e):is.test(e)?is.parse(e):Ya.parse(e),transform:e=>Yo(e)?e:e.hasOwnProperty("red")?Tn.transform(e):is.transform(e)},yh="${c}",mh="${n}";function Y5(e){var n,s,o,r;return isNaN(e)&&Yo(e)&&((s=(n=e.match(jo))===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0)+((r=(o=e.match(Ka))===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0)>0}function gh(e){typeof e=="number"&&(e=`${e}`);const n=[];let s=0;const o=e.match(Ka);o&&(s=o.length,e=e.replace(Ka,yh),n.push(...o.map(gt.parse)));const r=e.match(jo);return r&&(e=e.replace(jo,mh),n.push(...r.map(Go.parse))),{values:n,numColors:s,tokenised:e}}function vh(e){return gh(e).values}function _h(e){const{values:n,numColors:s,tokenised:o}=gh(e),r=n.length;return l=>{let a=o;for(let i=0;i<r;i++)a=a.replace(i<s?yh:mh,i<s?gt.transform(l[i]):_o(l[i]));return a}}const G5=e=>typeof e=="number"?0:e;function Q5(e){const n=vh(e);return _h(e)(n.map(G5))}const Qo={test:Y5,parse:vh,createTransformer:_h,getAnimatableNone:Q5},J5=new Set(["brightness","contrast","saturate","opacity"]);function Z5(e){let[n,s]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[o]=s.match(jo)||[];if(!o)return e;const r=s.replace(o,"");let l=J5.has(n)?1:0;return o!==s&&(l*=100),n+"("+l+r+")"}const X5=/([a-z-]*)\(.*?\)/g,Ga=Object.assign(Object.assign({},Qo),{getAnimatableNone:e=>{const n=e.match(X5);return n?n.map(Z5).join(" "):e}});function Wl(e,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(n-e)*6*s:s<1/2?n:s<2/3?e+(n-e)*(2/3-s)*6:e}function Ku({hue:e,saturation:n,lightness:s,alpha:o}){e/=360,n/=100,s/=100;let r=0,l=0,a=0;if(!n)r=l=a=s;else{const i=s<.5?s*(1+n):s+n-s*n,c=2*s-i;r=Wl(c,i,e+1/3),l=Wl(c,i,e),a=Wl(c,i,e-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(a*255),alpha:o}}const eB=(e,n,s)=>{const o=e*e,r=n*n;return Math.sqrt(Math.max(0,s*(r-o)+o))},tB=[Ya,Tn,is],Yu=e=>tB.find(n=>n.test(e)),Gu=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,wh=(e,n)=>{let s=Yu(e),o=Yu(n);No(!!s,Gu(e)),No(!!o,Gu(n));let r=s.parse(e),l=o.parse(n);s===is&&(r=Ku(r),s=Tn),o===is&&(l=Ku(l),o=Tn);const a=Object.assign({},r);return i=>{for(const c in a)c!=="alpha"&&(a[c]=eB(r[c],l[c],i));return a.alpha=Fi(r.alpha,l.alpha,i),s.transform(a)}},nB=e=>typeof e=="number",sB=(e,n)=>s=>n(e(s)),Ah=(...e)=>e.reduce(sB);function bh(e,n){return nB(e)?s=>Fi(e,n,s):gt.test(e)?wh(e,n):Dh(e,n)}const Eh=(e,n)=>{const s=[...e],o=s.length,r=e.map((l,a)=>bh(l,n[a]));return l=>{for(let a=0;a<o;a++)s[a]=r[a](l);return s}},oB=(e,n)=>{const s=Object.assign(Object.assign({},e),n),o={};for(const r in s)e[r]!==void 0&&n[r]!==void 0&&(o[r]=bh(e[r],n[r]));return r=>{for(const l in o)s[l]=o[l](r);return s}};function Qu(e){const n=Qo.parse(e),s=n.length;let o=0,r=0,l=0;for(let a=0;a<s;a++)o||typeof n[a]=="number"?o++:n[a].hue!==void 0?l++:r++;return{parsed:n,numNumbers:o,numRGB:r,numHSL:l}}const Dh=(e,n)=>{const s=Qo.createTransformer(n),o=Qu(e),r=Qu(n);return o.numHSL===r.numHSL&&o.numRGB===r.numRGB&&o.numNumbers>=r.numNumbers?Ah(Eh(o.parsed,r.parsed),s):(Li(!0,`Complex values '${e}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),a=>`${a>0?n:e}`)},rB=(e,n)=>s=>Fi(e,n,s);function lB(e){if(typeof e=="number")return rB;if(typeof e=="string")return gt.test(e)?wh:Dh;if(Array.isArray(e))return Eh;if(typeof e=="object")return oB}function aB(e,n,s){const o=[],r=s||lB(e[0]),l=e.length-1;for(let a=0;a<l;a++){let i=r(e[a],e[a+1]);if(n){const c=Array.isArray(n)?n[a]:n;i=Ah(c,i)}o.push(i)}return o}function iB([e,n],[s]){return o=>s(dh(e,n,o))}function cB(e,n){const s=e.length,o=s-1;return r=>{let l=0,a=!1;if(r<=e[0]?a=!0:r>=e[o]&&(l=o-1,a=!0),!a){let c=1;for(;c<s&&!(e[c]>r||c===o);c++);l=c-1}const i=dh(e[l],e[l+1],r);return n[l](i)}}function kh(e,n,{clamp:s=!0,ease:o,mixer:r}={}){const l=e.length;No(l===n.length,"Both input and output ranges must be the same length"),No(!o||!Array.isArray(o)||o.length===l-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[l-1]&&(e=[].concat(e),n=[].concat(n),e.reverse(),n.reverse());const a=aB(n,o,r),i=l===2?iB(e,a):cB(e,a);return s?c=>i(Wa(e[0],e[l-1],c)):i}const gl=e=>n=>1-e(1-n),qi=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,uB=e=>n=>Math.pow(n,e),Ch=e=>n=>n*n*((e+1)*n-e),pB=e=>{const n=Ch(e);return s=>(s*=2)<1?.5*n(s):.5*(2-Math.pow(2,-10*(s-1)))},xh=1.525,dB=4/11,fB=8/11,hB=9/10,Bh=e=>e,Hi=uB(2),yB=gl(Hi),Sh=qi(Hi),$h=e=>1-Math.sin(Math.acos(e)),Th=gl($h),mB=qi(Th),Vi=Ch(xh),gB=gl(Vi),vB=qi(Vi),_B=pB(xh),wB=4356/361,AB=35442/1805,bB=16061/1805,zr=e=>{if(e===1||e===0)return e;const n=e*e;return e<dB?7.5625*n:e<fB?9.075*n-9.9*e+3.4:e<hB?wB*n-AB*e+bB:10.8*e*e-20.52*e+10.72},EB=gl(zr),DB=e=>e<.5?.5*(1-zr(1-e*2)):.5*zr(e*2-1)+.5;function kB(e,n){return e.map(()=>n||Sh).splice(0,e.length-1)}function CB(e){const n=e.length;return e.map((s,o)=>o!==0?o/(n-1):0)}function xB(e,n){return e.map(s=>s*n)}function Dr({from:e=0,to:n=1,ease:s,offset:o,duration:r=300}){const l={done:!1,value:e},a=Array.isArray(n)?n:[e,n],i=xB(o&&o.length===a.length?o:CB(a),r);function c(){return kh(i,a,{ease:Array.isArray(s)?s:kB(a,s)})}let p=c();return{next:d=>(l.value=p(d),l.done=d>=r,l),flipTarget:()=>{a.reverse(),p=c()}}}function BB({velocity:e=0,from:n=0,power:s=.8,timeConstant:o=350,restDelta:r=.5,modifyTarget:l}){const a={done:!1,value:n};let i=s*e;const c=n+i,p=l===void 0?c:l(c);return p!==c&&(i=p-n),{next:d=>{const f=-i*Math.exp(-d/o);return a.done=!(f>r||f<-r),a.value=a.done?p:p+f,a},flipTarget:()=>{}}}const Ju={keyframes:Dr,spring:Ri,decay:BB};function SB(e){if(Array.isArray(e.to))return Dr;if(Ju[e.type])return Ju[e.type];const n=new Set(Object.keys(e));return n.has("ease")||n.has("duration")&&!n.has("dampingRatio")?Dr:n.has("dampingRatio")||n.has("stiffness")||n.has("mass")||n.has("damping")||n.has("restSpeed")||n.has("restDelta")?Ri:Dr}function Oh(e,n,s=0){return e-n-s}function $B(e,n,s=0,o=!0){return o?Oh(n+-e,n,s):n-(e-n)+s}function TB(e,n,s,o){return o?e>=n+s:e<=-s}const OB=e=>{const n=({delta:s})=>e(s);return{start:()=>Ua.update(n,!0),stop:()=>P5.update(n)}};function Ph(e){var n,s,{from:o,autoplay:r=!0,driver:l=OB,elapsed:a=0,repeat:i=0,repeatType:c="loop",repeatDelay:p=0,onPlay:d,onStop:f,onComplete:h,onRepeat:y,onUpdate:m}=e,v=ph(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:w}=v,A,E=0,_=v.duration,k,S=!1,B=!0,j;const $=SB(v);!((s=(n=$).needsInterpolation)===null||s===void 0)&&s.call(n,o,w)&&(j=kh([0,100],[o,w],{clamp:!1}),o=0,w=100);const V=$(Object.assign(Object.assign({},v),{from:o,to:w}));function ne(){E++,c==="reverse"?(B=E%2===0,a=$B(a,_,p,B)):(a=Oh(a,_,p),c==="mirror"&&V.flipTarget()),S=!1,y&&y()}function pe(){A.stop(),h&&h()}function K(ve){if(B||(ve=-ve),a+=ve,!S){const be=V.next(Math.max(0,a));k=be.value,j&&(k=j(k)),S=B?be.done:a<=0}m==null||m(k),S&&(E===0&&(_??(_=a)),E<i?TB(a,_,p,B)&&ne():pe())}function Ae(){d==null||d(),A=l(K),A.start()}return r&&Ae(),{stop:()=>{f==null||f(),A.stop()}}}function Ih(e,n){return n?e*(1e3/n):0}function PB({from:e=0,velocity:n=0,min:s,max:o,power:r=.8,timeConstant:l=750,bounceStiffness:a=500,bounceDamping:i=10,restDelta:c=1,modifyTarget:p,driver:d,onUpdate:f,onComplete:h,onStop:y}){let m;function v(_){return s!==void 0&&_<s||o!==void 0&&_>o}function w(_){return s===void 0?o:o===void 0||Math.abs(s-_)<Math.abs(o-_)?s:o}function A(_){m==null||m.stop(),m=Ph(Object.assign(Object.assign({},_),{driver:d,onUpdate:k=>{var S;f==null||f(k),(S=_.onUpdate)===null||S===void 0||S.call(_,k)},onComplete:h,onStop:y}))}function E(_){A(Object.assign({type:"spring",stiffness:a,damping:i,restDelta:c},_))}if(v(e))E({from:e,velocity:n,to:w(e)});else{let _=r*n+e;typeof p<"u"&&(_=p(_));const k=w(_),S=k===s?-1:1;let B,j;const $=V=>{B=j,j=V,n=Ih(V-B,uh().delta),(S===1&&V>k||S===-1&&V<k)&&E({from:V,to:k,velocity:n})};A({type:"decay",from:e,velocity:n,timeConstant:l,power:r,restDelta:c,modifyTarget:p,onUpdate:v(_)?$:void 0})}return{stop:()=>m==null?void 0:m.stop()}}const Mh=(e,n)=>1-3*n+3*e,Lh=(e,n)=>3*n-6*e,Rh=e=>3*e,Kr=(e,n,s)=>((Mh(n,s)*e+Lh(n,s))*e+Rh(n))*e,Fh=(e,n,s)=>3*Mh(n,s)*e*e+2*Lh(n,s)*e+Rh(n),IB=1e-7,MB=10;function LB(e,n,s,o,r){let l,a,i=0;do a=n+(s-n)/2,l=Kr(a,o,r)-e,l>0?s=a:n=a;while(Math.abs(l)>IB&&++i<MB);return a}const RB=8,FB=.001;function NB(e,n,s,o){for(let r=0;r<RB;++r){const l=Fh(n,s,o);if(l===0)return n;const a=Kr(n,s,o)-e;n-=a/l}return n}const kr=11,hr=1/(kr-1);function jB(e,n,s,o){if(e===n&&s===o)return Bh;const r=new Float32Array(kr);for(let a=0;a<kr;++a)r[a]=Kr(a*hr,e,s);function l(a){let i=0,c=1;const p=kr-1;for(;c!==p&&r[c]<=a;++c)i+=hr;--c;const d=(a-r[c])/(r[c+1]-r[c]),f=i+d*hr,h=Fh(f,e,s);return h>=FB?NB(a,f,e,s):h===0?f:LB(a,i,i+hr,e,s)}return a=>a===0||a===1?a:Kr(l(a),n,o)}const zl={};class qB{constructor(){this.subscriptions=new Set}add(n){return this.subscriptions.add(n),()=>this.subscriptions.delete(n)}notify(n,s,o){if(this.subscriptions.size)for(const r of this.subscriptions)r(n,s,o)}clear(){this.subscriptions.clear()}}const Zu=e=>!isNaN(parseFloat(e));class HB{constructor(n){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new qB,this.canTrackVelocity=!1,this.updateAndNotify=s=>{this.prev=this.current,this.current=s;const{delta:o,timestamp:r}=uh();this.lastUpdated!==r&&(this.timeDelta=o,this.lastUpdated=r),Ua.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Ua.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{this.canTrackVelocity||(this.canTrackVelocity=Zu(this.current)),s!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=n,this.canTrackVelocity=Zu(this.current)}onChange(n){return this.updateSubscribers.add(n)}clearListeners(){this.updateSubscribers.clear()}set(n){this.updateAndNotify(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ih(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(n){return this.stop(),new Promise(s=>{const{stop:o}=n(s);this.stopAnimation=o}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function VB(e){return new HB(e)}const{isArray:UB}=Array;function WB(){const e=Y({}),n=o=>{const r=l=>{e.value[l]&&(e.value[l].stop(),e.value[l].destroy(),delete e.value[l])};o?UB(o)?o.forEach(r):r(o):Object.keys(e.value).forEach(r)},s=(o,r,l)=>{if(e.value[o])return e.value[o];const a=VB(r);return a.onChange(i=>l[o]=i),e.value[o]=a,a};return b5(n),{motionValues:e,get:s,stop:n}}const zB=e=>Array.isArray(e),Qn=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),Kl=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),KB=e=>({type:"spring",stiffness:550,damping:e===0?100:30,restDelta:.01,restSpeed:10}),Yl=()=>({type:"keyframes",ease:"linear",duration:300}),YB=e=>({type:"keyframes",duration:800,values:e}),Xu={default:KB,x:Qn,y:Qn,z:Qn,rotate:Qn,rotateX:Qn,rotateY:Qn,rotateZ:Qn,scaleX:Kl,scaleY:Kl,scale:Kl,backgroundColor:Yl,color:Yl,opacity:Yl},Nh=(e,n)=>{let s;return zB(n)?s=YB:s=Xu[e]||Xu.default,{to:n,...s(n)}},ep={...Go,transform:Math.round},jh={color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,size:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,rotate:Gn,rotateX:Gn,rotateY:Gn,rotateZ:Gn,scale:fr,scaleX:fr,scaleY:fr,scaleZ:fr,skew:Gn,skewX:Gn,skewY:Gn,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:wo,originX:zu,originY:zu,originZ:we,zIndex:ep,filter:Ga,WebkitFilter:Ga,fillOpacity:wo,strokeOpacity:wo,numOctaves:ep},Ui=e=>jh[e],qh=(e,n)=>n&&typeof e=="number"&&n.transform?n.transform(e):e;function GB(e,n){let s=Ui(e);return s!==Ga&&(s=Qo),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const QB={linear:Bh,easeIn:Hi,easeInOut:Sh,easeOut:yB,circIn:$h,circInOut:mB,circOut:Th,backIn:Vi,backInOut:vB,backOut:gB,anticipate:_B,bounceIn:EB,bounceInOut:DB,bounceOut:zr},tp=e=>{if(Array.isArray(e)){const[n,s,o,r]=e;return jB(n,s,o,r)}else if(typeof e=="string")return QB[e];return e},JB=e=>Array.isArray(e)&&typeof e[0]!="number",np=(e,n)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&Qo.test(n)&&!n.startsWith("url("));function ZB(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function XB({ease:e,times:n,delay:s,...o}){const r={...o};return n&&(r.offset=n),e&&(r.ease=JB(e)?e.map(tp):tp(e)),s&&(r.elapsed=-s),r}function e2(e,n,s){return Array.isArray(n.to)&&(e.duration||(e.duration=800)),ZB(n),t2(e)||(e={...e,...Nh(s,n.to)}),{...n,...XB(e)}}function t2({delay:e,repeat:n,repeatType:s,repeatDelay:o,from:r,...l}){return!!Object.keys(l).length}function n2(e,n){return e[n]||e.default||e}function s2(e,n,s,o,r){const l=n2(o,e);let a=l.from===null||l.from===void 0?n.get():l.from;const i=np(e,s);a==="none"&&i&&typeof s=="string"&&(a=GB(e,s));const c=np(e,a);function p(f){const h={from:a,to:s,velocity:o.velocity?o.velocity:n.getVelocity(),onUpdate:y=>n.set(y)};return l.type==="inertia"||l.type==="decay"?PB({...h,...l}):Ph({...e2(l,h,e),onUpdate:y=>{h.onUpdate(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o.onComplete&&o.onComplete(),r&&r(),f&&f()}})}function d(f){return n.set(s),o.onComplete&&o.onComplete(),r&&r(),f&&f(),{stop:()=>{}}}return!c||!i||l.type===!1?d:p}function o2(){const{motionValues:e,stop:n,get:s}=WB();return{motionValues:e,stop:n,push:(r,l,a,i={},c)=>{const p=a[r],d=s(r,p,a);if(i&&i.immediate){d.set(l);return}const f=s2(r,d,l,i,c);d.start(f)}}}function r2(e,n={},{motionValues:s,push:o,stop:r}=o2()){const l=C(n),a=Y(!1);_e(s,f=>{a.value=Object.values(f).filter(h=>h.isAnimating()).length>0},{immediate:!0,deep:!0});const i=f=>{if(!l||!l[f])throw new Error(`The variant ${f} does not exist.`);return l[f]},c=f=>(typeof f=="string"&&(f=i(f)),Promise.all(Object.entries(f).map(([h,y])=>{if(h!=="transition")return new Promise(m=>o(h,y,e,f.transition||Nh(h,f[h]),m))}).filter(Boolean)));return{isAnimating:a,apply:c,set:f=>{const h=qa(f)?f:i(f);Object.entries(h).forEach(([y,m])=>{y!=="transition"&&o(y,m,e,{immediate:!0})})},leave:async f=>{let h;if(l&&(l.leave&&(h=l.leave),!l.leave&&l.initial&&(h=l.initial)),!h){f();return}await c(h),f()},stop:r}}const Wi=typeof window<"u",l2=()=>Wi&&window.onpointerdown===null,a2=()=>Wi&&window.ontouchstart===null,i2=()=>Wi&&window.onmousedown===null;function c2({target:e,state:n,variants:s,apply:o}){const r=C(s),l=Y(!1),a=Y(!1),i=Y(!1),c=T(()=>{let d=[];return r&&(r.hovered&&(d=[...d,...Object.keys(r.hovered)]),r.tapped&&(d=[...d,...Object.keys(r.tapped)]),r.focused&&(d=[...d,...Object.keys(r.focused)])),d}),p=T(()=>{const d={};Object.assign(d,n.value),l.value&&r.hovered&&Object.assign(d,r.hovered),a.value&&r.tapped&&Object.assign(d,r.tapped),i.value&&r.focused&&Object.assign(d,r.focused);for(const f in d)c.value.includes(f)||delete d[f];return d});r.hovered&&(jt(e,"mouseenter",()=>l.value=!0),jt(e,"mouseleave",()=>{l.value=!1,a.value=!1}),jt(e,"mouseout",()=>{l.value=!1,a.value=!1})),r.tapped&&(i2()&&(jt(e,"mousedown",()=>a.value=!0),jt(e,"mouseup",()=>a.value=!1)),l2()&&(jt(e,"pointerdown",()=>a.value=!0),jt(e,"pointerup",()=>a.value=!1)),a2()&&(jt(e,"touchstart",()=>a.value=!0),jt(e,"touchend",()=>a.value=!1))),r.focused&&(jt(e,"focus",()=>i.value=!0),jt(e,"blur",()=>i.value=!1)),_e(p,o)}function u2({set:e,target:n,apply:s,variants:o,variant:r}){const l=C(o);_e(()=>n,()=>{l&&(l.initial&&e("initial"),l.enter&&(r.value="enter"))},{immediate:!0,flush:"pre"})}function p2({state:e,apply:n}){_e(e,s=>{s&&n(s)},{immediate:!0})}function d2({target:e,variants:n,variant:s}){const o=C(n);o&&(o.visible||o.visibleOnce)&&D5(e,([{isIntersecting:r}])=>{o.visible?r?s.value="visible":s.value="initial":o.visibleOnce&&(r&&s.value!=="visibleOnce"?s.value="visibleOnce":s.value||(s.value="initial"))})}function f2(e,n={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){n.lifeCycleHooks&&u2(e),n.syncVariants&&p2(e),n.visibilityHooks&&d2(e),n.eventListeners&&c2(e)}function Hh(e={}){const n=Ve({...e}),s=Y({});return _e(n,()=>{const o={};for(const[r,l]of Object.entries(n)){const a=Ui(r),i=qh(l,a);o[r]=i}s.value=o},{immediate:!0,deep:!0}),{state:n,style:s}}function zi(e,n){_e(()=>Wr(e),s=>{s&&n(s)},{immediate:!0})}const h2={x:"translateX",y:"translateY",z:"translateZ"};function Vh(e={},n=!0){const s=Ve({...e}),o=Y("");return _e(s,r=>{let l="",a=!1;if(n&&(r.x||r.y||r.z)){const i=[r.x||0,r.y||0,r.z||0].map(we.transform).join(",");l+=`translate3d(${i}) `,a=!0}for(const[i,c]of Object.entries(r)){if(n&&(i==="x"||i==="y"||i==="z"))continue;const p=Ui(i),d=qh(c,p);l+=`${h2[i]||i}(${d}) `}n&&!a&&(l+="translateZ(0px) "),o.value=l.trim()},{immediate:!0,deep:!0}),{state:s,transform:o}}const y2=["","X","Y","Z"],m2=["perspective","translate","scale","rotate","skew"],Uh=["transformPerspective","x","y","z"];m2.forEach(e=>{y2.forEach(n=>{const s=e+n;Uh.push(s)})});const g2=new Set(Uh);function Ki(e){return g2.has(e)}const v2=new Set(["originX","originY","originZ"]);function Wh(e){return v2.has(e)}function _2(e){const n={},s={};return Object.entries(e).forEach(([o,r])=>{Ki(o)||Wh(o)?n[o]=r:s[o]=r}),{transform:n,style:s}}function zh(e){const{transform:n,style:s}=_2(e),{transform:o}=Vh(n),{style:r}=Hh(s);return o.value&&(r.value.transform=o.value),r.value}function w2(e,n){let s,o;const{state:r,style:l}=Hh();return zi(e,a=>{o=a;for(const i of Object.keys(jh))a.style[i]===null||a.style[i]===""||Ki(i)||Wh(i)||(r[i]=a.style[i]);s&&Object.entries(s).forEach(([i,c])=>a.style[i]=c),n&&n(r)}),_e(l,a=>{if(!o){s=a;return}for(const i in a)o.style[i]=a[i]},{immediate:!0}),{style:r}}function A2(e){const n=e.trim().split(/\) |\)/);if(n.length===1)return{};const s=o=>o.endsWith("px")||o.endsWith("deg")?parseFloat(o):isNaN(Number(o))?Number(o):o;return n.reduce((o,r)=>{if(!r)return o;const[l,a]=r.split("("),c=a.split(",").map(d=>s(d.endsWith(")")?d.replace(")",""):d.trim())),p=c.length===1?c[0]:c;return{...o,[l]:p}},{})}function b2(e,n){Object.entries(A2(n)).forEach(([s,o])=>{const r=["x","y","z"];if(s==="translate3d"){if(o===0){r.forEach(l=>e[l]=0);return}o.forEach((l,a)=>e[r[a]]=l);return}if(o=parseFloat(o),s==="translateX"){e.x=o;return}if(s==="translateY"){e.y=o;return}if(s==="translateZ"){e.z=o;return}e[s]=o})}function E2(e,n){let s,o;const{state:r,transform:l}=Vh();return zi(e,a=>{o=a,a.style.transform&&b2(r,a.style.transform),s&&(a.style.transform=s),n&&n(r)}),_e(l,a=>{if(!o){s=a;return}o.style.transform=a},{immediate:!0}),{transform:r}}function D2(e,n){const s=Ve({}),o=a=>Object.entries(a).forEach(([i,c])=>s[i]=c),{style:r}=w2(e,o),{transform:l}=E2(e,o);return _e(s,a=>{Object.entries(a).forEach(([i,c])=>{const p=Ki(i)?l:r;p[i]&&p[i]===c||(p[i]=c)})},{immediate:!0,deep:!0}),zi(e,()=>n&&o(n)),{motionProperties:s,style:r,transform:l}}function k2(e={}){const n=C(e),s=Y();return{state:T(()=>{if(s.value)return n[s.value]}),variant:s}}function Kh(e,n={},s){const{motionProperties:o}=D2(e),{variant:r,state:l}=k2(n),a=r2(o,n),i={target:e,variant:r,variants:n,state:l,motionProperties:o,...a};return f2(i,s),i}const C2=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"],x2=(e,n)=>{const s=e.props?e.props:e.data&&e.data.attrs?e.data.attrs:{};s&&(s.variants&&qa(s.variants)&&(n.value={...n.value,...s.variants}),C2.forEach(o=>{if(o==="delay"){if(s&&s[o]&&v5(s[o])){const r=s[o];n&&n.value&&(n.value.enter&&(n.value.enter.transition||(n.value.enter.transition={}),n.value.enter.transition={delay:r,...n.value.enter.transition}),n.value.visible&&(n.value.visible.transition||(n.value.visible.transition={}),n.value.visible.transition={delay:r,...n.value.visible.transition}),n.value.visibleOnce&&(n.value.visibleOnce.transition||(n.value.visibleOnce.transition={}),n.value.visibleOnce.transition={delay:r,...n.value.visibleOnce.transition}))}return}o==="visible-once"&&(o="visibleOnce"),s&&s[o]&&qa(s[o])&&(n.value[o]=s[o])}))},Gl=e=>({created:(s,o,r)=>{const l=o.value&&typeof o.value=="string"?o.value:r.key;l&&zl[l]&&zl[l].stop();const a=Y(e||{});typeof o.value=="object"&&(a.value=o.value),x2(r,a);const i=Kh(s,a);s.motionInstance=i,l&&(zl[l]=i)},getSSRProps(s,o){let{initial:r}=s.value||o&&(o==null?void 0:o.props)||{};r=C(r);const l=m5((e==null?void 0:e.initial)||{},r||{});return!l||Object.keys(l).length===0?void 0:{style:zh(l)}}}),B2={initial:{opacity:0},enter:{opacity:1}},S2={initial:{opacity:0},visible:{opacity:1}},$2={initial:{opacity:0},visibleOnce:{opacity:1}},T2={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},O2={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},P2={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},I2={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},M2={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},L2={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},R2={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},F2={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},N2={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},j2={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},q2={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},H2={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},V2={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},U2={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},W2={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},z2={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},K2={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},Y2={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},G2={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},Q2={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},J2={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},Z2={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},X2={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},eS={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},tS={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},nS={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},sS={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},Qa={__proto__:null,fade:B2,fadeVisible:S2,fadeVisibleOnce:$2,pop:T2,popVisible:O2,popVisibleOnce:P2,rollBottom:V2,rollLeft:I2,rollRight:R2,rollTop:j2,rollVisibleBottom:U2,rollVisibleLeft:M2,rollVisibleOnceBottom:W2,rollVisibleOnceLeft:L2,rollVisibleOnceRight:N2,rollVisibleOnceTop:H2,rollVisibleRight:F2,rollVisibleTop:q2,slideBottom:tS,slideLeft:z2,slideRight:G2,slideTop:Z2,slideVisibleBottom:nS,slideVisibleLeft:K2,slideVisibleOnceBottom:sS,slideVisibleOnceLeft:Y2,slideVisibleOnceRight:J2,slideVisibleOnceTop:eS,slideVisibleRight:Q2,slideVisibleTop:X2},oS=Re({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(e){var i;const n=S9(),s=Ve({});if(!e.is&&!n.default)return()=>Bt("div",{});const o=T(()=>{let c;return e.preset&&(c=Qa[e.preset]),c}),r=T(()=>({initial:e.initial,enter:e.enter,leave:e.leave,visible:e.visible,visibleOnce:e.visibleOnce,hovered:e.hovered,tapped:e.tapped,focused:e.focused})),l=T(()=>{const c={...r.value,...o.value||{},...e.variants||{}};return e.delay&&(c.enter.transition={...c.enter.transition},c.enter.transition.delay=parseInt(e.delay)),c}),a=T(()=>{if(!e.is)return;let c=e.is;return typeof a.value=="string"&&!gp(c)&&(c=Ir(c)),c});if(((i=process==null?void 0:process.env)==null?void 0:i.NODE_ENV)==="development"||process!=null&&process.dev){const c=p=>{var d;(d=p.variants)!=null&&d.initial&&p.set("initial"),setTimeout(()=>{var f,h,y;(f=p.variants)!=null&&f.enter&&p.apply("enter"),(h=p.variants)!=null&&h.visible&&p.apply("visible"),(y=p.variants)!=null&&y.visibleOnce&&p.apply("visibleOnce")},10)};al(()=>Object.entries(s).forEach(([p,d])=>c(d)))}return{slots:n,component:a,motionConfig:l,instances:s}},render({slots:e,motionConfig:n,instances:s,component:o}){var i;const r=zh(n.initial||{}),l=(c,p)=>(c.props||(c.props={}),c.props.style=r,c.props.onVnodeMounted=({el:d})=>{const f=Kh(d,n);s[p]=f},c);if(o){const c=Bt(o,void 0,e);return l(c,0),c}return(((i=e.default)==null?void 0:i.call(e))||[]).map((c,p)=>l(c,p))}});function rS(e){const n="/_,:;",s="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",o=new RegExp(n.split("").join("|"),"g");return e.toString().replace(/[A-Z]/g,r=>`-${r}`).toLowerCase().replace(/\s+/g,"-").replace(o,r=>s.charAt(n.indexOf(r))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const lS={install(e,n){if(e.directive("motion",Gl()),e.component("Motion",oS),!n||n&&!n.excludePresets)for(const s in Qa){const o=Qa[s];e.directive(`motion-${rS(s)}`,Gl(o))}if(n&&n.directives)for(const s in n.directives){const o=n.directives[s];o.initial,e.directive(`motion-${s}`,Gl(o))}}};var sp;const bo=typeof window<"u",aS=Object.prototype.toString,iS=e=>aS.call(e)==="[object Object]";bo&&((sp=window==null?void 0:window.navigator)!=null&&sp.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function cS(e){return Qr()?(ni(e),!0):!1}function uS(e){var n;const s=C(e);return(n=s==null?void 0:s.$el)!=null?n:s}const pS=bo?window:void 0,op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rp="__vueuse_ssr_handlers__";op[rp]=op[rp]||{};function dS(e,n={}){const{immediate:s=!0,window:o=pS}=n,r=Y(!1);let l=null;function a(){!r.value||!o||(e(),l=o.requestAnimationFrame(a))}function i(){!r.value&&o&&(r.value=!0,a())}function c(){r.value=!1,l!=null&&o&&(o.cancelAnimationFrame(l),l=null)}return s&&i(),cS(c),{isActive:r,pause:c,resume:i}}var lp;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(lp||(lp={}));const vl="vue-starport-injection",Yh="vue-starport-options",fS={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},Gh={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}};var hS=Object.defineProperty,Yr=Object.getOwnPropertySymbols,Qh=Object.prototype.hasOwnProperty,Jh=Object.prototype.propertyIsEnumerable,ap=(e,n,s)=>n in e?hS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,yS=(e,n)=>{for(var s in n||(n={}))Qh.call(n,s)&&ap(e,s,n[s]);if(Yr)for(var s of Yr(n))Jh.call(n,s)&&ap(e,s,n[s]);return e},ip=(e,n)=>{var s={};for(var o in e)Qh.call(e,o)&&n.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&Yr)for(var o of Yr(e))n.indexOf(o)<0&&Jh.call(e,o)&&(s[o]=e[o]);return s};const mS=Re({name:"StarportProxy",props:yS({props:{type:Object,default:()=>({})},component:{type:Object,required:!0}},Gh),setup(e,n){const s=P(vl),o=T(()=>s.getInstance(e.port,e.component)),r=Y(),l=o.value.generateId(),a=Y(!1);return o.value.isVisible||(o.value.land(),a.value=!0),wn(async()=>{if(o.value.el){console.error(`[Vue Starport] Multiple proxies of "${o.value.componentName}" with port "${e.port}" detected. The later one will be ignored.`);return}if(o.value.el=r.value,await st(),a.value=!0,o.value.rect.update(),o.value.rect.width===0||o.value.rect.height===0){const i=o.value.rect.width===0?"width":"height";console.warn(`[Vue Starport] The proxy of component "${o.value.componentName}" (port "${e.port}") has no ${i} on initial render, have you set the size for it?`),console.warn("element:",o.value.el),console.warn("rect:",o.value.rect)}}),Wo(async()=>{o.value.rect.update(),o.value.liftOff(),o.value.el=void 0,a.value=!1,!o.value.options.keepAlive&&(await st(),await st(),!o.value.el&&s.dispose(o.value.port))}),_e(()=>e,async()=>{o.value.props&&await st();const i=e,{props:c}=i,p=ip(i,["props"]);o.value.props=c||{},o.value.setLocalOptions(p)},{deep:!0,immediate:!0}),()=>{const i=e,{initialProps:c,mountedProps:p}=i,d=ip(i,["initialProps","mountedProps"]),f=Ue(d,(a.value?p:c)||{});return Bt("div",Ue(f,{id:l,ref:r,"data-starport-proxy":o.value.componentId,"data-starport-landed":o.value.isLanded?"true":void 0,"data-starport-floating":o.value.isLanded?void 0:"true"}),n.slots.default?Bt(n.slots.default):void 0)}}});var gS=Object.defineProperty,vS=Object.defineProperties,_S=Object.getOwnPropertyDescriptors,cp=Object.getOwnPropertySymbols,wS=Object.prototype.hasOwnProperty,AS=Object.prototype.propertyIsEnumerable,up=(e,n,s)=>n in e?gS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,bS=(e,n)=>{for(var s in n||(n={}))wS.call(n,s)&&up(e,s,n[s]);if(cp)for(var s of cp(n))AS.call(n,s)&&up(e,s,n[s]);return e},ES=(e,n)=>vS(e,_S(n));const DS=Re({name:"Starport",inheritAttrs:!0,props:Gh,setup(e,n){const s=Y(!1);return wn(()=>{if(s.value=!0,!P(vl))throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.")}),()=>{var a,i;const o=(i=(a=n.slots).default)==null?void 0:i.call(a);if(!o)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(o.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${o.length}`);const r=o[0];let l=r.type;return(!iS(l)||Hn(l))&&(l={render(){return o}}),Bt(mS,ES(bS({},e),{key:e.port,component:tl(l),props:r.props}))}}});function kS(e){const n=Ve({height:0,width:0,left:0,top:0,update:o,listen:l,pause:a,margin:"0px",padding:"0px"}),s=bo?document.documentElement||document.body:void 0;function o(){if(!bo)return;const i=uS(e);if(!i)return;const{height:c,width:p,left:d,top:f}=i.getBoundingClientRect(),h=window.getComputedStyle(i),y=h.margin,m=h.padding;Object.assign(n,{height:c,width:p,left:d,top:s.scrollTop+f,margin:y,padding:m})}const r=dS(o,{immediate:!1});function l(){bo&&(o(),r.resume())}function a(){r.pause()}return n}let CS=(e,n=21)=>(s=n)=>{let o="",r=s;for(;r--;)o+=e[Math.random()*e.length|0];return o};const pp=CS("abcdefghijklmnopqrstuvwxyz",5);function dp(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function xS(e){var n;return e.name||((n=e.__file)==null?void 0:n.split(/[\/\\.]/).slice(-2)[0])||""}var BS=Object.defineProperty,fp=Object.getOwnPropertySymbols,SS=Object.prototype.hasOwnProperty,$S=Object.prototype.propertyIsEnumerable,hp=(e,n,s)=>n in e?BS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,Ql=(e,n)=>{for(var s in n||(n={}))SS.call(n,s)&&hp(e,s,n[s]);if(fp)for(var s of fp(n))$S.call(n,s)&&hp(e,s,n[s]);return e};function TS(e,n,s={}){const o=xS(n),r=dp(o)||pp(),l=Y(),a=Y(null),i=Y(!1),c=Y(!1),p=yy(!0),d=Y({}),f=T(()=>Ql(Ql(Ql({},fS),s),d.value)),h=Y(0);let y;p.run(()=>{y=kS(l),_e(l,async A=>{A&&(c.value=!0),await st(),l.value||(c.value=!1)})});const m=dp(e);function v(){return`starport-${r}-${m}-${pp()}`}const w=v();return Ve({el:l,id:w,port:e,props:a,rect:y,scope:p,isLanded:i,isVisible:c,options:f,liftOffTime:h,component:n,componentName:o,componentId:r,generateId:v,setLocalOptions(A={}){d.value=JSON.parse(JSON.stringify(A))},elRef(){return l},liftOff(){i.value&&(i.value=!1,h.value=Date.now(),y.listen())},land(){i.value||(i.value=!0,y.pause())}})}function OS(e){const n=Ve(new Map);function s(r,l){let a=n.get(r);return a||(a=TS(r,l,e),n.set(r,a)),a.component=l,a}function o(r){var l;(l=n.get(r))==null||l.scope.stop(),n.delete(r)}return{portMap:n,dispose:o,getInstance:s}}var PS=Object.defineProperty,IS=Object.defineProperties,MS=Object.getOwnPropertyDescriptors,yp=Object.getOwnPropertySymbols,LS=Object.prototype.hasOwnProperty,RS=Object.prototype.propertyIsEnumerable,mp=(e,n,s)=>n in e?PS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,FS=(e,n)=>{for(var s in n||(n={}))LS.call(n,s)&&mp(e,s,n[s]);if(yp)for(var s of yp(n))RS.call(n,s)&&mp(e,s,n[s]);return e},NS=(e,n)=>IS(e,MS(n));const jS=Re({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(e){const n=P(vl);if(!n)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const s=T(()=>n.getInstance(e.port,e.component)),o=T(()=>{var a;return((a=s.value.el)==null?void 0:a.id)||s.value.id}),r=T(()=>{const a=Date.now()-s.value.liftOffTime,i=Math.max(0,s.value.options.duration-a),c=s.value.rect,p={position:"absolute",left:0,top:0,width:`${c.width}px`,height:`${c.height}px`,margin:c.margin,padding:c.padding,transform:`translate3d(${c.left}px,${c.top}px,0px)`};return!s.value.isVisible||!s.value.el?NS(FS({},p),{zIndex:-1,display:"none"}):(s.value.isLanded?p.display="none":Object.assign(p,{transitionProperty:"all",transitionDuration:`${i}ms`,transitionTimingFunction:s.value.options.easing}),p)}),l={onTransitionend(a){s.value.isLanded||console.warn(`[Vue Starport] Transition duration of component "${s.value.componentName}" is too short (${a.elapsedTime}s) that may cause animation glitches. Try to increase the duration of that component, or decrease the duration the Starport (current: ${s.value.options.duration/1e3}s).`)}};return()=>{const a=!!(s.value.isLanded&&s.value.el);return Bt("div",{style:r.value,"data-starport-craft":s.value.componentId,"data-starport-landed":s.value.isLanded?"true":void 0,"data-starport-floating":s.value.isLanded?void 0:"true",onTransitionend:s.value.land},Bt(y9,{to:a?`#${o.value}`:"body",disabled:!a},Bt(s.value.component,Ue(l,s.value.props))))}}}),qS=Re({name:"StarportCarrier",setup(e,{slots:n}){const s=OS(P(Yh,{}));return yt().appContext.app.provide(vl,s),()=>{var r;return[(r=n.default)==null?void 0:r.call(n),Array.from(s.portMap.entries()).map(([l,{component:a}])=>Bt(jS,{key:l,port:l,component:a}))]}}});function HS(e={}){return{install(n){n.provide(Yh,e),n.component("Starport",DS),n.component("StarportCarrier",qS)}}}function VS(e){function n(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}n(),window.addEventListener("resize",n),e.app.use(lS),e.app.use(HS({keepAlive:!0}))}function Et(e,n,s){var o;return((o=e.instance)==null?void 0:o.$).provides[n]??s}function US(){return{install(e){e.directive("click",{name:"v-click",mounted(n,s){var d,f,h,y,m,v;if(vo.value||(d=Et(s,ho))!=null&&d.value)return;const o=Et(s,ns),r=Et(s,fo),l=Et(s,ga),a=s.modifiers.hide!==!1&&s.modifiers.hide!=null,i=s.modifiers.fade!==!1&&s.modifiers.fade!=null,c=((f=o==null?void 0:o.value)==null?void 0:f.length)||0,p=i?p6:Tl;if(o&&!((h=o==null?void 0:o.value)!=null&&h.includes(n))&&o.value.push(n),s.value==null&&(s.value=(y=o==null?void 0:o.value)==null?void 0:y.length),typeof s.value=="string"&&(s.value.startsWith("+")||s.value.startsWith("-"))&&(s.value=(((m=o==null?void 0:o.value)==null?void 0:m.length)||0)+Number(s.value)),!(l!=null&&l.value.has(s.value)))l==null||l.value.set(s.value,[n]);else if(!((v=l==null?void 0:l.value.get(s.value))!=null&&v.includes(n))){const w=(l==null?void 0:l.value.get(s.value))||[];l==null||l.value.set(s.value,[n].concat(w))}n==null||n.classList.toggle(Xn,!0),r&&_e(r,()=>{const w=(r==null?void 0:r.value)??0,A=s.value!=null?w>=s.value:w>c;n.classList.contains(Ol)||n.classList.toggle(p,!A),a!==!1&&a!==void 0&&n.classList.toggle(p,A),n.classList.toggle(Qs,!1);const E=l==null?void 0:l.value.get(w);E==null||E.forEach((_,k)=>{_.classList.toggle(ar,!1),k===E.length-1?_.classList.toggle(Qs,!0):_.classList.toggle(ar,!0)}),n.classList.contains(Qs)||n.classList.toggle(ar,A)},{immediate:!0})},unmounted(n,s){n==null||n.classList.toggle(Xn,!1);const o=Et(s,ns);o!=null&&o.value&&va(o.value,n)}}),e.directive("after",{name:"v-after",mounted(n,s){var i,c,p;if(vo.value||(i=Et(s,ho))!=null&&i.value)return;const o=Et(s,ns),r=Et(s,fo),l=Et(s,ga),a=o==null?void 0:o.value.length;s.value==null&&(s.value=o==null?void 0:o.value.length),typeof s.value=="string"&&(s.value.startsWith("+")||s.value.startsWith("-"))&&(s.value=(((c=o==null?void 0:o.value)==null?void 0:c.length)||0)+Number(s.value)),l!=null&&l.value.has(s.value)?(p=l==null?void 0:l.value.get(s.value))==null||p.push(n):l==null||l.value.set(s.value,[n]),n==null||n.classList.toggle(Xn,!0),r&&_e(r,()=>{const d=(r.value??0)>=(s.value??a??0);n.classList.contains(Ol)||n.classList.toggle(Tl,!d),n.classList.toggle(Qs,!1),n.classList.contains(Qs)||n.classList.toggle(ar,d)},{immediate:!0})},unmounted(n){n==null||n.classList.toggle(Xn,!0)}}),e.directive("click-hide",{name:"v-click-hide",mounted(n,s){var a,i,c;if(vo.value||(a=Et(s,ho))!=null&&a.value)return;const o=Et(s,ns),r=Et(s,fo),l=((i=o==null?void 0:o.value)==null?void 0:i.length)||0;o&&!((c=o==null?void 0:o.value)!=null&&c.includes(n))&&o.value.push(n),n==null||n.classList.toggle(Xn,!0),r&&_e(r,()=>{const p=(r==null?void 0:r.value)??0,d=s.value!=null?p>=s.value:p>l;n.classList.toggle(Tl,d),n.classList.toggle(Ol,d)},{immediate:!0})},unmounted(n,s){n==null||n.classList.toggle(Xn,!1);const o=Et(s,ns);o!=null&&o.value&&va(o.value,n)}})}}}function WS(e,n){const s=Xf(e),o=eh(n,s.currentRoute,s.currentPage);return{nav:{...s,...o},configs:$e,themeConfigs:T(()=>$e.themeConfig)}}function zS(){return{install(e){const n=WS(Rt,Mt);e.provide(F,Ve(n))}}}const Us=hg(h5);Us.use(wt);Us.use(i6());Us.use(US());Us.use(zS());VS({app:Us,router:wt});Us.mount("#app");export{Cb as $,UA as A,Y as B,ZS as C,dt as D,Ke as E,Te as F,u1 as G,a5 as H,Mt as I,Ur as J,n5 as K,ql as L,wn as M,Ve as N,QS as O,XS as P,_e as Q,M as R,Pf as S,Oe as T,pt as U,E1 as V,KS as W,YS as X,Po as Y,Fl as Z,N as _,F as a,Bi as a0,Si as a1,Ye as a2,Ab as a3,Dw as a4,GS as a5,mn as a6,so as a7,as as a8,en as a9,Sa as aa,J0 as ab,Z0 as ac,X0 as ad,t1 as ae,ud as af,Md as ag,e$ as ah,ht as ai,dr as aj,rA as ak,zd as al,n1 as am,Wo as an,Wd as b,$e as c,Re as d,Zy as e,oe as f,t as g,C as h,P as i,Qe as j,Z4 as k,u as l,te as m,at as n,D as o,De as p,bi as q,qs as r,Yt as s,fn as t,JS as u,T as v,Pl as w,I as x,Df as y,GA as z};
