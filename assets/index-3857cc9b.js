(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function jn(t,n){const s=Object.create(null),o=t.split(",");for(let r=0;r<o.length;r++)s[o[r]]=!0;return n?r=>!!s[r.toLowerCase()]:r=>!!s[r]}const Fe=Object.freeze({}),Ss=Object.freeze([]),vt=()=>{},dp=()=>!1,jh=/^on[^a-z]/,Fo=t=>jh.test(t),br=t=>t.startsWith("onUpdate:"),je=Object.assign,Ya=(t,n)=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)},qh=Object.prototype.hasOwnProperty,ke=(t,n)=>qh.call(t,n),ie=Array.isArray,as=t=>No(t)==="[object Map]",fp=t=>No(t)==="[object Set]",Hh=t=>No(t)==="[object RegExp]",de=t=>typeof t=="function",qe=t=>typeof t=="string",Ga=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",Ja=t=>Te(t)&&de(t.then)&&de(t.catch),hp=Object.prototype.toString,No=t=>hp.call(t),Za=t=>No(t).slice(8,-1),yp=t=>No(t)==="[object Object]",Qa=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,dr=jn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vh=jn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Yr=t=>{const n=Object.create(null);return s=>n[s]||(n[s]=t(s))},Uh=/-(\w)/g,en=Yr(t=>t.replace(Uh,(n,s)=>s?s.toUpperCase():"")),Wh=/\B([A-Z])/g,hn=Yr(t=>t.replace(Wh,"-$1").toLowerCase()),ys=Yr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gn=Yr(t=>t?`on${ys(t)}`:""),Ao=(t,n)=>!Object.is(t,n),Zn=(t,n)=>{for(let s=0;s<t.length;s++)t[s](n)},Er=(t,n,s)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:s})},zh=t=>{const n=parseFloat(t);return isNaN(n)?t:n},Kh=t=>{const n=qe(t)?Number(t):NaN;return isNaN(n)?t:n};let Gi;const Dr=()=>Gi||(Gi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rt(t){if(ie(t)){const n={};for(let s=0;s<t.length;s++){const o=t[s],r=qe(o)?Zh(o):rt(o);if(r)for(const l in r)n[l]=r[l]}return n}else{if(qe(t))return t;if(Te(t))return t}}const Yh=/;(?![^(]*\))/g,Gh=/:([^]+)/,Jh=/\/\*[^]*?\*\//g;function Zh(t){const n={};return t.replace(Jh,"").split(Yh).forEach(s=>{if(s){const o=s.split(Gh);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function Ue(t){let n="";if(qe(t))n=t;else if(ie(t))for(let s=0;s<t.length;s++){const o=Ue(t[s]);o&&(n+=o+" ")}else if(Te(t))for(const s in t)t[s]&&(n+=s+" ");return n.trim()}function J(t){if(!t)return null;let{class:n,style:s}=t;return n&&!qe(n)&&(t.class=Ue(n)),s&&(t.style=rt(s)),t}const Qh="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Xh="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",mp=jn(Qh),ey=jn(Xh),ty="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ny=jn(ty);function gp(t){return!!t||t===""}const yn=t=>qe(t)?t:t==null?"":ie(t)||Te(t)&&(t.toString===hp||!de(t.toString))?JSON.stringify(t,vp,2):String(t),vp=(t,n)=>n&&n.__v_isRef?vp(t,n.value):as(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[o,r])=>(s[`${o} =>`]=r,s),{})}:fp(n)?{[`Set(${n.size})`]:[...n.values()]}:Te(n)&&!ie(n)&&!yp(n)?String(n):n;function kr(t,...n){console.warn(`[Vue warn] ${t}`,...n)}let bt;class _p{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=bt,!n&&bt&&(this.index=(bt.scopes||(bt.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const s=bt;try{return bt=this,n()}finally{bt=s}}else kr("cannot run an inactive effect scope.")}on(){bt=this}off(){bt=this.parent}stop(n){if(this._active){let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.scopes)for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function sy(t){return new _p(t)}function oy(t,n=bt){n&&n.active&&n.effects.push(t)}function Xa(){return bt}function wp(t){bt?bt.cleanups.push(t):kr("onScopeDispose() is called when there is no active effect scope to be associated with.")}const ei=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Ap=t=>(t.w&Mn)>0,bp=t=>(t.n&Mn)>0,ry=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=Mn},ly=t=>{const{deps:n}=t;if(n.length){let s=0;for(let o=0;o<n.length;o++){const r=n[o];Ap(r)&&!bp(r)?r.delete(t):n[s++]=r,r.w&=~Mn,r.n&=~Mn}n.length=s}},Cr=new WeakMap;let to=0,Mn=1;const Kl=30;let dt;const is=Symbol("iterate"),Yl=Symbol("Map key iterate");class ti{constructor(n,s=null,o){this.fn=n,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,oy(this,o)}run(){if(!this.active)return this.fn();let n=dt,s=xn;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=dt,dt=this,xn=!0,Mn=1<<++to,to<=Kl?ry(this):Ji(this),this.fn()}finally{to<=Kl&&ly(this),Mn=1<<--to,dt=this.parent,xn=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){dt===this?this.deferStop=!0:this.active&&(Ji(this),this.onStop&&this.onStop(),this.active=!1)}}function Ji(t){const{deps:n}=t;if(n.length){for(let s=0;s<n.length;s++)n[s].delete(t);n.length=0}}let xn=!0;const Ep=[];function gs(){Ep.push(xn),xn=!1}function vs(){const t=Ep.pop();xn=t===void 0?!0:t}function at(t,n,s){if(xn&&dt){let o=Cr.get(t);o||Cr.set(t,o=new Map);let r=o.get(s);r||o.set(s,r=ei()),Dp(r,{effect:dt,target:t,type:n,key:s})}}function Dp(t,n){let s=!1;to<=Kl?bp(t)||(t.n|=Mn,s=!Ap(t)):s=!t.has(dt),s&&(t.add(dt),dt.deps.push(t),dt.onTrack&&dt.onTrack(je({effect:dt},n)))}function tn(t,n,s,o,r,l){const a=Cr.get(t);if(!a)return;let i=[];if(n==="clear")i=[...a.values()];else if(s==="length"&&ie(t)){const p=Number(o);a.forEach((d,f)=>{(f==="length"||f>=p)&&i.push(d)})}else switch(s!==void 0&&i.push(a.get(s)),n){case"add":ie(t)?Qa(s)&&i.push(a.get("length")):(i.push(a.get(is)),as(t)&&i.push(a.get(Yl)));break;case"delete":ie(t)||(i.push(a.get(is)),as(t)&&i.push(a.get(Yl)));break;case"set":as(t)&&i.push(a.get(is));break}const c={target:t,type:n,key:s,newValue:o,oldValue:r,oldTarget:l};if(i.length===1)i[0]&&Gl(i[0],c);else{const p=[];for(const d of i)d&&p.push(...d);Gl(ei(p),c)}}function Gl(t,n){const s=ie(t)?t:[...t];for(const o of s)o.computed&&Zi(o,n);for(const o of s)o.computed||Zi(o,n)}function Zi(t,n){(t!==dt||t.allowRecurse)&&(t.onTrigger&&t.onTrigger(je({effect:t},n)),t.scheduler?t.scheduler():t.run())}function ay(t,n){var s;return(s=Cr.get(t))==null?void 0:s.get(n)}const iy=jn("__proto__,__v_isRef,__isVue"),kp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ga)),cy=Gr(),uy=Gr(!1,!0),py=Gr(!0),dy=Gr(!0,!0),Qi=fy();function fy(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...s){const o=ye(this);for(let l=0,a=this.length;l<a;l++)at(o,"get",l+"");const r=o[n](...s);return r===-1||r===!1?o[n](...s.map(ye)):r}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...s){gs();const o=ye(this)[n].apply(this,s);return vs(),o}}),t}function hy(t){const n=ye(this);return at(n,"has",t),n.hasOwnProperty(t)}function Gr(t=!1,n=!1){return function(o,r,l){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return n;if(r==="__v_raw"&&l===(t?n?Pp:Op:n?Tp:$p).get(o))return o;const a=ie(o);if(!t){if(a&&ke(Qi,r))return Reflect.get(Qi,r,l);if(r==="hasOwnProperty")return hy}const i=Reflect.get(o,r,l);return(Ga(r)?kp.has(r):iy(r))||(t||at(o,"get",r),n)?i:Se(i)?a&&Qa(r)?i:i.value:Te(i)?t?Ht(i):He(i):i}}const yy=Cp(),my=Cp(!0);function Cp(t=!1){return function(s,o,r,l){let a=s[o];if(Rn(a)&&Se(a)&&!Se(r))return!1;if(!t&&(!xr(r)&&!Rn(r)&&(a=ye(a),r=ye(r)),!ie(s)&&Se(a)&&!Se(r)))return a.value=r,!0;const i=ie(s)&&Qa(o)?Number(o)<s.length:ke(s,o),c=Reflect.set(s,o,r,l);return s===ye(l)&&(i?Ao(r,a)&&tn(s,"set",o,r,a):tn(s,"add",o,r)),c}}function gy(t,n){const s=ke(t,n),o=t[n],r=Reflect.deleteProperty(t,n);return r&&s&&tn(t,"delete",n,void 0,o),r}function vy(t,n){const s=Reflect.has(t,n);return(!Ga(n)||!kp.has(n))&&at(t,"has",n),s}function _y(t){return at(t,"iterate",ie(t)?"length":is),Reflect.ownKeys(t)}const xp={get:cy,set:yy,deleteProperty:gy,has:vy,ownKeys:_y},Bp={get:py,set(t,n){return kr(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0},deleteProperty(t,n){return kr(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}},wy=je({},xp,{get:uy,set:my}),Ay=je({},Bp,{get:dy}),ni=t=>t,Jr=t=>Reflect.getPrototypeOf(t);function Yo(t,n,s=!1,o=!1){t=t.__v_raw;const r=ye(t),l=ye(n);s||(n!==l&&at(r,"get",n),at(r,"get",l));const{has:a}=Jr(r),i=o?ni:s?si:bo;if(a.call(r,n))return i(t.get(n));if(a.call(r,l))return i(t.get(l));t!==r&&t.get(n)}function Go(t,n=!1){const s=this.__v_raw,o=ye(s),r=ye(t);return n||(t!==r&&at(o,"has",t),at(o,"has",r)),t===r?s.has(t):s.has(t)||s.has(r)}function Jo(t,n=!1){return t=t.__v_raw,!n&&at(ye(t),"iterate",is),Reflect.get(t,"size",t)}function Xi(t){t=ye(t);const n=ye(this);return Jr(n).has.call(n,t)||(n.add(t),tn(n,"add",t,t)),this}function ec(t,n){n=ye(n);const s=ye(this),{has:o,get:r}=Jr(s);let l=o.call(s,t);l?Sp(s,o,t):(t=ye(t),l=o.call(s,t));const a=r.call(s,t);return s.set(t,n),l?Ao(n,a)&&tn(s,"set",t,n,a):tn(s,"add",t,n),this}function tc(t){const n=ye(this),{has:s,get:o}=Jr(n);let r=s.call(n,t);r?Sp(n,s,t):(t=ye(t),r=s.call(n,t));const l=o?o.call(n,t):void 0,a=n.delete(t);return r&&tn(n,"delete",t,void 0,l),a}function nc(){const t=ye(this),n=t.size!==0,s=as(t)?new Map(t):new Set(t),o=t.clear();return n&&tn(t,"clear",void 0,void 0,s),o}function Zo(t,n){return function(o,r){const l=this,a=l.__v_raw,i=ye(a),c=n?ni:t?si:bo;return!t&&at(i,"iterate",is),a.forEach((p,d)=>o.call(r,c(p),c(d),l))}}function Qo(t,n,s){return function(...o){const r=this.__v_raw,l=ye(r),a=as(l),i=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,p=r[t](...o),d=s?ni:n?si:bo;return!n&&at(l,"iterate",c?Yl:is),{next(){const{value:f,done:h}=p.next();return h?{value:f,done:h}:{value:i?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function vn(t){return function(...n){{const s=n[0]?`on key "${n[0]}" `:"";console.warn(`${ys(t)} operation ${s}failed: target is readonly.`,ye(this))}return t==="delete"?!1:this}}function by(){const t={get(l){return Yo(this,l)},get size(){return Jo(this)},has:Go,add:Xi,set:ec,delete:tc,clear:nc,forEach:Zo(!1,!1)},n={get(l){return Yo(this,l,!1,!0)},get size(){return Jo(this)},has:Go,add:Xi,set:ec,delete:tc,clear:nc,forEach:Zo(!1,!0)},s={get(l){return Yo(this,l,!0)},get size(){return Jo(this,!0)},has(l){return Go.call(this,l,!0)},add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear"),forEach:Zo(!0,!1)},o={get(l){return Yo(this,l,!0,!0)},get size(){return Jo(this,!0)},has(l){return Go.call(this,l,!0)},add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear"),forEach:Zo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=Qo(l,!1,!1),s[l]=Qo(l,!0,!1),n[l]=Qo(l,!1,!0),o[l]=Qo(l,!0,!0)}),[t,s,n,o]}const[Ey,Dy,ky,Cy]=by();function Zr(t,n){const s=n?t?Cy:ky:t?Dy:Ey;return(o,r,l)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(ke(s,r)&&r in o?s:o,r,l)}const xy={get:Zr(!1,!1)},By={get:Zr(!1,!0)},Sy={get:Zr(!0,!1)},$y={get:Zr(!0,!0)};function Sp(t,n,s){const o=ye(s);if(o!==s&&n.call(t,o)){const r=Za(t);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const $p=new WeakMap,Tp=new WeakMap,Op=new WeakMap,Pp=new WeakMap;function Ty(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Oy(t){return t.__v_skip||!Object.isExtensible(t)?0:Ty(Za(t))}function He(t){return Rn(t)?t:Qr(t,!1,xp,xy,$p)}function Py(t){return Qr(t,!1,wy,By,Tp)}function Ht(t){return Qr(t,!0,Bp,Sy,Op)}function no(t){return Qr(t,!0,Ay,$y,Pp)}function Qr(t,n,s,o,r){if(!Te(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(n&&t.__v_isReactive))return t;const l=r.get(t);if(l)return l;const a=Oy(t);if(a===0)return t;const i=new Proxy(t,a===2?o:s);return r.set(t,i),i}function cs(t){return Rn(t)?cs(t.__v_raw):!!(t&&t.__v_isReactive)}function Rn(t){return!!(t&&t.__v_isReadonly)}function xr(t){return!!(t&&t.__v_isShallow)}function Br(t){return cs(t)||Rn(t)}function ye(t){const n=t&&t.__v_raw;return n?ye(n):t}function Xr(t){return Er(t,"__v_skip",!0),t}const bo=t=>Te(t)?He(t):t,si=t=>Te(t)?Ht(t):t;function oi(t){xn&&dt&&(t=ye(t),Dp(t.dep||(t.dep=ei()),{target:t,type:"get",key:"value"}))}function ri(t,n){t=ye(t);const s=t.dep;s&&Gl(s,{target:t,type:"set",key:"value",newValue:n})}function Se(t){return!!(t&&t.__v_isRef===!0)}function K(t){return Ip(t,!1)}function nn(t){return Ip(t,!0)}function Ip(t,n){return Se(t)?t:new Iy(t,n)}class Iy{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:ye(n),this._value=s?n:bo(n)}get value(){return oi(this),this._value}set value(n){const s=this.__v_isShallow||xr(n)||Rn(n);n=s?n:ye(n),Ao(n,this._rawValue)&&(this._rawValue=n,this._value=s?n:bo(n),ri(this,n))}}function O(t){return Se(t)?t.value:t}const My={get:(t,n,s)=>O(Reflect.get(t,n,s)),set:(t,n,s,o)=>{const r=t[n];return Se(r)&&!Se(s)?(r.value=s,!0):Reflect.set(t,n,s,o)}};function Mp(t){return cs(t)?t:new Proxy(t,My)}class Ry{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:o}=n(()=>oi(this),()=>ri(this));this._get=s,this._set=o}get value(){return this._get()}set value(n){this._set(n)}}function li(t){return new Ry(t)}function Ly(t){Br(t)||console.warn("toRefs() expects a reactive object but received a plain one.");const n=ie(t)?new Array(t.length):{};for(const s in t)n[s]=Rp(t,s);return n}class Fy{constructor(n,s,o){this._object=n,this._key=s,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return ay(ye(this._object),this._key)}}class Ny{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function jy(t,n,s){return Se(t)?t:de(t)?new Ny(t):Te(t)&&arguments.length>1?Rp(t,n,s):K(t)}function Rp(t,n,s){const o=t[n];return Se(o)?o:new Fy(t,n,s)}class qy{constructor(n,s,o,r){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ti(n,()=>{this._dirty||(this._dirty=!0,ri(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const n=ye(this);return oi(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function Hy(t,n,s=!1){let o,r;const l=de(t);l?(o=t,r=()=>{console.warn("Write operation failed: computed value is readonly")}):(o=t.get,r=t.set);const a=new qy(o,r,l||!r,s);return n&&!s&&(a.effect.onTrack=n.onTrack,a.effect.onTrigger=n.onTrigger),a}const us=[];function fr(t){us.push(t)}function hr(){us.pop()}function q(t,...n){gs();const s=us.length?us[us.length-1].component:null,o=s&&s.appContext.config.warnHandler,r=Vy();if(o)fn(o,s,11,[t+n.join(""),s&&s.proxy,r.map(({vnode:l})=>`at <${cl(s,l.type)}>`).join(`
`),r]);else{const l=[`[Vue warn]: ${t}`,...n];r.length&&l.push(`
`,...Uy(r)),console.warn(...l)}vs()}function Vy(){let t=us[us.length-1];if(!t)return[];const n=[];for(;t;){const s=n[0];s&&s.vnode===t?s.recurseCount++:n.push({vnode:t,recurseCount:0});const o=t.component&&t.component.parent;t=o&&o.vnode}return n}function Uy(t){const n=[];return t.forEach((s,o)=>{n.push(...o===0?[]:[`
`],...Wy(s))}),n}function Wy({vnode:t,recurseCount:n}){const s=n>0?`... (${n} recursive calls)`:"",o=t.component?t.component.parent==null:!1,r=` at <${cl(t.component,t.type,o)}`,l=">"+s;return t.props?[r,...zy(t.props),l]:[r+l]}function zy(t){const n=[],s=Object.keys(t);return s.slice(0,3).forEach(o=>{n.push(...Lp(o,t[o]))}),s.length>3&&n.push(" ..."),n}function Lp(t,n,s){return qe(n)?(n=JSON.stringify(n),s?n:[`${t}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?s?n:[`${t}=${n}`]:Se(n)?(n=Lp(t,ye(n.value),!0),s?n:[`${t}=Ref<`,n,">"]):de(n)?[`${t}=fn${n.name?`<${n.name}>`:""}`]:(n=ye(n),s?n:[`${t}=`,n])}function Ky(t,n){t!==void 0&&(typeof t!="number"?q(`${n} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&q(`${n} is NaN - the duration expression might be incorrect.`))}const ai={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function fn(t,n,s,o){let r;try{r=o?t(...o):t()}catch(l){el(l,n,s)}return r}function Mt(t,n,s,o){if(de(t)){const l=fn(t,n,s,o);return l&&Ja(l)&&l.catch(a=>{el(a,n,s)}),l}const r=[];for(let l=0;l<t.length;l++)r.push(Mt(t[l],n,s,o));return r}function el(t,n,s,o=!0){const r=n?n.vnode:null;if(n){let l=n.parent;const a=n.proxy,i=ai[s];for(;l;){const p=l.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](t,a,i)===!1)return}l=l.parent}const c=n.appContext.config.errorHandler;if(c){fn(c,null,10,[t,a,i]);return}}Yy(t,s,r,o)}function Yy(t,n,s,o=!0){{const r=ai[n];if(s&&fr(s),q(`Unhandled error${r?` during execution of ${r}`:""}`),s&&hr(),o)throw t;console.error(t)}}let Eo=!1,Jl=!1;const nt=[];let Gt=0;const $s=[];let Yt=null,bn=0;const Fp=Promise.resolve();let ii=null;const Gy=100;function st(t){const n=ii||Fp;return t?n.then(this?t.bind(this):t):n}function Jy(t){let n=Gt+1,s=nt.length;for(;n<s;){const o=n+s>>>1;Do(nt[o])<t?n=o+1:s=o}return n}function tl(t){(!nt.length||!nt.includes(t,Eo&&t.allowRecurse?Gt+1:Gt))&&(t.id==null?nt.push(t):nt.splice(Jy(t.id),0,t),Np())}function Np(){!Eo&&!Jl&&(Jl=!0,ii=Fp.then(Hp))}function Zy(t){const n=nt.indexOf(t);n>Gt&&nt.splice(n,1)}function jp(t){ie(t)?$s.push(...t):(!Yt||!Yt.includes(t,t.allowRecurse?bn+1:bn))&&$s.push(t),Np()}function sc(t,n=Eo?Gt+1:0){for(t=t||new Map;n<nt.length;n++){const s=nt[n];if(s&&s.pre){if(ci(t,s))continue;nt.splice(n,1),n--,s()}}}function qp(t){if($s.length){const n=[...new Set($s)];if($s.length=0,Yt){Yt.push(...n);return}for(Yt=n,t=t||new Map,Yt.sort((s,o)=>Do(s)-Do(o)),bn=0;bn<Yt.length;bn++)ci(t,Yt[bn])||Yt[bn]();Yt=null,bn=0}}const Do=t=>t.id==null?1/0:t.id,Qy=(t,n)=>{const s=Do(t)-Do(n);if(s===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return s};function Hp(t){Jl=!1,Eo=!0,t=t||new Map,nt.sort(Qy);const n=s=>ci(t,s);try{for(Gt=0;Gt<nt.length;Gt++){const s=nt[Gt];if(s&&s.active!==!1){if(n(s))continue;fn(s,null,14)}}}finally{Gt=0,nt.length=0,qp(t),Eo=!1,ii=null,(nt.length||$s.length)&&Hp(t)}}function ci(t,n){if(!t.has(n))t.set(n,1);else{const s=t.get(n);if(s>Gy){const o=n.ownerInstance,r=o&&xo(o.type);return q(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else t.set(n,s+1)}}let Bn=!1;const xs=new Set;Dr().__VUE_HMR_RUNTIME__={createRecord:yl(Vp),rerender:yl(tm),reload:yl(nm)};const ms=new Map;function Xy(t){const n=t.type.__hmrId;let s=ms.get(n);s||(Vp(n,t.type),s=ms.get(n)),s.instances.add(t)}function em(t){ms.get(t.type.__hmrId).instances.delete(t)}function Vp(t,n){return ms.has(t)?!1:(ms.set(t,{initialDef:io(n),instances:new Set}),!0)}function io(t){return Ad(t)?t.__vccOpts:t}function tm(t,n){const s=ms.get(t);s&&(s.initialDef.render=n,[...s.instances].forEach(o=>{n&&(o.render=n,io(o.type).render=n),o.renderCache=[],Bn=!0,o.update(),Bn=!1}))}function nm(t,n){const s=ms.get(t);if(!s)return;n=io(n),oc(s.initialDef,n);const o=[...s.instances];for(const r of o){const l=io(r.type);xs.has(l)||(l!==s.initialDef&&oc(l,n),xs.add(l)),r.appContext.propsCache.delete(r.type),r.appContext.emitsCache.delete(r.type),r.appContext.optionsCache.delete(r.type),r.ceReload?(xs.add(l),r.ceReload(n.styles),xs.delete(l)):r.parent?tl(r.parent.update):r.appContext.reload?r.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}jp(()=>{for(const r of o)xs.delete(io(r.type))})}function oc(t,n){je(t,n);for(const s in t)s!=="__file"&&!(s in n)&&delete t[s]}function yl(t){return(n,s)=>{try{return t(n,s)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Jt,so=[],Zl=!1;function jo(t,...n){Jt?Jt.emit(t,...n):Zl||so.push({event:t,args:n})}function Up(t,n){var s,o;Jt=t,Jt?(Jt.enabled=!0,so.forEach(({event:r,args:l})=>Jt.emit(r,...l)),so=[]):typeof window<"u"&&window.HTMLElement&&!((o=(s=window.navigator)==null?void 0:s.userAgent)!=null&&o.includes("jsdom"))?((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{Up(l,n)}),setTimeout(()=>{Jt||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Zl=!0,so=[])},3e3)):(Zl=!0,so=[])}function sm(t,n){jo("app:init",t,n,{Fragment:$e,Text:Ho,Comment:ft,Static:yr})}function om(t){jo("app:unmount",t)}const Ql=ui("component:added"),Wp=ui("component:updated"),rm=ui("component:removed"),lm=t=>{Jt&&typeof Jt.cleanupBuffer=="function"&&!Jt.cleanupBuffer(t)&&rm(t)};function ui(t){return n=>{jo(t,n.appContext.app,n.uid,n.parent?n.parent.uid:void 0,n)}}const am=zp("perf:start"),im=zp("perf:end");function zp(t){return(n,s,o)=>{jo(t,n.appContext.app,n.uid,n,s,o)}}function cm(t,n,s){jo("component:emit",t.appContext.app,t,n,s)}function um(t,n,...s){if(t.isUnmounted)return;const o=t.vnode.props||Fe;{const{emitsOptions:d,propsOptions:[f]}=t;if(d)if(!(n in d))(!f||!(Gn(n)in f))&&q(`Component emitted event "${n}" but it is neither declared in the emits option nor as an "${Gn(n)}" prop.`);else{const h=d[n];de(h)&&(h(...s)||q(`Invalid event arguments: event validation failed for event "${n}".`))}}let r=s;const l=n.startsWith("update:"),a=l&&n.slice(7);if(a&&a in o){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:h}=o[d]||Fe;h&&(r=s.map(y=>qe(y)?y.trim():y)),f&&(r=s.map(zh))}cm(t,n,r);{const d=n.toLowerCase();d!==n&&o[Gn(d)]&&q(`Event "${d}" is emitted in component ${cl(t,t.type)} but the handler is registered for "${n}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${hn(n)}" instead of "${n}".`)}let i,c=o[i=Gn(n)]||o[i=Gn(en(n))];!c&&l&&(c=o[i=Gn(hn(n))]),c&&Mt(c,t,6,r);const p=o[i+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[i])return;t.emitted[i]=!0,Mt(p,t,6,r)}}function Kp(t,n,s=!1){const o=n.emitsCache,r=o.get(t);if(r!==void 0)return r;const l=t.emits;let a={},i=!1;if(!de(t)){const c=p=>{const d=Kp(p,n,!0);d&&(i=!0,je(a,d))};!s&&n.mixins.length&&n.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!l&&!i?(Te(t)&&o.set(t,null),null):(ie(l)?l.forEach(c=>a[c]=null):je(a,l),Te(t)&&o.set(t,a),a)}function nl(t,n){return!t||!Fo(n)?!1:(n=n.slice(2).replace(/Once$/,""),ke(t,n[0].toLowerCase()+n.slice(1))||ke(t,hn(n))||ke(t,n))}let Ze=null,sl=null;function Sr(t){const n=Ze;return Ze=t,sl=t&&t.type.__scopeId||null,n}function BS(t){sl=t}function SS(){sl=null}function L(t,n=Ze,s){if(!n||t._n)return t;const o=(...r)=>{o._d&&vc(-1);const l=Sr(n);let a;try{a=t(...r)}finally{Sr(l),o._d&&vc(1)}return Wp(n),a};return o._n=!0,o._c=!0,o._d=!0,o}let Xl=!1;function $r(){Xl=!0}function ml(t){const{type:n,vnode:s,proxy:o,withProxy:r,props:l,propsOptions:[a],slots:i,attrs:c,emit:p,render:d,renderCache:f,data:h,setupState:y,ctx:m,inheritAttrs:w}=t;let A,b;const E=Sr(t);Xl=!1;try{if(s.shapeFlag&4){const C=r||o;A=qt(d.call(C,C,f,l,y,h,m)),b=c}else{const C=n;c===l&&$r(),A=qt(C.length>1?C(l,{get attrs(){return $r(),c},slots:i,emit:p}):C(l,null)),b=n.props?c:dm(c)}}catch(C){co.length=0,el(C,t,1),A=se(ft)}let _=A,k;if(A.patchFlag>0&&A.patchFlag&2048&&([_,k]=pm(A)),b&&w!==!1){const C=Object.keys(b),{shapeFlag:B}=_;if(C.length){if(B&7)a&&C.some(br)&&(b=fm(b,a)),_=sn(_,b);else if(!Xl&&_.type!==ft){const F=Object.keys(c),$=[],V=[];for(let oe=0,pe=F.length;oe<pe;oe++){const Y=F[oe];Fo(Y)?br(Y)||$.push(Y[2].toLowerCase()+Y.slice(3)):V.push(Y)}V.length&&q(`Extraneous non-props attributes (${V.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),$.length&&q(`Extraneous non-emits event listeners (${$.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return s.dirs&&(rc(_)||q("Runtime directive used on component with non-element root node. The directives will not function as intended."),_=sn(_),_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&(rc(_)||q("Component inside <Transition> renders non-element root node that cannot be animated."),_.transition=s.transition),k?k(_):A=_,Sr(E),A}const pm=t=>{const n=t.children,s=t.dynamicChildren,o=Yp(n);if(!o)return[t,void 0];const r=n.indexOf(o),l=s?s.indexOf(o):-1,a=i=>{n[r]=i,s&&(l>-1?s[l]=i:i.patchFlag>0&&(t.dynamicChildren=[...s,i]))};return[qt(o),a]};function Yp(t){let n;for(let s=0;s<t.length;s++){const o=t[s];if(Fn(o)){if(o.type!==ft||o.children==="v-if"){if(n)return;n=o}}else return}return n}const dm=t=>{let n;for(const s in t)(s==="class"||s==="style"||Fo(s))&&((n||(n={}))[s]=t[s]);return n},fm=(t,n)=>{const s={};for(const o in t)(!br(o)||!(o.slice(9)in n))&&(s[o]=t[o]);return s},rc=t=>t.shapeFlag&7||t.type===ft;function hm(t,n,s){const{props:o,children:r,component:l}=t,{props:a,children:i,patchFlag:c}=n,p=l.emitsOptions;if((r||i)&&Bn||n.dirs||n.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return o?lc(o,a,p):!!a;if(c&8){const d=n.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==o[h]&&!nl(p,h))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:o===a?!1:o?a?lc(o,a,p):!0:!!a;return!1}function lc(t,n,s){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(n[l]!==t[l]&&!nl(s,l))return!0}return!1}function ym({vnode:t,parent:n},s){for(;n&&n.subTree===t;)(t=n.vnode).el=s,n=n.parent}const Gp=t=>t.__isSuspense;function mm(t,n){n&&n.pendingBranch?ie(t)?n.effects.push(...t):n.effects.push(t):jp(t)}function _s(t,n){return pi(t,null,n)}const Xo={};function ge(t,n,s){return de(n)||q("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),pi(t,n,s)}function pi(t,n,{immediate:s,deep:o,flush:r,onTrack:l,onTrigger:a}=Fe){var i;n||(s!==void 0&&q('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&q('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const c=C=>{q("Invalid watch source: ",C,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},p=Xa()===((i=Je)==null?void 0:i.scope)?Je:null;let d,f=!1,h=!1;if(Se(t)?(d=()=>t.value,f=xr(t)):cs(t)?(d=()=>t,o=!0):ie(t)?(h=!0,f=t.some(C=>cs(C)||xr(C)),d=()=>t.map(C=>{if(Se(C))return C.value;if(cs(C))return os(C);if(de(C))return fn(C,p,2);c(C)})):de(t)?n?d=()=>fn(t,p,2):d=()=>{if(!(p&&p.isUnmounted))return y&&y(),Mt(t,p,3,[m])}:(d=vt,c(t)),n&&o){const C=d;d=()=>os(C())}let y,m=C=>{y=_.onStop=()=>{fn(C,p,4)}},w;if(Co)if(m=vt,n?s&&Mt(n,p,3,[d(),h?[]:void 0,m]):d(),r==="sync"){const C=D9();w=C.__watcherHandles||(C.__watcherHandles=[])}else return vt;let A=h?new Array(t.length).fill(Xo):Xo;const b=()=>{if(_.active)if(n){const C=_.run();(o||f||(h?C.some((B,F)=>Ao(B,A[F])):Ao(C,A)))&&(y&&y(),Mt(n,p,3,[C,A===Xo?void 0:h&&A[0]===Xo?[]:A,m]),A=C)}else _.run()};b.allowRecurse=!!n;let E;r==="sync"?E=b:r==="post"?E=()=>et(b,p&&p.suspense):(b.pre=!0,p&&(b.id=p.uid),E=()=>tl(b));const _=new ti(d,E);_.onTrack=l,_.onTrigger=a,n?s?b():A=_.run():r==="post"?et(_.run.bind(_),p&&p.suspense):_.run();const k=()=>{_.stop(),p&&p.scope&&Ya(p.scope.effects,_)};return w&&w.push(k),k}function gm(t,n,s){const o=this.proxy,r=qe(t)?t.includes(".")?Jp(o,t):()=>o[t]:t.bind(o,o);let l;de(n)?l=n:(l=n.handler,s=n);const a=Je;Is(this);const i=pi(r,l.bind(o),s);return a?Is(a):ds(),i}function Jp(t,n){const s=n.split(".");return()=>{let o=t;for(let r=0;r<s.length&&o;r++)o=o[s[r]];return o}}function os(t,n){if(!Te(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),Se(t))os(t.value,n);else if(ie(t))for(let s=0;s<t.length;s++)os(t[s],n);else if(fp(t)||as(t))t.forEach(s=>{os(s,n)});else if(yp(t))for(const s in t)os(t[s],n);return t}function Zp(t){Vh(t)&&q("Do not use built-in directive ids as custom directive id: "+t)}function Qp(t,n){const s=Ze;if(s===null)return q("withDirectives can only be used inside render functions."),t;const o=il(s)||s.proxy,r=t.dirs||(t.dirs=[]);for(let l=0;l<n.length;l++){let[a,i,c,p=Fe]=n[l];a&&(de(a)&&(a={mounted:a,updated:a}),a.deep&&os(i),r.push({dir:a,instance:o,value:i,oldValue:void 0,arg:c,modifiers:p}))}return t}function Un(t,n,s,o){const r=t.dirs,l=n&&n.dirs;for(let a=0;a<r.length;a++){const i=r[a];l&&(i.oldValue=l[a].value);let c=i.dir[o];c&&(gs(),Mt(c,s,8,[t.el,i,t,n]),vs())}}function vm(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qn(()=>{t.isMounted=!0}),qo(()=>{t.isUnmounting=!0}),t}const Tt=[Function,Array],_m={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tt,onEnter:Tt,onAfterEnter:Tt,onEnterCancelled:Tt,onBeforeLeave:Tt,onLeave:Tt,onAfterLeave:Tt,onLeaveCancelled:Tt,onBeforeAppear:Tt,onAppear:Tt,onAfterAppear:Tt,onAppearCancelled:Tt};function wm(t,n){const{leavingVNodes:s}=t;let o=s.get(n.type);return o||(o=Object.create(null),s.set(n.type,o)),o}function ea(t,n,s,o){const{appear:r,mode:l,persisted:a=!1,onBeforeEnter:i,onEnter:c,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:y,onLeaveCancelled:m,onBeforeAppear:w,onAppear:A,onAfterAppear:b,onAppearCancelled:E}=n,_=String(t.key),k=wm(s,t),C=($,V)=>{$&&Mt($,o,9,V)},B=($,V)=>{const oe=V[1];C($,V),ie($)?$.every(pe=>pe.length<=1)&&oe():$.length<=1&&oe()},F={mode:l,persisted:a,beforeEnter($){let V=i;if(!s.isMounted)if(r)V=w||i;else return;$._leaveCb&&$._leaveCb(!0);const oe=k[_];oe&&Qn(t,oe)&&oe.el._leaveCb&&oe.el._leaveCb(),C(V,[$])},enter($){let V=c,oe=p,pe=d;if(!s.isMounted)if(r)V=A||c,oe=b||p,pe=E||d;else return;let Y=!1;const me=$._enterCb=ve=>{Y||(Y=!0,ve?C(pe,[$]):C(oe,[$]),F.delayedLeave&&F.delayedLeave(),$._enterCb=void 0)};V?B(V,[$,me]):me()},leave($,V){const oe=String(t.key);if($._enterCb&&$._enterCb(!0),s.isUnmounting)return V();C(f,[$]);let pe=!1;const Y=$._leaveCb=me=>{pe||(pe=!0,V(),me?C(m,[$]):C(y,[$]),$._leaveCb=void 0,k[oe]===t&&delete k[oe])};k[oe]=t,h?B(h,[$,Y]):Y()},clone($){return ea($,n,s,o)}};return F}function Tr(t,n){t.shapeFlag&6&&t.component?Tr(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function Xp(t,n=!1,s){let o=[],r=0;for(let l=0;l<t.length;l++){let a=t[l];const i=s==null?a.key:String(s)+String(a.key!=null?a.key:l);a.type===$e?(a.patchFlag&128&&r++,o=o.concat(Xp(a.children,n,i))):(n||a.type!==ft)&&o.push(i!=null?sn(a,{key:i}):a)}if(r>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function Ie(t,n){return de(t)?(()=>je({name:t.name},n,{setup:t}))():t}const Ts=t=>!!t.type.__asyncLoader,di=t=>t.type.__isKeepAlive,Am={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:n}){const s=Bt(),o=s.ctx;if(!o.renderer)return()=>{const E=n.default&&n.default();return E&&E.length===1?E[0]:E};const r=new Map,l=new Set;let a=null;s.__v_cache=r;const i=s.suspense,{renderer:{p:c,m:p,um:d,o:{createElement:f}}}=o,h=f("div");o.activate=(E,_,k,C,B)=>{const F=E.component;p(E,_,k,0,i),c(F.vnode,E,_,k,F,i,C,E.slotScopeIds,B),et(()=>{F.isDeactivated=!1,F.a&&Zn(F.a);const $=E.props&&E.props.onVnodeMounted;$&&Ot($,F.parent,E)},i),Ql(F)},o.deactivate=E=>{const _=E.component;p(E,h,null,1,i),et(()=>{_.da&&Zn(_.da);const k=E.props&&E.props.onVnodeUnmounted;k&&Ot(k,_.parent,E),_.isDeactivated=!0},i),Ql(_)};function y(E){gl(E),d(E,s,i,!0)}function m(E){r.forEach((_,k)=>{const C=xo(_.type);C&&(!E||!E(C))&&w(k)})}function w(E){const _=r.get(E);!a||!Qn(_,a)?y(_):a&&gl(a),r.delete(E),l.delete(E)}ge(()=>[t.include,t.exclude],([E,_])=>{E&&m(k=>oo(E,k)),_&&m(k=>!oo(_,k))},{flush:"post",deep:!0});let A=null;const b=()=>{A!=null&&r.set(A,vl(s.subTree))};return qn(b),rl(b),qo(()=>{r.forEach(E=>{const{subTree:_,suspense:k}=s,C=vl(_);if(E.type===C.type&&E.key===C.key){gl(C);const B=C.component.da;B&&et(B,k);return}y(E)})}),()=>{if(A=null,!n.default)return null;const E=n.default(),_=E[0];if(E.length>1)return q("KeepAlive should contain exactly one component child."),a=null,E;if(!Fn(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return a=null,_;let k=vl(_);const C=k.type,B=xo(Ts(k)?k.type.__asyncResolved||{}:C),{include:F,exclude:$,max:V}=t;if(F&&(!B||!oo(F,B))||$&&B&&oo($,B))return a=k,_;const oe=k.key==null?C:k.key,pe=r.get(oe);return k.el&&(k=sn(k),_.shapeFlag&128&&(_.ssContent=k)),A=oe,pe?(k.el=pe.el,k.component=pe.component,k.transition&&Tr(k,k.transition),k.shapeFlag|=512,l.delete(oe),l.add(oe)):(l.add(oe),V&&l.size>parseInt(V,10)&&w(l.values().next().value)),k.shapeFlag|=256,a=k,Gp(_.type)?_:k}}},ed=Am;function oo(t,n){return ie(t)?t.some(s=>oo(s,n)):qe(t)?t.split(",").includes(n):Hh(t)?t.test(n):!1}function td(t,n){sd(t,"a",n)}function nd(t,n){sd(t,"da",n)}function sd(t,n,s=Je){const o=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ol(n,o,s),s){let r=s.parent;for(;r&&r.parent;)di(r.parent.vnode)&&bm(o,n,s,r),r=r.parent}}function bm(t,n,s,o){const r=ol(n,t,o,!0);ll(()=>{Ya(o[n],r)},s)}function gl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function vl(t){return t.shapeFlag&128?t.ssContent:t}function ol(t,n,s=Je,o=!1){if(s){const r=s[t]||(s[t]=[]),l=n.__weh||(n.__weh=(...a)=>{if(s.isUnmounted)return;gs(),Is(s);const i=Mt(n,s,t,a);return ds(),vs(),i});return o?r.unshift(l):r.push(l),l}else{const r=Gn(ai[t].replace(/ hook$/,""));q(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const gn=t=>(n,s=Je)=>(!Co||t==="sp")&&ol(t,(...o)=>n(...o),s),Em=gn("bm"),qn=gn("m"),Dm=gn("bu"),rl=gn("u"),qo=gn("bum"),ll=gn("um"),km=gn("sp"),Cm=gn("rtg"),xm=gn("rtc");function Bm(t,n=Je){ol("ec",t,n)}const ta="components";function Or(t,n){return $m(ta,t,!0,n)||t}const Sm=Symbol.for("v-ndc");function $m(t,n,s=!0,o=!1){const r=Ze||Je;if(r){const l=r.type;if(t===ta){const i=xo(l,!1);if(i&&(i===n||i===en(n)||i===ys(en(n))))return l}const a=ac(r[t]||l[t],n)||ac(r.appContext[t],n);if(!a&&o)return l;if(s&&!a){const i=t===ta?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";q(`Failed to resolve ${t.slice(0,-1)}: ${n}${i}`)}return a}else q(`resolve${ys(t.slice(0,-1))} can only be used in render() or setup().`)}function ac(t,n){return t&&(t[n]||t[en(n)]||t[ys(en(n))])}function Fs(t,n,s,o){let r;const l=s&&s[o];if(ie(t)||qe(t)){r=new Array(t.length);for(let a=0,i=t.length;a<i;a++)r[a]=n(t[a],a,void 0,l&&l[a])}else if(typeof t=="number"){Number.isInteger(t)||q(`The v-for range expect an integer value but got ${t}.`),r=new Array(t);for(let a=0;a<t;a++)r[a]=n(a+1,a,void 0,l&&l[a])}else if(Te(t))if(t[Symbol.iterator])r=Array.from(t,(a,i)=>n(a,i,void 0,l&&l[i]));else{const a=Object.keys(t);r=new Array(a.length);for(let i=0,c=a.length;i<c;i++){const p=a[i];r[i]=n(t[p],p,i,l&&l[i])}}else r=[];return s&&(s[o]=r),r}function Ln(t,n,s={},o,r){if(Ze.isCE||Ze.parent&&Ts(Ze.parent)&&Ze.parent.isCE)return n!=="default"&&(s.name=n),se("slot",s,o&&o());let l=t[n];l&&l.length>1&&(q("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),l=()=>[]),l&&l._c&&(l._d=!1),D();const a=l&&od(l(s)),i=R($e,{key:s.key||a&&a.key||`_${n}`},a||(o?o():[]),a&&t._===1?64:-2);return!r&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),l&&l._c&&(l._d=!0),i}function od(t){return t.some(n=>Fn(n)?!(n.type===ft||n.type===$e&&!od(n.children)):!0)?t:null}const na=t=>t?vd(t)?il(t)||t.proxy:na(t.parent):null,ps=je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>no(t.props),$attrs:t=>no(t.attrs),$slots:t=>no(t.slots),$refs:t=>no(t.refs),$parent:t=>na(t.parent),$root:t=>na(t.root),$emit:t=>t.emit,$options:t=>hi(t),$forceUpdate:t=>t.f||(t.f=()=>tl(t.update)),$nextTick:t=>t.n||(t.n=st.bind(t.proxy)),$watch:t=>gm.bind(t)}),fi=t=>t==="_"||t==="$",_l=(t,n)=>t!==Fe&&!t.__isScriptSetup&&ke(t,n),rd={get({_:t},n){const{ctx:s,setupState:o,data:r,props:l,accessCache:a,type:i,appContext:c}=t;if(n==="__isVue")return!0;let p;if(n[0]!=="$"){const y=a[n];if(y!==void 0)switch(y){case 1:return o[n];case 2:return r[n];case 4:return s[n];case 3:return l[n]}else{if(_l(o,n))return a[n]=1,o[n];if(r!==Fe&&ke(r,n))return a[n]=2,r[n];if((p=t.propsOptions[0])&&ke(p,n))return a[n]=3,l[n];if(s!==Fe&&ke(s,n))return a[n]=4,s[n];sa&&(a[n]=0)}}const d=ps[n];let f,h;if(d)return n==="$attrs"?(at(t,"get",n),$r()):n==="$slots"&&at(t,"get",n),d(t);if((f=i.__cssModules)&&(f=f[n]))return f;if(s!==Fe&&ke(s,n))return a[n]=4,s[n];if(h=c.config.globalProperties,ke(h,n))return h[n];Ze&&(!qe(n)||n.indexOf("__v")!==0)&&(r!==Fe&&fi(n[0])&&ke(r,n)?q(`Property ${JSON.stringify(n)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===Ze&&q(`Property ${JSON.stringify(n)} was accessed during render but is not defined on instance.`))},set({_:t},n,s){const{data:o,setupState:r,ctx:l}=t;return _l(r,n)?(r[n]=s,!0):r.__isScriptSetup&&ke(r,n)?(q(`Cannot mutate <script setup> binding "${n}" from Options API.`),!1):o!==Fe&&ke(o,n)?(o[n]=s,!0):ke(t.props,n)?(q(`Attempting to mutate prop "${n}". Props are readonly.`),!1):n[0]==="$"&&n.slice(1)in t?(q(`Attempting to mutate public property "${n}". Properties starting with $ are reserved and readonly.`),!1):(n in t.appContext.config.globalProperties?Object.defineProperty(l,n,{enumerable:!0,configurable:!0,value:s}):l[n]=s,!0)},has({_:{data:t,setupState:n,accessCache:s,ctx:o,appContext:r,propsOptions:l}},a){let i;return!!s[a]||t!==Fe&&ke(t,a)||_l(n,a)||(i=l[0])&&ke(i,a)||ke(o,a)||ke(ps,a)||ke(r.config.globalProperties,a)},defineProperty(t,n,s){return s.get!=null?t._.accessCache[n]=0:ke(s,"value")&&this.set(t,n,s.value,null),Reflect.defineProperty(t,n,s)}};rd.ownKeys=t=>(q("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));function Tm(t){const n={};return Object.defineProperty(n,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(ps).forEach(s=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!1,get:()=>ps[s](t),set:vt})}),n}function Om(t){const{ctx:n,propsOptions:[s]}=t;s&&Object.keys(s).forEach(o=>{Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>t.props[o],set:vt})})}function Pm(t){const{ctx:n,setupState:s}=t;Object.keys(ye(s)).forEach(o=>{if(!s.__isScriptSetup){if(fi(o[0])){q(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>s[o],set:vt})}})}function Im(){return Mm().slots}function Mm(){const t=Bt();return t||q("useContext() called without active instance."),t.setupContext||(t.setupContext=wd(t))}function ic(t){return ie(t)?t.reduce((n,s)=>(n[s]=null,n),{}):t}function Rm(){const t=Object.create(null);return(n,s)=>{t[s]?q(`${n} property "${s}" is already defined in ${t[s]}.`):t[s]=n}}let sa=!0;function Lm(t){const n=hi(t),s=t.proxy,o=t.ctx;sa=!1,n.beforeCreate&&cc(n.beforeCreate,t,"bc");const{data:r,computed:l,methods:a,watch:i,provide:c,inject:p,created:d,beforeMount:f,mounted:h,beforeUpdate:y,updated:m,activated:w,deactivated:A,beforeDestroy:b,beforeUnmount:E,destroyed:_,unmounted:k,render:C,renderTracked:B,renderTriggered:F,errorCaptured:$,serverPrefetch:V,expose:oe,inheritAttrs:pe,components:Y,directives:me,filters:ve}=n,we=Rm();{const[te]=t.propsOptions;if(te)for(const ce in te)we("Props",ce)}if(p&&Fm(p,o,we),a)for(const te in a){const ce=a[te];de(ce)?(Object.defineProperty(o,te,{value:ce.bind(s),configurable:!0,enumerable:!0,writable:!0}),we("Methods",te)):q(`Method "${te}" has type "${typeof ce}" in the component definition. Did you reference the function correctly?`)}if(r){de(r)||q("The data option must be a function. Plain object usage is no longer supported.");const te=r.call(s,s);if(Ja(te)&&q("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Te(te))q("data() should return an object.");else{t.data=He(te);for(const ce in te)we("Data",ce),fi(ce[0])||Object.defineProperty(o,ce,{configurable:!0,enumerable:!0,get:()=>te[ce],set:vt})}}if(sa=!0,l)for(const te in l){const ce=l[te],De=de(ce)?ce.bind(s,s):de(ce.get)?ce.get.bind(s,s):vt;De===vt&&q(`Computed property "${te}" has no getter.`);const Pe=!de(ce)&&de(ce.set)?ce.set.bind(s):()=>{q(`Write operation failed: computed property "${te}" is readonly.`)},St=T({get:De,set:Pe});Object.defineProperty(o,te,{enumerable:!0,configurable:!0,get:()=>St.value,set:tt=>St.value=tt}),we("Computed",te)}if(i)for(const te in i)ld(i[te],o,s,te);if(c){const te=de(c)?c.call(s):c;Reflect.ownKeys(te).forEach(ce=>{Et(ce,te[ce])})}d&&cc(d,t,"c");function Me(te,ce){ie(ce)?ce.forEach(De=>te(De.bind(s))):ce&&te(ce.bind(s))}if(Me(Em,f),Me(qn,h),Me(Dm,y),Me(rl,m),Me(td,w),Me(nd,A),Me(Bm,$),Me(xm,B),Me(Cm,F),Me(qo,E),Me(ll,k),Me(km,V),ie(oe))if(oe.length){const te=t.exposed||(t.exposed={});oe.forEach(ce=>{Object.defineProperty(te,ce,{get:()=>s[ce],set:De=>s[ce]=De})})}else t.exposed||(t.exposed={});C&&t.render===vt&&(t.render=C),pe!=null&&(t.inheritAttrs=pe),Y&&(t.components=Y),me&&(t.directives=me)}function Fm(t,n,s=vt){ie(t)&&(t=oa(t));for(const o in t){const r=t[o];let l;Te(r)?"default"in r?l=I(r.from||o,r.default,!0):l=I(r.from||o):l=I(r),Se(l)?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):n[o]=l,s("Inject",o)}}function cc(t,n,s){Mt(ie(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,s)}function ld(t,n,s,o){const r=o.includes(".")?Jp(s,o):()=>s[o];if(qe(t)){const l=n[t];de(l)?ge(r,l):q(`Invalid watch handler specified by key "${t}"`,l)}else if(de(t))ge(r,t.bind(s));else if(Te(t))if(ie(t))t.forEach(l=>ld(l,n,s,o));else{const l=de(t.handler)?t.handler.bind(s):n[t.handler];de(l)?ge(r,l,t):q(`Invalid watch handler specified by key "${t.handler}"`,l)}else q(`Invalid watch option: "${o}"`,t)}function hi(t){const n=t.type,{mixins:s,extends:o}=n,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=t.appContext,i=l.get(n);let c;return i?c=i:!r.length&&!s&&!o?c=n:(c={},r.length&&r.forEach(p=>Pr(c,p,a,!0)),Pr(c,n,a)),Te(n)&&l.set(n,c),c}function Pr(t,n,s,o=!1){const{mixins:r,extends:l}=n;l&&Pr(t,l,s,!0),r&&r.forEach(a=>Pr(t,a,s,!0));for(const a in n)if(o&&a==="expose")q('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const i=Nm[a]||s&&s[a];t[a]=i?i(t[a],n[a]):n[a]}return t}const Nm={data:uc,props:pc,emits:pc,methods:ro,computed:ro,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:ro,directives:ro,watch:qm,provide:uc,inject:jm};function uc(t,n){return n?t?function(){return je(de(t)?t.call(this,this):t,de(n)?n.call(this,this):n)}:n:t}function jm(t,n){return ro(oa(t),oa(n))}function oa(t){if(ie(t)){const n={};for(let s=0;s<t.length;s++)n[t[s]]=t[s];return n}return t}function ct(t,n){return t?[...new Set([].concat(t,n))]:n}function ro(t,n){return t?je(Object.create(null),t,n):n}function pc(t,n){return t?ie(t)&&ie(n)?[...new Set([...t,...n])]:je(Object.create(null),ic(t),ic(n??{})):n}function qm(t,n){if(!t)return n;if(!n)return t;const s=je(Object.create(null),t);for(const o in n)s[o]=ct(t[o],n[o]);return s}function ad(){return{app:null,config:{isNativeTag:dp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hm=0;function Vm(t,n){return function(o,r=null){de(o)||(o=je({},o)),r!=null&&!Te(r)&&(q("root props passed to app.mount() must be an object."),r=null);const l=ad();Object.defineProperty(l.config,"unwrapInjectedRef",{get(){return!0},set(){q("app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.")}});const a=new Set;let i=!1;const c=l.app={_uid:Hm++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:Lr,get config(){return l.config},set config(p){q("app.config cannot be replaced. Modify individual options instead.")},use(p,...d){return a.has(p)?q("Plugin has already been applied to target app."):p&&de(p.install)?(a.add(p),p.install(c,...d)):de(p)?(a.add(p),p(c,...d)):q('A plugin must either be a function or an object with an "install" function.'),c},mixin(p){return l.mixins.includes(p)?q("Mixin has already been applied to target app"+(p.name?`: ${p.name}`:"")):l.mixins.push(p),c},component(p,d){return ca(p,l.config),d?(l.components[p]&&q(`Component "${p}" has already been registered in target app.`),l.components[p]=d,c):l.components[p]},directive(p,d){return Zp(p),d?(l.directives[p]&&q(`Directive "${p}" has already been registered in target app.`),l.directives[p]=d,c):l.directives[p]},mount(p,d,f){if(i)q("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{p.__vue_app__&&q("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=se(o,r);return h.appContext=l,l.reload=()=>{t(sn(h),p,f)},d&&n?n(h,p):t(h,p,f),i=!0,c._container=p,p.__vue_app__=c,c._instance=h.component,sm(c,Lr),il(h.component)||h.component.proxy}},unmount(){i?(t(null,c._container),c._instance=null,om(c),delete c._container.__vue_app__):q("Cannot unmount an app that is not mounted.")},provide(p,d){return p in l.provides&&q(`App already provides property with key "${String(p)}". It will be overwritten with the new value.`),l.provides[p]=d,c},runWithContext(p){Ir=c;try{return p()}finally{Ir=null}}};return c}}let Ir=null;function Et(t,n){if(!Je)q("provide() can only be used inside setup().");else{let s=Je.provides;const o=Je.parent&&Je.parent.provides;o===s&&(s=Je.provides=Object.create(o)),s[t]=n}}function I(t,n,s=!1){const o=Je||Ze;if(o||Ir){const r=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Ir._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return s&&de(n)?n.call(o&&o.proxy):n;q(`injection "${String(t)}" not found.`)}else q("inject() can only be used inside setup() or functional components.")}function Um(t,n,s,o=!1){const r={},l={};Er(l,al,1),t.propsDefaults=Object.create(null),id(t,n,r,l);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);ud(n||{},r,t),s?t.props=o?r:Py(r):t.type.props?t.props=r:t.props=l,t.attrs=l}function Wm(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function zm(t,n,s,o){const{props:r,attrs:l,vnode:{patchFlag:a}}=t,i=ye(r),[c]=t.propsOptions;let p=!1;if(!Wm(t)&&(o||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(nl(t.emitsOptions,h))continue;const y=n[h];if(c)if(ke(l,h))y!==l[h]&&(l[h]=y,p=!0);else{const m=en(h);r[m]=ra(c,i,m,y,t,!1)}else y!==l[h]&&(l[h]=y,p=!0)}}}else{id(t,n,r,l)&&(p=!0);let d;for(const f in i)(!n||!ke(n,f)&&((d=hn(f))===f||!ke(n,d)))&&(c?s&&(s[f]!==void 0||s[d]!==void 0)&&(r[f]=ra(c,i,f,void 0,t,!0)):delete r[f]);if(l!==i)for(const f in l)(!n||!ke(n,f))&&(delete l[f],p=!0)}p&&tn(t,"set","$attrs"),ud(n||{},r,t)}function id(t,n,s,o){const[r,l]=t.propsOptions;let a=!1,i;if(n)for(let c in n){if(dr(c))continue;const p=n[c];let d;r&&ke(r,d=en(c))?!l||!l.includes(d)?s[d]=p:(i||(i={}))[d]=p:nl(t.emitsOptions,c)||(!(c in o)||p!==o[c])&&(o[c]=p,a=!0)}if(l){const c=ye(s),p=i||Fe;for(let d=0;d<l.length;d++){const f=l[d];s[f]=ra(r,c,f,p[f],t,!ke(p,f))}}return a}function ra(t,n,s,o,r,l){const a=t[s];if(a!=null){const i=ke(a,"default");if(i&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&de(c)){const{propsDefaults:p}=r;s in p?o=p[s]:(Is(r),o=p[s]=c.call(null,n),ds())}else o=c}a[0]&&(l&&!i?o=!1:a[1]&&(o===""||o===hn(s))&&(o=!0))}return o}function cd(t,n,s=!1){const o=n.propsCache,r=o.get(t);if(r)return r;const l=t.props,a={},i=[];let c=!1;if(!de(t)){const d=f=>{c=!0;const[h,y]=cd(f,n,!0);je(a,h),y&&i.push(...y)};!s&&n.mixins.length&&n.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!l&&!c)return Te(t)&&o.set(t,Ss),Ss;if(ie(l))for(let d=0;d<l.length;d++){qe(l[d])||q("props must be strings when using array syntax.",l[d]);const f=en(l[d]);dc(f)&&(a[f]=Fe)}else if(l){Te(l)||q("invalid props options",l);for(const d in l){const f=en(d);if(dc(f)){const h=l[d],y=a[f]=ie(h)||de(h)?{type:h}:je({},h);if(y){const m=hc(Boolean,y.type),w=hc(String,y.type);y[0]=m>-1,y[1]=w<0||m<w,(m>-1||ke(y,"default"))&&i.push(f)}}}}const p=[a,i];return Te(t)&&o.set(t,p),p}function dc(t){return t[0]!=="$"?!0:(q(`Invalid prop name: "${t}" is a reserved property.`),!1)}function la(t){const n=t&&t.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:t===null?"null":""}function fc(t,n){return la(t)===la(n)}function hc(t,n){return ie(n)?n.findIndex(s=>fc(s,t)):de(n)&&fc(n,t)?0:-1}function ud(t,n,s){const o=ye(n),r=s.propsOptions[0];for(const l in r){let a=r[l];a!=null&&Km(l,o[l],a,!ke(t,l)&&!ke(t,hn(l)))}}function Km(t,n,s,o){const{type:r,required:l,validator:a,skipCheck:i}=s;if(l&&o){q('Missing required prop: "'+t+'"');return}if(!(n==null&&!l)){if(r!=null&&r!==!0&&!i){let c=!1;const p=ie(r)?r:[r],d=[];for(let f=0;f<p.length&&!c;f++){const{valid:h,expectedType:y}=Gm(n,p[f]);d.push(y||""),c=h}if(!c){q(Jm(t,n,d));return}}a&&!a(n)&&q('Invalid prop: custom validator check failed for prop "'+t+'".')}}const Ym=jn("String,Number,Boolean,Function,Symbol,BigInt");function Gm(t,n){let s;const o=la(n);if(Ym(o)){const r=typeof t;s=r===o.toLowerCase(),!s&&r==="object"&&(s=t instanceof n)}else o==="Object"?s=Te(t):o==="Array"?s=ie(t):o==="null"?s=t===null:s=t instanceof n;return{valid:s,expectedType:o}}function Jm(t,n,s){let o=`Invalid prop: type check failed for prop "${t}". Expected ${s.map(ys).join(" | ")}`;const r=s[0],l=Za(n),a=yc(n,r),i=yc(n,l);return s.length===1&&mc(r)&&!Zm(r,l)&&(o+=` with value ${a}`),o+=`, got ${l} `,mc(l)&&(o+=`with value ${i}.`),o}function yc(t,n){return n==="String"?`"${t}"`:n==="Number"?`${Number(t)}`:`${t}`}function mc(t){return["string","number","boolean"].some(s=>t.toLowerCase()===s)}function Zm(...t){return t.some(n=>n.toLowerCase()==="boolean")}const pd=t=>t[0]==="_"||t==="$stable",yi=t=>ie(t)?t.map(qt):[qt(t)],Qm=(t,n,s)=>{if(n._n)return n;const o=L((...r)=>(Je&&q(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),yi(n(...r))),s);return o._c=!1,o},dd=(t,n,s)=>{const o=t._ctx;for(const r in t){if(pd(r))continue;const l=t[r];if(de(l))n[r]=Qm(r,l,o);else if(l!=null){q(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const a=yi(l);n[r]=()=>a}}},fd=(t,n)=>{di(t.vnode)||q("Non-function value encountered for default slot. Prefer function slots for better performance.");const s=yi(n);t.slots.default=()=>s},Xm=(t,n)=>{if(t.vnode.shapeFlag&32){const s=n._;s?(t.slots=ye(n),Er(n,"_",s)):dd(n,t.slots={})}else t.slots={},n&&fd(t,n);Er(t.slots,al,1)},e9=(t,n,s)=>{const{vnode:o,slots:r}=t;let l=!0,a=Fe;if(o.shapeFlag&32){const i=n._;i?Bn?(je(r,n),tn(t,"set","$slots")):s&&i===1?l=!1:(je(r,n),!s&&i===1&&delete r._):(l=!n.$stable,dd(n,r)),a=n}else n&&(fd(t,n),a={default:1});if(l)for(const i in r)!pd(i)&&!(i in a)&&delete r[i]};function aa(t,n,s,o,r=!1){if(ie(t)){t.forEach((h,y)=>aa(h,n&&(ie(n)?n[y]:n),s,o,r));return}if(Ts(o)&&!r)return;const l=o.shapeFlag&4?il(o.component)||o.component.proxy:o.el,a=r?null:l,{i,r:c}=t;if(!i){q("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const p=n&&n.r,d=i.refs===Fe?i.refs={}:i.refs,f=i.setupState;if(p!=null&&p!==c&&(qe(p)?(d[p]=null,ke(f,p)&&(f[p]=null)):Se(p)&&(p.value=null)),de(c))fn(c,i,12,[a,d]);else{const h=qe(c),y=Se(c);if(h||y){const m=()=>{if(t.f){const w=h?ke(f,c)?f[c]:d[c]:c.value;r?ie(w)&&Ya(w,l):ie(w)?w.includes(l)||w.push(l):h?(d[c]=[l],ke(f,c)&&(f[c]=d[c])):(c.value=[l],t.k&&(d[t.k]=c.value))}else h?(d[c]=a,ke(f,c)&&(f[c]=a)):y?(c.value=a,t.k&&(d[t.k]=a)):q("Invalid template ref type:",c,`(${typeof c})`)};a?(m.id=-1,et(m,s)):m()}else q("Invalid template ref type:",c,`(${typeof c})`)}}let Vs,kn;function ln(t,n){t.appContext.config.performance&&Mr()&&kn.mark(`vue-${n}-${t.uid}`),am(t,n,Mr()?kn.now():Date.now())}function an(t,n){if(t.appContext.config.performance&&Mr()){const s=`vue-${n}-${t.uid}`,o=s+":end";kn.mark(o),kn.measure(`<${cl(t,t.type)}> ${n}`,s,o),kn.clearMarks(s),kn.clearMarks(o)}im(t,n,Mr()?kn.now():Date.now())}function Mr(){return Vs!==void 0||(typeof window<"u"&&window.performance?(Vs=!0,kn=window.performance):Vs=!1),Vs}function t9(){const t=[];if(t.length){const n=t.length>1;console.warn(`Feature flag${n?"s":""} ${t.join(", ")} ${n?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const et=mm;function n9(t){return s9(t)}function s9(t,n){t9();const s=Dr();s.__VUE__=!0,Up(s.__VUE_DEVTOOLS_GLOBAL_HOOK__,s);const{insert:o,remove:r,patchProp:l,createElement:a,createText:i,createComment:c,setText:p,setElementText:d,parentNode:f,nextSibling:h,setScopeId:y=vt,insertStaticContent:m}=t,w=(g,v,x,M=null,P=null,W=null,X=!1,U=null,z=Bn?!1:!!v.dynamicChildren)=>{if(g===v)return;g&&!Qn(g,v)&&(M=Q(g),yt(g,P,W,!0),g=null),v.patchFlag===-2&&(z=!1,v.dynamicChildren=null);const{type:H,ref:ae,shapeFlag:le}=v;switch(H){case Ho:A(g,v,x,M);break;case ft:b(g,v,x,M);break;case yr:g==null?E(v,x,M,X):_(g,v,x,X);break;case $e:me(g,v,x,M,P,W,X,U,z);break;default:le&1?B(g,v,x,M,P,W,X,U,z):le&6?ve(g,v,x,M,P,W,X,U,z):le&64||le&128?H.process(g,v,x,M,P,W,X,U,z,ne):q("Invalid VNode type:",H,`(${typeof H})`)}ae!=null&&P&&aa(ae,g&&g.ref,W,v||g,!v)},A=(g,v,x,M)=>{if(g==null)o(v.el=i(v.children),x,M);else{const P=v.el=g.el;v.children!==g.children&&p(P,v.children)}},b=(g,v,x,M)=>{g==null?o(v.el=c(v.children||""),x,M):v.el=g.el},E=(g,v,x,M)=>{[g.el,g.anchor]=m(g.children,v,x,M,g.el,g.anchor)},_=(g,v,x,M)=>{if(v.children!==g.children){const P=h(g.anchor);C(g),[v.el,v.anchor]=m(v.children,x,P,M)}else v.el=g.el,v.anchor=g.anchor},k=({el:g,anchor:v},x,M)=>{let P;for(;g&&g!==v;)P=h(g),o(g,x,M),g=P;o(v,x,M)},C=({el:g,anchor:v})=>{let x;for(;g&&g!==v;)x=h(g),r(g),g=x;r(v)},B=(g,v,x,M,P,W,X,U,z)=>{X=X||v.type==="svg",g==null?F(v,x,M,P,W,X,U,z):oe(g,v,P,W,X,U,z)},F=(g,v,x,M,P,W,X,U)=>{let z,H;const{type:ae,props:le,shapeFlag:ue,transition:he,dirs:Ce}=g;if(z=g.el=a(g.type,W,le&&le.is,le),ue&8?d(z,g.children):ue&16&&V(g.children,z,null,M,P,W&&ae!=="foreignObject",X,U),Ce&&Un(g,null,M,"created"),$(z,g,g.scopeId,X,M),le){for(const Le in le)Le!=="value"&&!dr(Le)&&l(z,Le,null,le[Le],W,g.children,M,P,S);"value"in le&&l(z,"value",null,le.value),(H=le.onVnodeBeforeMount)&&Ot(H,M,g)}Object.defineProperty(z,"__vnode",{value:g,enumerable:!1}),Object.defineProperty(z,"__vueParentComponent",{value:M,enumerable:!1}),Ce&&Un(g,null,M,"beforeMount");const Ne=(!P||P&&!P.pendingBranch)&&he&&!he.persisted;Ne&&he.beforeEnter(z),o(z,v,x),((H=le&&le.onVnodeMounted)||Ne||Ce)&&et(()=>{H&&Ot(H,M,g),Ne&&he.enter(z),Ce&&Un(g,null,M,"mounted")},P)},$=(g,v,x,M,P)=>{if(x&&y(g,x),M)for(let W=0;W<M.length;W++)y(g,M[W]);if(P){let W=P.subTree;if(W.patchFlag>0&&W.patchFlag&2048&&(W=Yp(W.children)||W),v===W){const X=P.vnode;$(g,X,X.scopeId,X.slotScopeIds,P.parent)}}},V=(g,v,x,M,P,W,X,U,z=0)=>{for(let H=z;H<g.length;H++){const ae=g[H]=U?En(g[H]):qt(g[H]);w(null,ae,v,x,M,P,W,X,U)}},oe=(g,v,x,M,P,W,X)=>{const U=v.el=g.el;let{patchFlag:z,dynamicChildren:H,dirs:ae}=v;z|=g.patchFlag&16;const le=g.props||Fe,ue=v.props||Fe;let he;x&&Wn(x,!1),(he=ue.onVnodeBeforeUpdate)&&Ot(he,x,v,g),ae&&Un(v,g,x,"beforeUpdate"),x&&Wn(x,!0),Bn&&(z=0,X=!1,H=null);const Ce=P&&v.type!=="foreignObject";if(H?(pe(g.dynamicChildren,H,U,x,M,Ce,W),Rr(g,v)):X||De(g,v,U,null,x,M,Ce,W,!1),z>0){if(z&16)Y(U,v,le,ue,x,M,P);else if(z&2&&le.class!==ue.class&&l(U,"class",null,ue.class,P),z&4&&l(U,"style",le.style,ue.style,P),z&8){const Ne=v.dynamicProps;for(let Le=0;Le<Ne.length;Le++){const ze=Ne[Le],Ft=le[ze],bs=ue[ze];(bs!==Ft||ze==="value")&&l(U,ze,Ft,bs,P,g.children,x,M,S)}}z&1&&g.children!==v.children&&d(U,v.children)}else!X&&H==null&&Y(U,v,le,ue,x,M,P);((he=ue.onVnodeUpdated)||ae)&&et(()=>{he&&Ot(he,x,v,g),ae&&Un(v,g,x,"updated")},M)},pe=(g,v,x,M,P,W,X)=>{for(let U=0;U<v.length;U++){const z=g[U],H=v[U],ae=z.el&&(z.type===$e||!Qn(z,H)||z.shapeFlag&70)?f(z.el):x;w(z,H,ae,null,M,P,W,X,!0)}},Y=(g,v,x,M,P,W,X)=>{if(x!==M){if(x!==Fe)for(const U in x)!dr(U)&&!(U in M)&&l(g,U,x[U],null,X,v.children,P,W,S);for(const U in M){if(dr(U))continue;const z=M[U],H=x[U];z!==H&&U!=="value"&&l(g,U,H,z,X,v.children,P,W,S)}"value"in M&&l(g,"value",x.value,M.value)}},me=(g,v,x,M,P,W,X,U,z)=>{const H=v.el=g?g.el:i(""),ae=v.anchor=g?g.anchor:i("");let{patchFlag:le,dynamicChildren:ue,slotScopeIds:he}=v;(Bn||le&2048)&&(le=0,z=!1,ue=null),he&&(U=U?U.concat(he):he),g==null?(o(H,x,M),o(ae,x,M),V(v.children,x,ae,P,W,X,U,z)):le>0&&le&64&&ue&&g.dynamicChildren?(pe(g.dynamicChildren,ue,x,P,W,X,U),Rr(g,v)):De(g,v,x,ae,P,W,X,U,z)},ve=(g,v,x,M,P,W,X,U,z)=>{v.slotScopeIds=U,g==null?v.shapeFlag&512?P.ctx.activate(v,x,M,X,z):we(v,x,M,P,W,X,z):Me(g,v,z)},we=(g,v,x,M,P,W,X)=>{const U=g.component=h9(g,M,P);if(U.type.__hmrId&&Xy(U),fr(g),ln(U,"mount"),di(g)&&(U.ctx.renderer=ne),ln(U,"init"),m9(U),an(U,"init"),U.asyncDep){if(P&&P.registerDep(U,te),!g.el){const z=U.subTree=se(ft);b(null,z,v,x)}return}te(U,g,v,x,P,W,X),hr(),an(U,"mount")},Me=(g,v,x)=>{const M=v.component=g.component;if(hm(g,v,x))if(M.asyncDep&&!M.asyncResolved){fr(v),ce(M,v,x),hr();return}else M.next=v,Zy(M.update),M.update();else v.el=g.el,M.vnode=v},te=(g,v,x,M,P,W,X)=>{const U=()=>{if(g.isMounted){let{next:ae,bu:le,u:ue,parent:he,vnode:Ce}=g,Ne=ae,Le;fr(ae||g.vnode),Wn(g,!1),ae?(ae.el=Ce.el,ce(g,ae,X)):ae=Ce,le&&Zn(le),(Le=ae.props&&ae.props.onVnodeBeforeUpdate)&&Ot(Le,he,ae,Ce),Wn(g,!0),ln(g,"render");const ze=ml(g);an(g,"render");const Ft=g.subTree;g.subTree=ze,ln(g,"patch"),w(Ft,ze,f(Ft.el),Q(Ft),g,P,W),an(g,"patch"),ae.el=ze.el,Ne===null&&ym(g,ze.el),ue&&et(ue,P),(Le=ae.props&&ae.props.onVnodeUpdated)&&et(()=>Ot(Le,he,ae,Ce),P),Wp(g),hr()}else{let ae;const{el:le,props:ue}=v,{bm:he,m:Ce,parent:Ne}=g,Le=Ts(v);if(Wn(g,!1),he&&Zn(he),!Le&&(ae=ue&&ue.onVnodeBeforeMount)&&Ot(ae,Ne,v),Wn(g,!0),le&&Re){const ze=()=>{ln(g,"render"),g.subTree=ml(g),an(g,"render"),ln(g,"hydrate"),Re(le,g.subTree,g,P,null),an(g,"hydrate")};Le?v.type.__asyncLoader().then(()=>!g.isUnmounted&&ze()):ze()}else{ln(g,"render");const ze=g.subTree=ml(g);an(g,"render"),ln(g,"patch"),w(null,ze,x,M,g,P,W),an(g,"patch"),v.el=ze.el}if(Ce&&et(Ce,P),!Le&&(ae=ue&&ue.onVnodeMounted)){const ze=v;et(()=>Ot(ae,Ne,ze),P)}(v.shapeFlag&256||Ne&&Ts(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&g.a&&et(g.a,P),g.isMounted=!0,Ql(g),v=x=M=null}},z=g.effect=new ti(U,()=>tl(H),g.scope),H=g.update=()=>z.run();H.id=g.uid,Wn(g,!0),z.onTrack=g.rtc?ae=>Zn(g.rtc,ae):void 0,z.onTrigger=g.rtg?ae=>Zn(g.rtg,ae):void 0,H.ownerInstance=g,H()},ce=(g,v,x)=>{v.component=g;const M=g.vnode.props;g.vnode=v,g.next=null,zm(g,v.props,M,x),e9(g,v.children,x),gs(),sc(),vs()},De=(g,v,x,M,P,W,X,U,z=!1)=>{const H=g&&g.children,ae=g?g.shapeFlag:0,le=v.children,{patchFlag:ue,shapeFlag:he}=v;if(ue>0){if(ue&128){St(H,le,x,M,P,W,X,U,z);return}else if(ue&256){Pe(H,le,x,M,P,W,X,U,z);return}}he&8?(ae&16&&S(H,P,W),le!==H&&d(x,le)):ae&16?he&16?St(H,le,x,M,P,W,X,U,z):S(H,P,W,!0):(ae&8&&d(x,""),he&16&&V(le,x,M,P,W,X,U,z))},Pe=(g,v,x,M,P,W,X,U,z)=>{g=g||Ss,v=v||Ss;const H=g.length,ae=v.length,le=Math.min(H,ae);let ue;for(ue=0;ue<le;ue++){const he=v[ue]=z?En(v[ue]):qt(v[ue]);w(g[ue],he,x,null,P,W,X,U,z)}H>ae?S(g,P,W,!0,!1,le):V(v,x,M,P,W,X,U,z,le)},St=(g,v,x,M,P,W,X,U,z)=>{let H=0;const ae=v.length;let le=g.length-1,ue=ae-1;for(;H<=le&&H<=ue;){const he=g[H],Ce=v[H]=z?En(v[H]):qt(v[H]);if(Qn(he,Ce))w(he,Ce,x,null,P,W,X,U,z);else break;H++}for(;H<=le&&H<=ue;){const he=g[le],Ce=v[ue]=z?En(v[ue]):qt(v[ue]);if(Qn(he,Ce))w(he,Ce,x,null,P,W,X,U,z);else break;le--,ue--}if(H>le){if(H<=ue){const he=ue+1,Ce=he<ae?v[he].el:M;for(;H<=ue;)w(null,v[H]=z?En(v[H]):qt(v[H]),x,Ce,P,W,X,U,z),H++}}else if(H>ue)for(;H<=le;)yt(g[H],P,W,!0),H++;else{const he=H,Ce=H,Ne=new Map;for(H=Ce;H<=ue;H++){const it=v[H]=z?En(v[H]):qt(v[H]);it.key!=null&&(Ne.has(it.key)&&q("Duplicate keys found during update:",JSON.stringify(it.key),"Make sure keys are unique."),Ne.set(it.key,H))}let Le,ze=0;const Ft=ue-Ce+1;let bs=!1,zi=0;const Hs=new Array(Ft);for(H=0;H<Ft;H++)Hs[H]=0;for(H=he;H<=le;H++){const it=g[H];if(ze>=Ft){yt(it,P,W,!0);continue}let Kt;if(it.key!=null)Kt=Ne.get(it.key);else for(Le=Ce;Le<=ue;Le++)if(Hs[Le-Ce]===0&&Qn(it,v[Le])){Kt=Le;break}Kt===void 0?yt(it,P,W,!0):(Hs[Kt-Ce]=H+1,Kt>=zi?zi=Kt:bs=!0,w(it,v[Kt],x,null,P,W,X,U,z),ze++)}const Ki=bs?o9(Hs):Ss;for(Le=Ki.length-1,H=Ft-1;H>=0;H--){const it=Ce+H,Kt=v[it],Yi=it+1<ae?v[it+1].el:M;Hs[H]===0?w(null,Kt,x,Yi,P,W,X,U,z):bs&&(Le<0||H!==Ki[Le]?tt(Kt,x,Yi,2):Le--)}}},tt=(g,v,x,M,P=null)=>{const{el:W,type:X,transition:U,children:z,shapeFlag:H}=g;if(H&6){tt(g.component.subTree,v,x,M);return}if(H&128){g.suspense.move(v,x,M);return}if(H&64){X.move(g,v,x,ne);return}if(X===$e){o(W,v,x);for(let le=0;le<z.length;le++)tt(z[le],v,x,M);o(g.anchor,v,x);return}if(X===yr){k(g,v,x);return}if(M!==2&&H&1&&U)if(M===0)U.beforeEnter(W),o(W,v,x),et(()=>U.enter(W),P);else{const{leave:le,delayLeave:ue,afterLeave:he}=U,Ce=()=>o(W,v,x),Ne=()=>{le(W,()=>{Ce(),he&&he()})};ue?ue(W,Ce,Ne):Ne()}else o(W,v,x)},yt=(g,v,x,M=!1,P=!1)=>{const{type:W,props:X,ref:U,children:z,dynamicChildren:H,shapeFlag:ae,patchFlag:le,dirs:ue}=g;if(U!=null&&aa(U,null,x,g,!0),ae&256){v.ctx.deactivate(g);return}const he=ae&1&&ue,Ce=!Ts(g);let Ne;if(Ce&&(Ne=X&&X.onVnodeBeforeUnmount)&&Ot(Ne,v,g),ae&6)$t(g.component,x,M);else{if(ae&128){g.suspense.unmount(x,M);return}he&&Un(g,null,v,"beforeUnmount"),ae&64?g.type.remove(g,v,x,P,ne,M):H&&(W!==$e||le>0&&le&64)?S(H,v,x,!1,!0):(W===$e&&le&384||!P&&ae&16)&&S(z,v,x),M&&zt(g)}(Ce&&(Ne=X&&X.onVnodeUnmounted)||he)&&et(()=>{Ne&&Ot(Ne,v,g),he&&Un(g,null,v,"unmounted")},x)},zt=g=>{const{type:v,el:x,anchor:M,transition:P}=g;if(v===$e){g.patchFlag>0&&g.patchFlag&2048&&P&&!P.persisted?g.children.forEach(X=>{X.type===ft?r(X.el):zt(X)}):Vn(x,M);return}if(v===yr){C(g);return}const W=()=>{r(x),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(g.shapeFlag&1&&P&&!P.persisted){const{leave:X,delayLeave:U}=P,z=()=>X(x,W);U?U(g.el,W,z):z()}else W()},Vn=(g,v)=>{let x;for(;g!==v;)x=h(g),r(g),g=x;r(v)},$t=(g,v,x)=>{g.type.__hmrId&&em(g);const{bum:M,scope:P,update:W,subTree:X,um:U}=g;M&&Zn(M),P.stop(),W&&(W.active=!1,yt(X,g,v,x)),U&&et(U,v),et(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve()),lm(g)},S=(g,v,x,M=!1,P=!1,W=0)=>{for(let X=W;X<g.length;X++)yt(g[X],v,x,M,P)},Q=g=>g.shapeFlag&6?Q(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),ee=(g,v,x)=>{g==null?v._vnode&&yt(v._vnode,null,null,!0):w(v._vnode||null,g,v,null,null,null,x),sc(),qp(),v._vnode=g},ne={p:w,um:yt,m:tt,r:zt,mt:we,mc:V,pc:De,pbc:pe,n:Q,o:t};let be,Re;return n&&([be,Re]=n(ne)),{render:ee,hydrate:be,createApp:Vm(ee,be)}}function Wn({effect:t,update:n},s){t.allowRecurse=n.allowRecurse=s}function Rr(t,n,s=!1){const o=t.children,r=n.children;if(ie(o)&&ie(r))for(let l=0;l<o.length;l++){const a=o[l];let i=r[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[l]=En(r[l]),i.el=a.el),s||Rr(a,i)),i.type===Ho&&(i.el=a.el),i.type===ft&&!i.el&&(i.el=a.el)}}function o9(t){const n=t.slice(),s=[0];let o,r,l,a,i;const c=t.length;for(o=0;o<c;o++){const p=t[o];if(p!==0){if(r=s[s.length-1],t[r]<p){n[o]=r,s.push(o);continue}for(l=0,a=s.length-1;l<a;)i=l+a>>1,t[s[i]]<p?l=i+1:a=i;p<t[s[l]]&&(l>0&&(n[o]=s[l-1]),s[l]=o)}}for(l=s.length,a=s[l-1];l-- >0;)s[l]=a,a=n[a];return s}const r9=t=>t.__isTeleport,Os=t=>t&&(t.disabled||t.disabled===""),gc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ia=(t,n)=>{const s=t&&t.to;if(qe(s))if(n){const o=n(s);return o||q(`Failed to locate Teleport target with selector "${s}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),o}else return q("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!s&&!Os(t)&&q(`Invalid Teleport target: ${s}`),s},l9={__isTeleport:!0,process(t,n,s,o,r,l,a,i,c,p){const{mc:d,pc:f,pbc:h,o:{insert:y,querySelector:m,createText:w,createComment:A}}=p,b=Os(n.props);let{shapeFlag:E,children:_,dynamicChildren:k}=n;if(Bn&&(c=!1,k=null),t==null){const C=n.el=A("teleport start"),B=n.anchor=A("teleport end");y(C,s,o),y(B,s,o);const F=n.target=ia(n.props,m),$=n.targetAnchor=w("");F?(y($,F),a=a||gc(F)):b||q("Invalid Teleport target on mount:",F,`(${typeof F})`);const V=(oe,pe)=>{E&16&&d(_,oe,pe,r,l,a,i,c)};b?V(s,B):F&&V(F,$)}else{n.el=t.el;const C=n.anchor=t.anchor,B=n.target=t.target,F=n.targetAnchor=t.targetAnchor,$=Os(t.props),V=$?s:B,oe=$?C:F;if(a=a||gc(B),k?(h(t.dynamicChildren,k,V,r,l,a,i),Rr(t,n,!0)):c||f(t,n,V,oe,r,l,a,i,!1),b)$||er(n,s,C,p,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const pe=n.target=ia(n.props,m);pe?er(n,pe,null,p,0):q("Invalid Teleport target on update:",B,`(${typeof B})`)}else $&&er(n,B,F,p,1)}hd(n)},remove(t,n,s,o,{um:r,o:{remove:l}},a){const{shapeFlag:i,children:c,anchor:p,targetAnchor:d,target:f,props:h}=t;if(f&&l(d),(a||!Os(h))&&(l(p),i&16))for(let y=0;y<c.length;y++){const m=c[y];r(m,n,s,!0,!!m.dynamicChildren)}},move:er,hydrate:a9};function er(t,n,s,{o:{insert:o},m:r},l=2){l===0&&o(t.targetAnchor,n,s);const{el:a,anchor:i,shapeFlag:c,children:p,props:d}=t,f=l===2;if(f&&o(a,n,s),(!f||Os(d))&&c&16)for(let h=0;h<p.length;h++)r(p[h],n,s,2);f&&o(i,n,s)}function a9(t,n,s,o,r,l,{o:{nextSibling:a,parentNode:i,querySelector:c}},p){const d=n.target=ia(n.props,c);if(d){const f=d._lpa||d.firstChild;if(n.shapeFlag&16)if(Os(n.props))n.anchor=p(a(t),n,i(t),s,o,r,l),n.targetAnchor=f;else{n.anchor=a(t);let h=f;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){n.targetAnchor=h,d._lpa=n.targetAnchor&&a(n.targetAnchor);break}p(f,n,d,s,o,r,l)}hd(n)}return n.anchor&&a(n.anchor)}const i9=l9;function hd(t){const n=t.ctx;if(n&&n.ut){let s=t.children[0].el;for(;s!==t.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}const $e=Symbol.for("v-fgt"),Ho=Symbol.for("v-txt"),ft=Symbol.for("v-cmt"),yr=Symbol.for("v-stc"),co=[];let Vt=null;function D(t=!1){co.push(Vt=t?null:[])}function c9(){co.pop(),Vt=co[co.length-1]||null}let ko=1;function vc(t){ko+=t}function yd(t){return t.dynamicChildren=ko>0?Vt||Ss:null,c9(),ko>0&&Vt&&Vt.push(t),t}function re(t,n,s,o,r,l){return yd(e(t,n,s,o,r,l,!0))}function R(t,n,s,o,r){return yd(se(t,n,s,o,r,!0))}function Fn(t){return t?t.__v_isVNode===!0:!1}function Qn(t,n){return n.shapeFlag&6&&xs.has(n.type)?(t.shapeFlag&=-257,n.shapeFlag&=-513,!1):t.type===n.type&&t.key===n.key}const u9=(...t)=>p9(...t),al="__vInternal",md=({key:t})=>t??null,mr=({ref:t,ref_key:n,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?qe(t)||Se(t)||de(t)?{i:Ze,r:t,k:n,f:!!s}:t:null);function e(t,n=null,s=null,o=0,r=null,l=t===$e?0:1,a=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&md(n),ref:n&&mr(n),scopeId:sl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ze};return i?(mi(c,s),l&128&&t.normalize(c)):s&&(c.shapeFlag|=qe(s)?8:16),c.key!==c.key&&q("VNode created with invalid key (NaN). VNode type:",c.type),ko>0&&!a&&Vt&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&Vt.push(c),c}const se=u9;function p9(t,n=null,s=null,o=0,r=null,l=!1){if((!t||t===Sm)&&(t||q(`Invalid vnode type when creating vnode: ${t}.`),t=ft),Fn(t)){const i=sn(t,n,!0);return s&&mi(i,s),ko>0&&!l&&Vt&&(i.shapeFlag&6?Vt[Vt.indexOf(t)]=i:Vt.push(i)),i.patchFlag|=-2,i}if(Ad(t)&&(t=t.__vccOpts),n){n=G(n);let{class:i,style:c}=n;i&&!qe(i)&&(n.class=Ue(i)),Te(c)&&(Br(c)&&!ie(c)&&(c=je({},c)),n.style=rt(c))}const a=qe(t)?1:Gp(t)?128:r9(t)?64:Te(t)?4:de(t)?2:0;return a&4&&Br(t)&&(t=ye(t),q("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),e(t,n,s,o,r,a,l,!0)}function G(t){return t?Br(t)||al in t?je({},t):t:null}function sn(t,n,s=!1){const{props:o,ref:r,patchFlag:l,children:a}=t,i=n?Ve(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:i,key:i&&md(i),ref:n&&n.ref?s&&r?ie(r)?r.concat(mr(n)):[r,mr(n)]:mr(n):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l===-1&&ie(a)?a.map(gd):a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==$e?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sn(t.ssContent),ssFallback:t.ssFallback&&sn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function gd(t){const n=sn(t);return ie(t.children)&&(n.children=t.children.map(gd)),n}function u(t=" ",n=0){return se(Ho,null,t,n)}function Ee(t="",n=!1){return n?(D(),R(ft,null,t)):se(ft,null,t)}function qt(t){return t==null||typeof t=="boolean"?se(ft):ie(t)?se($e,null,t.slice()):typeof t=="object"?En(t):se(Ho,null,String(t))}function En(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:sn(t)}function mi(t,n){let s=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(ie(n))s=16;else if(typeof n=="object")if(o&65){const r=n.default;r&&(r._c&&(r._d=!1),mi(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=n._;!r&&!(al in n)?n._ctx=Ze:r===3&&Ze&&(Ze.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else de(n)?(n={default:n,_ctx:Ze},s=32):(n=String(n),o&64?(s=16,n=[u(n)]):s=8);t.children=n,t.shapeFlag|=s}function Ve(...t){const n={};for(let s=0;s<t.length;s++){const o=t[s];for(const r in o)if(r==="class")n.class!==o.class&&(n.class=Ue([n.class,o.class]));else if(r==="style")n.style=rt([n.style,o.style]);else if(Fo(r)){const l=n[r],a=o[r];a&&l!==a&&!(ie(l)&&l.includes(a))&&(n[r]=l?[].concat(l,a):a)}else r!==""&&(n[r]=o[r])}return n}function Ot(t,n,s,o=null){Mt(t,n,7,[s,o])}const d9=ad();let f9=0;function h9(t,n,s){const o=t.type,r=(n?n.appContext:t.appContext)||d9,l={uid:f9++,vnode:t,type:o,parent:n,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new _p(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cd(o,r),emitsOptions:Kp(o,r),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:o.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx=Tm(l),l.root=n?n.root:l,l.emit=um.bind(null,l),t.ce&&t.ce(l),l}let Je=null;const Bt=()=>Je||Ze;let gi,Es,_c="__VUE_INSTANCE_SETTERS__";(Es=Dr()[_c])||(Es=Dr()[_c]=[]),Es.push(t=>Je=t),gi=t=>{Es.length>1?Es.forEach(n=>n(t)):Es[0](t)};const Is=t=>{gi(t),t.scope.on()},ds=()=>{Je&&Je.scope.off(),gi(null)},y9=jn("slot,component");function ca(t,n){const s=n.isNativeTag||dp;(y9(t)||s(t))&&q("Do not use built-in or reserved HTML elements as component id: "+t)}function vd(t){return t.vnode.shapeFlag&4}let Co=!1;function m9(t,n=!1){Co=n;const{props:s,children:o}=t.vnode,r=vd(t);Um(t,s,r,n),Xm(t,o);const l=r?g9(t,n):void 0;return Co=!1,l}function g9(t,n){var s;const o=t.type;{if(o.name&&ca(o.name,t.appContext.config),o.components){const l=Object.keys(o.components);for(let a=0;a<l.length;a++)ca(l[a],t.appContext.config)}if(o.directives){const l=Object.keys(o.directives);for(let a=0;a<l.length;a++)Zp(l[a])}o.compilerOptions&&v9()&&q('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=Xr(new Proxy(t.ctx,rd)),Om(t);const{setup:r}=o;if(r){const l=t.setupContext=r.length>1?wd(t):null;Is(t),gs();const a=fn(r,t,0,[no(t.props),l]);if(vs(),ds(),Ja(a)){if(a.then(ds,ds),n)return a.then(i=>{wc(t,i,n)}).catch(i=>{el(i,t,0)});if(t.asyncDep=a,!t.suspense){const i=(s=o.name)!=null?s:"Anonymous";q(`Component <${i}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else wc(t,a,n)}else _d(t,n)}function wc(t,n,s){de(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Te(n)?(Fn(n)&&q("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=n,t.setupState=Mp(n),Pm(t)):n!==void 0&&q(`setup() should return an object. Received: ${n===null?"null":typeof n}`),_d(t,s)}let ua;const v9=()=>!ua;function _d(t,n,s){const o=t.type;if(!t.render){if(!n&&ua&&!o.render){const r=o.template||hi(t).template;if(r){ln(t,"compile");const{isCustomElement:l,compilerOptions:a}=t.appContext.config,{delimiters:i,compilerOptions:c}=o,p=je(je({isCustomElement:l,delimiters:i},a),c);o.render=ua(r,p),an(t,"compile")}}t.render=o.render||vt}Is(t),gs(),Lm(t),vs(),ds(),!o.render&&t.render===vt&&!n&&(o.template?q('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):q("Component is missing template or render function."))}function _9(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(n,s){return $r(),at(t,"get","$attrs"),n[s]},set(){return q("setupContext.attrs is readonly."),!1},deleteProperty(){return q("setupContext.attrs is readonly."),!1}}))}function w9(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(n,s){return at(t,"get","$slots"),n[s]}}))}function wd(t){return Object.freeze({get attrs(){return _9(t)},get slots(){return w9(t)},get emit(){return(s,...o)=>t.emit(s,...o)},expose:s=>{if(t.exposed&&q("expose() should be called only once per setup()."),s!=null){let o=typeof s;o==="object"&&(ie(s)?o="array":Se(s)&&(o="ref")),o!=="object"&&q(`expose() should be passed a plain object, received ${o}.`)}t.exposed=s||{}}})}function il(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Mp(Xr(t.exposed)),{get(n,s){if(s in n)return n[s];if(s in ps)return ps[s](t)},has(n,s){return s in n||s in ps}}))}const A9=/(?:^|[-_])(\w)/g,b9=t=>t.replace(A9,n=>n.toUpperCase()).replace(/[-_]/g,"");function xo(t,n=!0){return de(t)?t.displayName||t.name:t.name||n&&t.__name}function cl(t,n,s=!1){let o=xo(n);if(!o&&n.__file){const r=n.__file.match(/([^/\\]+)\.\w+$/);r&&(o=r[1])}if(!o&&t&&t.parent){const r=l=>{for(const a in l)if(l[a]===n)return a};o=r(t.components||t.parent.type.components)||r(t.appContext.components)}return o?b9(o):s?"App":"Anonymous"}function Ad(t){return de(t)&&"__vccOpts"in t}const T=(t,n)=>Hy(t,n,Co);function kt(t,n,s){const o=arguments.length;return o===2?Te(n)&&!ie(n)?Fn(n)?se(t,null,[n]):se(t,n):se(t,null,n):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&Fn(s)&&(s=[s]),se(t,n,s))}const E9=Symbol.for("v-scx"),D9=()=>{{const t=I(E9);return t||q("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function wl(t){return!!(t&&t.__v_isShallow)}function k9(){if(typeof window>"u")return;const t={style:"color:#3ba776"},n={style:"color:#0b1bc9"},s={style:"color:#b62e24"},o={style:"color:#9d288c"},r={header(f){return Te(f)?f.__isVue?["div",t,"VueInstance"]:Se(f)?["div",{},["span",t,d(f)],"<",i(f.value),">"]:cs(f)?["div",{},["span",t,wl(f)?"ShallowReactive":"Reactive"],"<",i(f),`>${Rn(f)?" (readonly)":""}`]:Rn(f)?["div",{},["span",t,wl(f)?"ShallowReadonly":"Readonly"],"<",i(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...l(f.$)]}};function l(f){const h=[];f.type.props&&f.props&&h.push(a("props",ye(f.props))),f.setupState!==Fe&&h.push(a("setup",f.setupState)),f.data!==Fe&&h.push(a("data",ye(f.data)));const y=c(f,"computed");y&&h.push(a("computed",y));const m=c(f,"inject");return m&&h.push(a("injected",m)),h.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),h}function a(f,h){return h=je({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(y=>["div",{},["span",o,y+": "],i(h[y],!1)])]]:["span",{}]}function i(f,h=!0){return typeof f=="number"?["span",n,f]:typeof f=="string"?["span",s,JSON.stringify(f)]:typeof f=="boolean"?["span",o,f]:Te(f)?["object",{object:h?ye(f):f}]:["span",s,String(f)]}function c(f,h){const y=f.type;if(de(y))return;const m={};for(const w in f.ctx)p(y,w,h)&&(m[w]=f.ctx[w]);return m}function p(f,h,y){const m=f[y];if(ie(m)&&m.includes(h)||Te(m)&&h in m||f.extends&&p(f.extends,h,y)||f.mixins&&f.mixins.some(w=>p(w,h,y)))return!0}function d(f){return wl(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const Lr="3.3.4",C9="http://www.w3.org/2000/svg",Xn=typeof document<"u"?document:null,Ac=Xn&&Xn.createElement("template"),x9={insert:(t,n,s)=>{n.insertBefore(t,s||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,s,o)=>{const r=n?Xn.createElementNS(C9,t):Xn.createElement(t,s?{is:s}:void 0);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>Xn.createTextNode(t),createComment:t=>Xn.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Xn.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,s,o,r,l){const a=s?s.previousSibling:n.lastChild;if(r&&(r===l||r.nextSibling))for(;n.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{Ac.innerHTML=o?`<svg>${t}</svg>`:t;const i=Ac.content;if(o){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}n.insertBefore(i,s)}return[a?a.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}};function B9(t,n,s){const o=t._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):s?t.setAttribute("class",n):t.className=n}function S9(t,n,s){const o=t.style,r=qe(s);if(s&&!r){if(n&&!qe(n))for(const l in n)s[l]==null&&pa(o,l,"");for(const l in s)pa(o,l,s[l])}else{const l=o.display;r?n!==s&&(o.cssText=s):n&&t.removeAttribute("style"),"_vod"in t&&(o.display=l)}}const $9=/[^\\];\s*$/,bc=/\s*!important$/;function pa(t,n,s){if(ie(s))s.forEach(o=>pa(t,n,o));else if(s==null&&(s=""),$9.test(s)&&q(`Unexpected semicolon at the end of '${n}' style value: '${s}'`),n.startsWith("--"))t.setProperty(n,s);else{const o=T9(t,n);bc.test(s)?t.setProperty(hn(o),s.replace(bc,""),"important"):t[o]=s}}const Ec=["Webkit","Moz","ms"],Al={};function T9(t,n){const s=Al[n];if(s)return s;let o=en(n);if(o!=="filter"&&o in t)return Al[n]=o;o=ys(o);for(let r=0;r<Ec.length;r++){const l=Ec[r]+o;if(l in t)return Al[n]=l}return n}const Dc="http://www.w3.org/1999/xlink";function O9(t,n,s,o,r){if(o&&n.startsWith("xlink:"))s==null?t.removeAttributeNS(Dc,n.slice(6,n.length)):t.setAttributeNS(Dc,n,s);else{const l=ny(n);s==null||l&&!gp(s)?t.removeAttribute(n):t.setAttribute(n,l?"":s)}}function P9(t,n,s,o,r,l,a){if(n==="innerHTML"||n==="textContent"){o&&a(o,r,l),t[n]=s??"";return}const i=t.tagName;if(n==="value"&&i!=="PROGRESS"&&!i.includes("-")){t._value=s;const p=i==="OPTION"?t.getAttribute("value"):t.value,d=s??"";p!==d&&(t.value=d),s==null&&t.removeAttribute(n);return}let c=!1;if(s===""||s==null){const p=typeof t[n];p==="boolean"?s=gp(s):s==null&&p==="string"?(s="",c=!0):p==="number"&&(s=0,c=!0)}try{t[n]=s}catch(p){c||q(`Failed setting prop "${n}" on <${i.toLowerCase()}>: value ${s} is invalid.`,p)}c&&t.removeAttribute(n)}function I9(t,n,s,o){t.addEventListener(n,s,o)}function M9(t,n,s,o){t.removeEventListener(n,s,o)}function R9(t,n,s,o,r=null){const l=t._vei||(t._vei={}),a=l[n];if(o&&a)a.value=o;else{const[i,c]=L9(n);if(o){const p=l[n]=j9(o,r);I9(t,i,p,c)}else a&&(M9(t,i,a,c),l[n]=void 0)}}const kc=/(?:Once|Passive|Capture)$/;function L9(t){let n;if(kc.test(t)){n={};let o;for(;o=t.match(kc);)t=t.slice(0,t.length-o[0].length),n[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hn(t.slice(2)),n]}let bl=0;const F9=Promise.resolve(),N9=()=>bl||(F9.then(()=>bl=0),bl=Date.now());function j9(t,n){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Mt(q9(o,s.value),n,5,[o])};return s.value=t,s.attached=N9(),s}function q9(t,n){if(ie(n)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},n.map(o=>r=>!r._stopped&&o&&o(r))}else return n}const Cc=/^on[a-z]/,H9=(t,n,s,o,r=!1,l,a,i,c)=>{n==="class"?B9(t,o,r):n==="style"?S9(t,s,o):Fo(n)?br(n)||R9(t,n,s,o,a):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):V9(t,n,o,r))?P9(t,n,o,l,a,i,c):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),O9(t,n,o,r))};function V9(t,n,s,o){return o?!!(n==="innerHTML"||n==="textContent"||n in t&&Cc.test(n)&&de(s)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||Cc.test(n)&&qe(s)?!1:n in t}const _n="transition",Us="animation",bd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U9=je({},_m,bd),zn=(t,n=[])=>{ie(t)?t.forEach(s=>s(...n)):t&&t(...n)},xc=t=>t?ie(t)?t.some(n=>n.length>1):t.length>1:!1;function W9(t){const n={};for(const Y in t)Y in bd||(n[Y]=t[Y]);if(t.css===!1)return n;const{name:s="v",type:o,duration:r,enterFromClass:l=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:i=`${s}-enter-to`,appearFromClass:c=l,appearActiveClass:p=a,appearToClass:d=i,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:y=`${s}-leave-to`}=t,m=z9(r),w=m&&m[0],A=m&&m[1],{onBeforeEnter:b,onEnter:E,onEnterCancelled:_,onLeave:k,onLeaveCancelled:C,onBeforeAppear:B=b,onAppear:F=E,onAppearCancelled:$=_}=n,V=(Y,me,ve)=>{An(Y,me?d:i),An(Y,me?p:a),ve&&ve()},oe=(Y,me)=>{Y._isLeaving=!1,An(Y,f),An(Y,y),An(Y,h),me&&me()},pe=Y=>(me,ve)=>{const we=Y?F:E,Me=()=>V(me,Y,ve);zn(we,[me,Me]),Bc(()=>{An(me,Y?c:l),cn(me,Y?d:i),xc(we)||Sc(me,o,w,Me)})};return je(n,{onBeforeEnter(Y){zn(b,[Y]),cn(Y,l),cn(Y,a)},onBeforeAppear(Y){zn(B,[Y]),cn(Y,c),cn(Y,p)},onEnter:pe(!1),onAppear:pe(!0),onLeave(Y,me){Y._isLeaving=!0;const ve=()=>oe(Y,me);cn(Y,f),Dd(),cn(Y,h),Bc(()=>{Y._isLeaving&&(An(Y,f),cn(Y,y),xc(k)||Sc(Y,o,A,ve))}),zn(k,[Y,ve])},onEnterCancelled(Y){V(Y,!1),zn(_,[Y])},onAppearCancelled(Y){V(Y,!0),zn($,[Y])},onLeaveCancelled(Y){oe(Y),zn(C,[Y])}})}function z9(t){if(t==null)return null;if(Te(t))return[El(t.enter),El(t.leave)];{const n=El(t);return[n,n]}}function El(t){const n=Kh(t);return Ky(n,"<transition> explicit duration"),n}function cn(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(n)}function An(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const{_vtc:s}=t;s&&(s.delete(n),s.size||(t._vtc=void 0))}function Bc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let K9=0;function Sc(t,n,s,o){const r=t._endId=++K9,l=()=>{r===t._endId&&o()};if(s)return setTimeout(l,s);const{type:a,timeout:i,propCount:c}=Ed(t,n);if(!a)return o();const p=a+"end";let d=0;const f=()=>{t.removeEventListener(p,h),l()},h=y=>{y.target===t&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},i+1),t.addEventListener(p,h)}function Ed(t,n){const s=window.getComputedStyle(t),o=m=>(s[m]||"").split(", "),r=o(`${_n}Delay`),l=o(`${_n}Duration`),a=$c(r,l),i=o(`${Us}Delay`),c=o(`${Us}Duration`),p=$c(i,c);let d=null,f=0,h=0;n===_n?a>0&&(d=_n,f=a,h=l.length):n===Us?p>0&&(d=Us,f=p,h=c.length):(f=Math.max(a,p),d=f>0?a>p?_n:Us:null,h=d?d===_n?l.length:c.length:0);const y=d===_n&&/\b(transform|all)(,|$)/.test(o(`${_n}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:y}}function $c(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((s,o)=>Tc(s)+Tc(t[o])))}function Tc(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Dd(){return document.body.offsetHeight}const kd=new WeakMap,Cd=new WeakMap,xd={name:"TransitionGroup",props:je({},U9,{tag:String,moveClass:String}),setup(t,{slots:n}){const s=Bt(),o=vm();let r,l;return rl(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!X9(r[0].el,s.vnode.el,a))return;r.forEach(J9),r.forEach(Z9);const i=r.filter(Q9);Dd(),i.forEach(c=>{const p=c.el,d=p.style;cn(p,a),d.transform=d.webkitTransform=d.transitionDuration="";const f=p._moveCb=h=>{h&&h.target!==p||(!h||/transform$/.test(h.propertyName))&&(p.removeEventListener("transitionend",f),p._moveCb=null,An(p,a))};p.addEventListener("transitionend",f)})}),()=>{const a=ye(t),i=W9(a);let c=a.tag||$e;r=l,l=n.default?Xp(n.default()):[];for(let p=0;p<l.length;p++){const d=l[p];d.key!=null?Tr(d,ea(d,i,o,s)):q("<TransitionGroup> children must be keyed.")}if(r)for(let p=0;p<r.length;p++){const d=r[p];Tr(d,ea(d,i,o,s)),kd.set(d,d.el.getBoundingClientRect())}return se(c,null,l)}}},Y9=t=>delete t.mode;xd.props;const G9=xd;function J9(t){const n=t.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function Z9(t){Cd.set(t,t.el.getBoundingClientRect())}function Q9(t){const n=kd.get(t),s=Cd.get(t),o=n.left-s.left,r=n.top-s.top;if(o||r){const l=t.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${r}px)`,l.transitionDuration="0s",t}}function X9(t,n,s){const o=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(i=>i&&o.classList.remove(i))}),s.split(/\s+/).forEach(a=>a&&o.classList.add(a)),o.style.display="none";const r=n.nodeType===1?n:n.parentNode;r.appendChild(o);const{hasTransform:l}=Ed(o);return r.removeChild(o),l}const eg=["ctrl","shift","alt","meta"],tg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>eg.some(s=>t[`${s}Key`]&&!n.includes(s))},ng=(t,n)=>(s,...o)=>{for(let r=0;r<n.length;r++){const l=tg[n[r]];if(l&&l(s,n))return}return t(s,...o)},sg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tr=(t,n)=>s=>{if(!("key"in s))return;const o=hn(s.key);if(n.some(r=>r===o||sg[r]===o))return t(s)},Bd={beforeMount(t,{value:n},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&n?s.beforeEnter(t):Ws(t,n)},mounted(t,{value:n},{transition:s}){s&&n&&s.enter(t)},updated(t,{value:n,oldValue:s},{transition:o}){!n!=!s&&(o?n?(o.beforeEnter(t),Ws(t,!0),o.enter(t)):o.leave(t,()=>{Ws(t,!1)}):Ws(t,n))},beforeUnmount(t,{value:n}){Ws(t,n)}};function Ws(t,n){t.style.display=n?t._vod:"none"}const og=je({patchProp:H9},x9);let Oc;function rg(){return Oc||(Oc=n9(og))}const lg=(...t)=>{const n=rg().createApp(...t);ag(n),ig(n);const{mount:s}=n;return n.mount=o=>{const r=cg(o);if(!r)return;const l=n._component;!de(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.innerHTML="";const a=s(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},n};function ag(t){Object.defineProperty(t.config,"isNativeTag",{value:n=>mp(n)||ey(n),writable:!1})}function ig(t){{const n=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return n},set(){q("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const s=t.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return q(o),s},set(){q(o)}})}}function cg(t){if(qe(t)){const n=document.querySelector(t);return n||q(`Failed to mount app: mount target selector "${t}" returned null.`),n}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&q('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}function ug(){k9()}ug();function da(t,n={},s){for(const o in t){const r=t[o],l=s?`${s}:${o}`:o;typeof r=="object"&&r!==null?da(r,n,l):typeof r=="function"&&(n[l]=r)}return n}const pg={run:t=>t()},dg=()=>pg,Sd=typeof console.createTask<"u"?console.createTask:dg;function fg(t,n){const s=n.shift(),o=Sd(s);return t.reduce((r,l)=>r.then(()=>o.run(()=>l(...n))),Promise.resolve())}function hg(t,n){const s=n.shift(),o=Sd(s);return Promise.all(t.map(r=>o.run(()=>r(...n))))}function Dl(t,n){for(const s of[...t])s(n)}class yg{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(n,s,o={}){if(!n||typeof s!="function")return()=>{};const r=n;let l;for(;this._deprecatedHooks[n];)l=this._deprecatedHooks[n],n=l.to;if(l&&!o.allowDeprecated){let a=l.message;a||(a=`${r} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+n.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[n]=this._hooks[n]||[],this._hooks[n].push(s),()=>{s&&(this.removeHook(n,s),s=void 0)}}hookOnce(n,s){let o,r=(...l)=>(typeof o=="function"&&o(),o=void 0,r=void 0,s(...l));return o=this.hook(n,r),o}removeHook(n,s){if(this._hooks[n]){const o=this._hooks[n].indexOf(s);o!==-1&&this._hooks[n].splice(o,1),this._hooks[n].length===0&&delete this._hooks[n]}}deprecateHook(n,s){this._deprecatedHooks[n]=typeof s=="string"?{to:s}:s;const o=this._hooks[n]||[];delete this._hooks[n];for(const r of o)this.hook(n,r)}deprecateHooks(n){Object.assign(this._deprecatedHooks,n);for(const s in n)this.deprecateHook(s,n[s])}addHooks(n){const s=da(n),o=Object.keys(s).map(r=>this.hook(r,s[r]));return()=>{for(const r of o.splice(0,o.length))r()}}removeHooks(n){const s=da(n);for(const o in s)this.removeHook(o,s[o])}removeAllHooks(){for(const n in this._hooks)delete this._hooks[n]}callHook(n,...s){return s.unshift(n),this.callHookWith(fg,n,...s)}callHookParallel(n,...s){return s.unshift(n),this.callHookWith(hg,n,...s)}callHookWith(n,s,...o){const r=this._before||this._after?{name:s,args:o,context:{}}:void 0;this._before&&Dl(this._before,r);const l=n(s in this._hooks?[...this._hooks[s]]:[],o);return l instanceof Promise?l.finally(()=>{this._after&&r&&Dl(this._after,r)}):(this._after&&r&&Dl(this._after,r),l)}beforeEach(n){return this._before=this._before||[],this._before.push(n),()=>{if(this._before!==void 0){const s=this._before.indexOf(n);s!==-1&&this._before.splice(s,1)}}}afterEach(n){return this._after=this._after||[],this._after.push(n),()=>{if(this._after!==void 0){const s=this._after.indexOf(n);s!==-1&&this._after.splice(s,1)}}}}function mg(){return new yg}function gg(t){return Array.isArray(t)?t:[t]}const $d=["title","script","style","noscript"],Td=["base","meta","link","style","script","noscript"],vg=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],_g=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],wg=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function Od(t){let n=9;for(let s=0;s<t.length;)n=Math.imul(n^t.charCodeAt(s++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function fa(t){return Od(`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([n,s])=>`${n}:${String(s)}`).join(",")}`)}function Ag(t){let n=9;for(const s of t)for(let o=0;o<s.length;)n=Math.imul(n^s.charCodeAt(o++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Pd(t,n){const{props:s,tag:o}=t;if(_g.includes(o))return o;if(o==="link"&&s.rel==="canonical")return"canonical";if(s.charset)return"charset";const r=["id"];o==="meta"&&r.push("name","property","http-equiv");for(const l of r)if(typeof s[l]<"u"){const a=String(s[l]);return n&&!n(a)?!1:`${o}:${l}:${a}`}return!1}function Pc(t,n){return t==null?n||null:typeof t=="function"?t(n):t}function nr(t,n=!1,s){const{tag:o,$el:r}=t;r&&(Object.entries(o.props).forEach(([l,a])=>{a=String(a);const i=`attr:${l}`;if(l==="class"){if(!a)return;for(const c of a.split(" ")){const p=`${i}:${c}`;s&&s(t,p,()=>r.classList.remove(c)),r.classList.contains(c)||r.classList.add(c)}return}s&&!l.startsWith("data-h-")&&s(t,i,()=>r.removeAttribute(l)),(n||r.getAttribute(l)!==a)&&r.setAttribute(l,a)}),$d.includes(o.tag)&&(o.textContent&&o.textContent!==r.textContent?r.textContent=o.textContent:o.innerHTML&&o.innerHTML!==r.innerHTML&&(r.innerHTML=o.innerHTML)))}let zs=!1;async function Id(t,n={}){var h,y;const s={shouldRender:!0};if(await t.hooks.callHook("dom:beforeRender",s),!s.shouldRender)return;const o=n.document||t.resolvedOptions.document||window.document,r=(await t.resolveTags()).map(i);if(t.resolvedOptions.experimentalHashHydration&&(zs=zs||t._hash||!1,zs)){const m=Ag(r.map(w=>w.tag._h));if(zs===m)return;zs=m}const l=t._popSideEffectQueue();t.headEntries().map(m=>m._sde).forEach(m=>{Object.entries(m).forEach(([w,A])=>{l[w]=A})});const a=(m,w,A)=>{w=`${m.renderId}:${w}`,m.entry&&(m.entry._sde[w]=A),delete l[w]};function i(m){const w=t.headEntries().find(b=>b._i===m._e),A={renderId:m._d||fa(m),$el:null,shouldRender:!0,tag:m,entry:w,markSideEffect:(b,E)=>a(A,b,E)};return A}const c=[],p={body:[],head:[]},d=m=>{t._elMap[m.renderId]=m.$el,c.push(m),a(m,"el",()=>{var w;(w=m.$el)==null||w.remove(),delete t._elMap[m.renderId]})};for(const m of r){if(await t.hooks.callHook("dom:beforeRenderTag",m),!m.shouldRender)continue;const{tag:w}=m;if(w.tag==="title"){o.title=w.textContent||"",c.push(m);continue}if(w.tag==="htmlAttrs"||w.tag==="bodyAttrs"){m.$el=o[w.tag==="htmlAttrs"?"documentElement":"body"],nr(m,!1,a),c.push(m);continue}if(m.$el=t._elMap[m.renderId],!m.$el&&w.key&&(m.$el=o.querySelector(`${(h=w.tagPosition)!=null&&h.startsWith("body")?"body":"head"} > ${w.tag}[data-h-${w._h}]`)),m.$el){m.tag._d&&nr(m),d(m);continue}p[(y=w.tagPosition)!=null&&y.startsWith("body")?"body":"head"].push(m)}const f={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(p).forEach(([m,w])=>{var b;if(!w.length)return;const A=(b=o==null?void 0:o[m])==null?void 0:b.children;if(A){for(const E of[...A].reverse()){const _=E.tagName.toLowerCase();if(!Td.includes(_))continue;const k=E.getAttributeNames().reduce(($,V)=>({...$,[V]:E.getAttribute(V)}),{}),C={tag:_,props:k};E.innerHTML&&(C.innerHTML=E.innerHTML);const B=fa(C);let F=w.findIndex($=>($==null?void 0:$.renderId)===B);if(F===-1){const $=Pd(C);F=w.findIndex(V=>(V==null?void 0:V.tag._d)&&V.tag._d===$)}if(F!==-1){const $=w[F];$.$el=E,nr($),d($),delete w[F]}}w.forEach(E=>{const _=E.tag.tagPosition||"head";f[_]=f[_]||o.createDocumentFragment(),E.$el||(E.$el=o.createElement(E.tag.tag),nr(E,!0)),f[_].appendChild(E.$el),d(E)})}}),f.head&&o.head.appendChild(f.head),f.bodyOpen&&o.body.insertBefore(f.bodyOpen,o.body.firstChild),f.bodyClose&&o.body.appendChild(f.bodyClose);for(const m of c)await t.hooks.callHook("dom:renderTag",m);Object.values(l).forEach(m=>m())}let kl=null;async function Md(t,n={}){function s(){return kl=null,Id(t,n)}const o=n.delayFn||(r=>setTimeout(r,10));return kl=kl||new Promise(r=>o(()=>r(s())))}function bg(t){return{hooks:{"entries:updated":function(n){if(typeof(t==null?void 0:t.document)>"u"&&typeof window>"u")return;let s=t==null?void 0:t.delayFn;!s&&typeof requestAnimationFrame<"u"&&(s=requestAnimationFrame),Md(n,{document:(t==null?void 0:t.document)||window.document,delayFn:s})}}}}function Eg(t){var n;return((n=t==null?void 0:t.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:n.getAttribute("content"))||!1}const Ic={critical:2,high:9,low:12,base:-1,title:1,meta:10};function Mc(t){if(typeof t.tagPriority=="number")return t.tagPriority;if(t.tag==="meta"){if(t.props.charset)return-2;if(t.props["http-equiv"]==="content-security-policy")return 0}const n=t.tagPriority||t.tag;return n in Ic?Ic[n]:10}const Dg=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function kg(){return{hooks:{"tags:resolve":t=>{const n=s=>{var o;return(o=t.tags.find(r=>r._d===s))==null?void 0:o._p};for(const{prefix:s,offset:o}of Dg)for(const r of t.tags.filter(l=>typeof l.tagPriority=="string"&&l.tagPriority.startsWith(s))){const l=n(r.tagPriority.replace(s,""));typeof l<"u"&&(r._p=l+o)}t.tags.sort((s,o)=>s._p-o._p).sort((s,o)=>Mc(s)-Mc(o))}}}}function Cg(){return{hooks:{"tags:resolve":t=>{const{tags:n}=t;let s=n.findIndex(r=>r.tag==="titleTemplate");const o=n.findIndex(r=>r.tag==="title");if(o!==-1&&s!==-1){const r=Pc(n[s].textContent,n[o].textContent);r!==null?n[o].textContent=r||n[o].textContent:delete n[o]}else if(s!==-1){const r=Pc(n[s].textContent);r!==null&&(n[s].textContent=r,n[s].tag="title",s=-1)}s!==-1&&delete n[s],t.tags=n.filter(Boolean)}}}}function xg(){return{hooks:{"tag:normalise":function({tag:t}){typeof t.props.body<"u"&&(t.tagPosition="bodyClose",delete t.props.body)}}}}const Bg=["link","style","script","noscript"];function Sg(){return{hooks:{"tag:normalise":({tag:t,resolvedOptions:n})=>{n.experimentalHashHydration===!0&&(t._h=fa(t)),t.key&&Bg.includes(t.tag)&&(t._h=Od(t.key),t.props[`data-h-${t._h}`]="")}}}}const Rc=["script","link","bodyAttrs"];function $g(){const t=(n,s)=>{const o={},r={};Object.entries(s.props).forEach(([a,i])=>{a.startsWith("on")&&typeof i=="function"?r[a]=i:o[a]=i});let l;return n==="dom"&&s.tag==="script"&&typeof o.src=="string"&&typeof r.onload<"u"&&(l=o.src,delete o.src),{props:o,eventHandlers:r,delayedSrc:l}};return{hooks:{"ssr:render":function(n){n.tags=n.tags.map(s=>(!Rc.includes(s.tag)||!Object.entries(s.props).find(([o,r])=>o.startsWith("on")&&typeof r=="function")||(s.props=t("ssr",s).props),s))},"dom:beforeRenderTag":function(n){if(!Rc.includes(n.tag.tag)||!Object.entries(n.tag.props).find(([l,a])=>l.startsWith("on")&&typeof a=="function"))return;const{props:s,eventHandlers:o,delayedSrc:r}=t("dom",n.tag);Object.keys(o).length&&(n.tag.props=s,n.tag._eventHandlers=o,n.tag._delayedSrc=r)},"dom:renderTag":function(n){const s=n.$el;if(!n.tag._eventHandlers||!s)return;const o=n.tag.tag==="bodyAttrs"&&typeof window<"u"?window:s;Object.entries(n.tag._eventHandlers).forEach(([r,l])=>{const a=`${n.tag._d||n.tag._p}:${r}`,i=r.slice(2).toLowerCase(),c=`data-h-${i}`;if(n.markSideEffect(a,()=>{}),s.hasAttribute(c))return;const p=l;s.setAttribute(c,""),o.addEventListener(i,p),n.entry&&(n.entry._sde[a]=()=>{o.removeEventListener(i,p),s.removeAttribute(c)})}),n.tag._delayedSrc&&s.setAttribute("src",n.tag._delayedSrc)}}}}const Tg=["templateParams","htmlAttrs","bodyAttrs"];function Og(){return{hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(o=>{t.props[o]&&(t.key=t.props[o],delete t.props[o])});const s=Pd(t)||(t.key?`${t.tag}:${t.key}`:!1);s&&(t._d=s)},"tags:resolve":function(t){const n={};t.tags.forEach(o=>{const r=(o.key?`${o.tag}:${o.key}`:o._d)||o._p,l=n[r];if(l){let i=o==null?void 0:o.tagDuplicateStrategy;if(!i&&Tg.includes(o.tag)&&(i="merge"),i==="merge"){const c=l.props;["class","style"].forEach(p=>{o.props[p]&&c[p]&&(p==="style"&&!c[p].endsWith(";")&&(c[p]+=";"),o.props[p]=`${c[p]} ${o.props[p]}`)}),n[r].props={...c,...o.props};return}else if(o._e===l._e){l._duped=l._duped||[],o._d=`${l._d}:${l._duped.length+1}`,l._duped.push(o);return}}const a=Object.keys(o.props).length+(o.innerHTML?1:0)+(o.textContent?1:0);if(Td.includes(o.tag)&&a===0){delete n[r];return}n[r]=o});const s=[];Object.values(n).forEach(o=>{const r=o._duped;delete o._duped,s.push(o),r&&s.push(...r)}),t.tags=s}}}}function sr(t,n){function s(l){if(["s","pageTitle"].includes(l))return n.pageTitle;let a;return l.includes(".")?a=l.split(".").reduce((i,c)=>i&&i[c]||void 0,n):a=n[l],typeof a<"u"?a||"":!1}let o=t;try{o=decodeURI(t)}catch{}return(o.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(l=>{const a=s(l.slice(1));typeof a=="string"&&(t=t.replace(new RegExp(`\\${l}(\\W|$)`,"g"),`${a}$1`).trim())}),n.separator&&(t.endsWith(n.separator)&&(t=t.slice(0,-n.separator.length).trim()),t.startsWith(n.separator)&&(t=t.slice(n.separator.length).trim()),t=t.replace(new RegExp(`\\${n.separator}\\s*\\${n.separator}`,"g"),n.separator)),t}function Pg(){return{hooks:{"tags:resolve":t=>{var l;const{tags:n}=t,s=(l=n.find(a=>a.tag==="title"))==null?void 0:l.textContent,o=n.findIndex(a=>a.tag==="templateParams"),r=o!==-1?n[o].props:{};r.pageTitle=r.pageTitle||s||"";for(const a of n)if(["titleTemplate","title"].includes(a.tag)&&typeof a.textContent=="string")a.textContent=sr(a.textContent,r);else if(a.tag==="meta"&&typeof a.props.content=="string")a.props.content=sr(a.props.content,r);else if(a.tag==="link"&&typeof a.props.href=="string")a.props.href=sr(a.props.href,r);else if(a.tag==="script"&&["application/json","application/ld+json"].includes(a.props.type)&&typeof a.innerHTML=="string")try{a.innerHTML=JSON.stringify(JSON.parse(a.innerHTML),(i,c)=>typeof c=="string"?sr(c,r):c)}catch{}t.tags=n.filter(a=>a.tag!=="templateParams")}}}}const Ig=typeof window<"u";let Rd;function Mg(t){return Rd=t}function Rg(){return Rd}async function Lg(t,n){const s={tag:t,props:{}};return t==="templateParams"?(s.props=n,s):["title","titleTemplate"].includes(t)?(s.textContent=n instanceof Promise?await n:n,s):typeof n=="string"?["script","noscript","style"].includes(t)?(t==="script"&&(/^(https?:)?\/\//.test(n)||n.startsWith("/"))?s.props.src=n:s.innerHTML=n,s):!1:(s.props=await Ng(t,{...n}),s.props.children&&(s.props.innerHTML=s.props.children),delete s.props.children,Object.keys(s.props).filter(o=>wg.includes(o)).forEach(o=>{(!["innerHTML","textContent"].includes(o)||$d.includes(s.tag))&&(s[o]=s.props[o]),delete s.props[o]}),["innerHTML","textContent"].forEach(o=>{if(s.tag==="script"&&typeof s[o]=="string"&&["application/ld+json","application/json"].includes(s.props.type))try{s[o]=JSON.parse(s[o])}catch{s[o]=""}typeof s[o]=="object"&&(s[o]=JSON.stringify(s[o]))}),s.props.class&&(s.props.class=Fg(s.props.class)),s.props.content&&Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s)}function Fg(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(n=>t[n])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(n=>n.trim()).filter(Boolean).join(" ")}async function Ng(t,n){for(const s of Object.keys(n)){const o=s.startsWith("data-");n[s]instanceof Promise&&(n[s]=await n[s]),String(n[s])==="true"?n[s]=o?"true":"":String(n[s])==="false"&&(o?n[s]="false":delete n[s])}return n}const jg=10;async function qg(t){const n=[];return Object.entries(t.resolvedInput).filter(([s,o])=>typeof o<"u"&&vg.includes(s)).forEach(([s,o])=>{const r=gg(o);n.push(...r.map(l=>Lg(s,l)).flat())}),(await Promise.all(n)).flat().filter(Boolean).map((s,o)=>(s._e=t._i,s._p=(t._i<<jg)+o,s))}function Hg(){return[Og(),kg(),Pg(),Cg(),Sg(),$g(),xg()]}function Vg(t={}){return[bg({document:t==null?void 0:t.document,delayFn:t==null?void 0:t.domDelayFn})]}function Ug(t={}){const n=Wg({...t,plugins:[...Vg(t),...(t==null?void 0:t.plugins)||[]]});return t.experimentalHashHydration&&n.resolvedOptions.document&&(n._hash=Eg(n.resolvedOptions.document)),Mg(n),n}function Wg(t={}){let n=[],s={},o=0;const r=mg();t!=null&&t.hooks&&r.addHooks(t.hooks),t.plugins=[...Hg(),...(t==null?void 0:t.plugins)||[]],t.plugins.forEach(i=>i.hooks&&r.addHooks(i.hooks)),t.document=t.document||(Ig?document:void 0);const l=()=>r.callHook("entries:updated",a),a={resolvedOptions:t,headEntries(){return n},get hooks(){return r},use(i){i.hooks&&r.addHooks(i.hooks)},push(i,c){const p={_i:o++,input:i,_sde:{}};return c!=null&&c.mode&&(p._m=c==null?void 0:c.mode),c!=null&&c.transform&&(p._t=c==null?void 0:c.transform),n.push(p),l(),{dispose(){n=n.filter(d=>d._i!==p._i?!0:(s={...s,...d._sde||{}},d._sde={},l(),!1))},patch(d){n=n.map(f=>(f._i===p._i&&(p.input=f.input=d,l()),f))}}},async resolveTags(){const i={tags:[],entries:[...n]};await r.callHook("entries:resolve",i);for(const c of i.entries){const p=c._t||(d=>d);if(c.resolvedInput=p(c.resolvedInput||c.input),c.resolvedInput)for(const d of await qg(c)){const f={tag:d,entry:c,resolvedOptions:a.resolvedOptions};await r.callHook("tag:normalise",f),i.tags.push(f.tag)}}return await r.callHook("tags:resolve",i),i.tags},_popSideEffectQueue(){const i={...s};return s={},i},_elMap:{}};return a.hooks.callHook("init",a),a}function zg(t){return typeof t=="function"?t():O(t)}function Fr(t,n=""){if(t instanceof Promise)return t;const s=zg(t);return!t||!s?s:Array.isArray(s)?s.map(o=>Fr(o,n)):typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,r])=>o==="titleTemplate"||o.startsWith("on")?[o,O(r)]:[o,Fr(r,o)])):s}const Kg=Lr.startsWith("3"),Yg=typeof window<"u",Ld="usehead";function vi(){return Bt()&&I(Ld)||Rg()}function Gg(t){return{install(s){Kg&&(s.config.globalProperties.$unhead=t,s.config.globalProperties.$head=t,s.provide(Ld,t))}}.install}function Jg(t={}){const n=Ug({...t,domDelayFn:s=>setTimeout(()=>st(()=>s()),10),plugins:[Zg(),...(t==null?void 0:t.plugins)||[]]});return n.install=Gg(n),n}function Zg(){return{hooks:{"entries:resolve":function(t){for(const n of t.entries)n.resolvedInput=Fr(n.input)}}}}function Qg(t,n={}){const s=vi(),o=K(!1),r=K({});_s(()=>{r.value=o.value?{}:Fr(t)});const l=s.push(r.value,n);return ge(r,i=>{l.patch(i)}),Bt()&&(qo(()=>{l.dispose()}),nd(()=>{o.value=!0}),td(()=>{o.value=!1})),l}function Xg(t,n={}){return vi().push(t,n)}function Fd(t,n={}){var o;const s=vi();if(s){const r=Yg||!!((o=s.resolvedOptions)!=null&&o.document);return n.mode==="server"&&r||n.mode==="client"&&!r?void 0:r?Qg(t,n):Xg(t,n)}}function e6(t,n){const s=Jg(n||{}),o={unhead:s,install(r){Lr.startsWith("3")&&(r.config.globalProperties.$head=s,r.provide("usehead",s))},use(r){s.use(r)},resolveTags(){return s.resolveTags()},headEntries(){return s.headEntries()},headTags(){return s.resolveTags()},push(r,l){return s.push(r,l)},addEntry(r,l){return s.push(r,l)},addHeadObjs(r,l){return s.push(r,l)},addReactiveEntry(r,l){const a=Fd(r,l);return typeof a<"u"?a.dispose:()=>{}},removeHeadObjs(){},updateDOM(r,l){l?Id(s,{document:r}):Md(s,{delayFn:a=>setTimeout(()=>a(),50),document:r})},internalHooks:s.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return s.addHeadObjs=o.addHeadObjs,s.updateDOM=o.updateDOM,s.hooks.hook("dom:beforeRender",r=>{for(const l of o.hooks["before:dom"])l()===!1&&(r.shouldRender=!1)}),t&&o.addHeadObjs(t),o}const uo=Symbol("v-click-clicks"),es=Symbol("v-click-clicks-elements"),ha=Symbol("v-click-clicks-order-map"),po=Symbol("v-click-clicks-disabled"),Nd=Symbol("slidev-slide-scale"),N=Symbol("slidev-slidev-context"),t6=Symbol("slidev-route"),n6=Symbol("slidev-slide-context"),Jn="slidev-vclick-target",Cl="slidev-vclick-hidden",s6="slidev-vclick-fade",xl="slidev-vclick-hidden-explicitly",Ks="slidev-vclick-current",or="slidev-vclick-prior",o6=["localhost","127.0.0.1"];let r6=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((n,s)=>(s&=63,s<36?n+=s.toString(36):s<62?n+=(s-26).toString(36).toUpperCase():s>62?n+="-":n+="_",n),"");function ya(t,n){if(!t)return!1;const s=t.indexOf(n);return s>=0?(t.splice(s,1),!0):!1}function l6(...t){let n,s,o;t.length===1?(n=0,o=1,[s]=t):[n,s,o=1]=t;const r=[];let l=n;for(;l<s;)r.push(l),l+=o||1;return r}function a6(t){return t!=null}function i6(t,n){return Object.fromEntries(Object.entries(t).map(([s,o])=>n(s,o)).filter(a6))}const lo={theme:"slidev-theme-nearform",title:"OWASP Top Ten Security Vulnerabilities Workshop",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,export:{},info:!1,highlighter:"shiki",lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Poppins"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:['"Poppins"',"ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"PT Mono"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Poppins","PT Mono"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"unocss",presenter:!0,htmlAttrs:{},layout:"default"},Be=lo,Sn=Be.aspectRatio??16/9,$n=Be.canvasWidth??980,_i=Math.ceil($n/Sn),wi=T(()=>i6(Be.themeConfig||{},(t,n)=>[`--slidev-theme-${t}`,n]));function jd(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function Lt(t,n,s){Object.defineProperty(t,n,{value:s,writable:!0,enumerable:!1})}const ws=He({page:0,clicks:0});let c6=[],u6=[];Lt(ws,"$syncUp",!0);Lt(ws,"$syncDown",!0);Lt(ws,"$paused",!1);Lt(ws,"$onSet",t=>c6.push(t));Lt(ws,"$onPatch",t=>u6.push(t));jd();Lt(ws,"$patch",async()=>!1);function qd(t,n,s=!1){const o=[];let r=!1,l=!1,a,i;const c=He(n);function p(y){o.push(y)}function d(y,m){c[y]!==m&&(clearTimeout(a),r=!0,c[y]=m,a=setTimeout(()=>r=!1,0))}function f(y){r||(clearTimeout(i),l=!0,Object.entries(y).forEach(([m,w])=>{c[m]=w}),i=setTimeout(()=>l=!1,0))}function h(y){let m;s?s&&window.addEventListener("storage",A=>{A&&A.key===y&&A.newValue&&f(JSON.parse(A.newValue))}):(m=new BroadcastChannel(y),m.addEventListener("message",A=>f(A.data)));function w(){!s&&m&&!l?m.postMessage(ye(c)):s&&!l&&window.localStorage.setItem(y,JSON.stringify(c)),r||o.forEach(A=>A(c))}if(ge(c,w,{deep:!0,flush:"sync"}),s){const A=window.localStorage.getItem(y);A&&f(JSON.parse(A))}}return{init:h,onPatch:p,patch:d,state:c}}const{init:p6,onPatch:d6,patch:Ys,state:Bl}=qd(ws,{page:1,clicks:0,viewerPage:1,viewerClicks:0}),As=He({});let f6=[],h6=[];Lt(As,"$syncUp",!0);Lt(As,"$syncDown",!0);Lt(As,"$paused",!1);Lt(As,"$onSet",t=>f6.push(t));Lt(As,"$onPatch",t=>h6.push(t));jd();Lt(As,"$patch",async()=>!1);const{init:y6,onPatch:m6,patch:Hd,state:Nr}=qd(As,{},!1),g6="modulepreload",v6=function(t){return"/owasp-top-ten-workshop/"+t},Lc={},Tn=function(n,s,o){if(!s||s.length===0)return n();const r=document.getElementsByTagName("link");return Promise.all(s.map(l=>{if(l=v6(l),l in Lc)return;Lc[l]=!0;const a=l.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(!!o)for(let d=r.length-1;d>=0;d--){const f=r[d];if(f.href===l&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${i}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":g6,a||(p.as="script",p.crossOrigin=""),p.href=l,document.head.appendChild(p),a)return new Promise((d,f)=>{p.addEventListener("load",d),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>n())};function _6(t,n){let s,o,r;const l=K(!0),a=()=>{l.value=!0,r()};ge(t,a,{flush:"sync"});const i=typeof n=="function"?n:n.get,c=typeof n=="function"?void 0:n.set,p=li((d,f)=>(o=d,r=f,{get(){return l.value&&(s=i(),l.value=!1),o(),s},set(h){c==null||c(h)}}));return Object.isExtensible(p)&&(p.trigger=a),p}function on(t){return Xa()?(wp(t),!0):!1}function Ke(t){return typeof t=="function"?t():O(t)}function w6(t){if(!Se(t))return He(t);const n=new Proxy({},{get(s,o,r){return O(Reflect.get(t.value,o,r))},set(s,o,r){return Se(t.value[o])&&!Se(r)?t.value[o].value=r:t.value[o]=r,!0},deleteProperty(s,o){return Reflect.deleteProperty(t.value,o)},has(s,o){return Reflect.has(t.value,o)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return He(n)}const Ut=typeof window<"u",A6=t=>typeof t<"u",b6=t=>t!=null,E6=Object.prototype.toString,ma=t=>E6.call(t)==="[object Object]",ga=()=>+Date.now(),fs=()=>{},D6=k6();function k6(){var t;return Ut&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function C6(t,n){function s(...o){return new Promise((r,l)=>{Promise.resolve(t(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(r).catch(l)})}return s}const Vd=t=>t();function x6(t=Vd){const n=K(!0);function s(){n.value=!1}function o(){n.value=!0}const r=(...l)=>{n.value&&t(...l)};return{isActive:Ht(n),pause:s,resume:o,eventFilter:r}}function B6(t,n){var s;if(typeof t=="number")return t+n;const o=((s=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:s[0])||"",r=t.slice(o.length),l=Number.parseFloat(o)+n;return Number.isNaN(l)?t:l+r}function Ud(...t){if(t.length!==1)return jy(...t);const n=t[0];return typeof n=="function"?Ht(li(()=>({get:n,set:fs}))):K(n)}var S6=Object.defineProperty,$6=Object.defineProperties,T6=Object.getOwnPropertyDescriptors,Fc=Object.getOwnPropertySymbols,O6=Object.prototype.hasOwnProperty,P6=Object.prototype.propertyIsEnumerable,Nc=(t,n,s)=>n in t?S6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,I6=(t,n)=>{for(var s in n||(n={}))O6.call(n,s)&&Nc(t,s,n[s]);if(Fc)for(var s of Fc(n))P6.call(n,s)&&Nc(t,s,n[s]);return t},M6=(t,n)=>$6(t,T6(n));function R6(t){if(!Se(t))return Ly(t);const n=Array.isArray(t.value)?new Array(t.value.length):{};for(const s in t.value)n[s]=li(()=>({get(){return t.value[s]},set(o){if(Array.isArray(t.value)){const r=[...t.value];r[s]=o,t.value=r}else{const r=M6(I6({},t.value),{[s]:o});Object.setPrototypeOf(r,t.value),t.value=r}}}));return n}function Wd(t,n=!0){Bt()?qn(t):n?t():st(t)}function L6(t){Bt()&&ll(t)}function F6(t,n=1e3,s={}){const{immediate:o=!0,immediateCallback:r=!1}=s;let l=null;const a=K(!1);function i(){l&&(clearInterval(l),l=null)}function c(){a.value=!1,i()}function p(){const d=Ke(n);d<=0||(a.value=!0,r&&t(),i(),l=setInterval(t,d))}if(o&&Ut&&p(),Se(n)||typeof n=="function"){const d=ge(n,()=>{a.value&&Ut&&p()});on(d)}return on(c),{isActive:a,pause:c,resume:p}}function N6(t,n,s={}){const{immediate:o=!0}=s,r=K(!1);let l=null;function a(){l&&(clearTimeout(l),l=null)}function i(){r.value=!1,a()}function c(...p){a(),r.value=!0,l=setTimeout(()=>{r.value=!1,l=null,t(...p)},Ke(n))}return o&&(r.value=!0,Ut&&c()),on(i),{isPending:Ht(r),start:c,stop:i}}function zd(t=!1,n={}){const{truthyValue:s=!0,falsyValue:o=!1}=n,r=Se(t),l=K(t);function a(i){if(arguments.length)return l.value=i,l.value;{const c=Ke(s);return l.value=l.value===c?Ke(o):c,l.value}}return r?a:[l,a]}var jc=Object.getOwnPropertySymbols,j6=Object.prototype.hasOwnProperty,q6=Object.prototype.propertyIsEnumerable,H6=(t,n)=>{var s={};for(var o in t)j6.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&jc)for(var o of jc(t))n.indexOf(o)<0&&q6.call(t,o)&&(s[o]=t[o]);return s};function V6(t,n,s={}){const o=s,{eventFilter:r=Vd}=o,l=H6(o,["eventFilter"]);return ge(t,C6(r,n),l)}var U6=Object.defineProperty,W6=Object.defineProperties,z6=Object.getOwnPropertyDescriptors,jr=Object.getOwnPropertySymbols,Kd=Object.prototype.hasOwnProperty,Yd=Object.prototype.propertyIsEnumerable,qc=(t,n,s)=>n in t?U6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,K6=(t,n)=>{for(var s in n||(n={}))Kd.call(n,s)&&qc(t,s,n[s]);if(jr)for(var s of jr(n))Yd.call(n,s)&&qc(t,s,n[s]);return t},Y6=(t,n)=>W6(t,z6(n)),G6=(t,n)=>{var s={};for(var o in t)Kd.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&jr)for(var o of jr(t))n.indexOf(o)<0&&Yd.call(t,o)&&(s[o]=t[o]);return s};function J6(t,n,s={}){const o=s,{eventFilter:r}=o,l=G6(o,["eventFilter"]),{eventFilter:a,pause:i,resume:c,isActive:p}=x6(r);return{stop:V6(t,n,Y6(K6({},l),{eventFilter:a})),pause:i,resume:c,isActive:p}}function ot(t){var n;const s=Ke(t);return(n=s==null?void 0:s.$el)!=null?n:s}const Qe=Ut?window:void 0,Gd=Ut?window.document:void 0,Z6=Ut?window.navigator:void 0;function Ae(...t){let n,s,o,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([s,o,r]=t,n=Qe):[n,s,o,r]=t,!n)return fs;Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]);const l=[],a=()=>{l.forEach(d=>d()),l.length=0},i=(d,f,h,y)=>(d.addEventListener(f,h,y),()=>d.removeEventListener(f,h,y)),c=ge(()=>[ot(n),Ke(r)],([d,f])=>{a(),d&&l.push(...s.flatMap(h=>o.map(y=>i(d,h,y,f))))},{immediate:!0,flush:"post"}),p=()=>{c(),a()};return on(p),p}let Hc=!1;function Q6(t,n,s={}){const{window:o=Qe,ignore:r=[],capture:l=!0,detectIframe:a=!1}=s;if(!o)return;D6&&!Hc&&(Hc=!0,Array.from(o.document.body.children).forEach(h=>h.addEventListener("click",fs)));let i=!0;const c=h=>r.some(y=>{if(typeof y=="string")return Array.from(o.document.querySelectorAll(y)).some(m=>m===h.target||h.composedPath().includes(m));{const m=ot(y);return m&&(h.target===m||h.composedPath().includes(m))}}),d=[Ae(o,"click",h=>{const y=ot(t);if(!(!y||y===h.target||h.composedPath().includes(y))){if(h.detail===0&&(i=!c(h)),!i){i=!0;return}n(h)}},{passive:!0,capture:l}),Ae(o,"pointerdown",h=>{const y=ot(t);y&&(i=!h.composedPath().includes(y)&&!c(h))},{passive:!0}),a&&Ae(o,"blur",h=>{setTimeout(()=>{var y;const m=ot(t);((y=o.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(m!=null&&m.contains(o.document.activeElement))&&n(h)},0)})].filter(Boolean);return()=>d.forEach(h=>h())}function X6(t){return typeof t=="function"?t:typeof t=="string"?n=>n.key===t:Array.isArray(t)?n=>t.includes(n.key):()=>!0}function ev(...t){let n,s,o={};t.length===3?(n=t[0],s=t[1],o=t[2]):t.length===2?typeof t[1]=="object"?(n=!0,s=t[0],o=t[1]):(n=t[0],s=t[1]):(n=!0,s=t[0]);const{target:r=Qe,eventName:l="keydown",passive:a=!1,dedupe:i=!1}=o,c=X6(n);return Ae(r,l,d=>{d.repeat&&Ke(i)||c(d)&&s(d)},a)}function tv(t={}){var n;const{window:s=Qe}=t,o=(n=t.document)!=null?n:s==null?void 0:s.document,r=_6(()=>null,()=>o==null?void 0:o.activeElement);return s&&(Ae(s,"blur",l=>{l.relatedTarget===null&&r.trigger()},!0),Ae(s,"focus",r.trigger,!0)),r}function nv(){const t=K(!1);return Bt()&&qn(()=>{t.value=!0}),t}function Vo(t){const n=nv();return T(()=>(n.value,!!t()))}function sv(t,n={}){const{immediate:s=!0,window:o=Qe}=n,r=K(!1);let l=0,a=null;function i(d){if(!r.value||!o)return;const f=d-l;t({delta:f,timestamp:d}),l=d,a=o.requestAnimationFrame(i)}function c(){!r.value&&o&&(r.value=!0,a=o.requestAnimationFrame(i))}function p(){r.value=!1,a!=null&&o&&(o.cancelAnimationFrame(a),a=null)}return s&&c(),on(p),{isActive:Ht(r),pause:p,resume:c}}function ts(t,n={}){const{window:s=Qe}=n,o=Vo(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let r;const l=K(!1),a=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i))},i=()=>{o.value&&(a(),r=s.matchMedia(Ud(t).value),l.value=!!(r!=null&&r.matches),r&&("addEventListener"in r?r.addEventListener("change",i):r.addListener(i)))};return _s(i),on(()=>a()),l}const ov={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function rv(t,n={}){function s(i,c){let p=t[i];return c!=null&&(p=B6(p,c)),typeof p=="number"&&(p=`${p}px`),p}const{window:o=Qe}=n;function r(i){return o?o.matchMedia(i).matches:!1}const l=i=>ts(`(min-width: ${s(i)})`,n),a=Object.keys(t).reduce((i,c)=>(Object.defineProperty(i,c,{get:()=>l(c),enumerable:!0,configurable:!0}),i),{});return Object.assign(a,{greater(i){return ts(`(min-width: ${s(i,.1)})`,n)},greaterOrEqual:l,smaller(i){return ts(`(max-width: ${s(i,-.1)})`,n)},smallerOrEqual(i){return ts(`(max-width: ${s(i)})`,n)},between(i,c){return ts(`(min-width: ${s(i)}) and (max-width: ${s(c,-.1)})`,n)},isGreater(i){return r(`(min-width: ${s(i,.1)})`)},isGreaterOrEqual(i){return r(`(min-width: ${s(i)})`)},isSmaller(i){return r(`(max-width: ${s(i,-.1)})`)},isSmallerOrEqual(i){return r(`(max-width: ${s(i)})`)},isInBetween(i,c){return r(`(min-width: ${s(i)}) and (max-width: ${s(c,-.1)})`)},current(){const i=Object.keys(t).map(c=>[c,l(c)]);return T(()=>i.filter(([,c])=>c.value).map(([c])=>c))}})}function lv(t={}){const{navigator:n=Z6,read:s=!1,source:o,copiedDuring:r=1500,legacy:l=!1}=t,a=["copy","cut"],i=Vo(()=>n&&"clipboard"in n),c=T(()=>i.value||l),p=K(""),d=K(!1),f=N6(()=>d.value=!1,r);function h(){i.value?n.clipboard.readText().then(A=>{p.value=A}):p.value=w()}if(c.value&&s)for(const A of a)Ae(A,h);async function y(A=Ke(o)){c.value&&A!=null&&(i.value?await n.clipboard.writeText(A):m(A),p.value=A,d.value=!0,f.start())}function m(A){const b=document.createElement("textarea");b.value=A??"",b.style.position="absolute",b.style.opacity="0",document.body.appendChild(b),b.select(),document.execCommand("copy"),b.remove()}function w(){var A,b,E;return(E=(b=(A=document==null?void 0:document.getSelection)==null?void 0:A.call(document))==null?void 0:b.toString())!=null?E:""}return{isSupported:c,text:p,copied:d,copy:y}}function av(t){return JSON.parse(JSON.stringify(t))}const rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr="__vueuse_ssr_handlers__",iv=cv();function cv(){return lr in rr||(rr[lr]=rr[lr]||{}),rr[lr]}function uv(t,n){return iv[t]||n}function pv(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var dv=Object.defineProperty,Vc=Object.getOwnPropertySymbols,fv=Object.prototype.hasOwnProperty,hv=Object.prototype.propertyIsEnumerable,Uc=(t,n,s)=>n in t?dv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Wc=(t,n)=>{for(var s in n||(n={}))fv.call(n,s)&&Uc(t,s,n[s]);if(Vc)for(var s of Vc(n))hv.call(n,s)&&Uc(t,s,n[s]);return t};const yv={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},zc="vueuse-storage";function mv(t,n,s,o={}){var r;const{flush:l="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:c=!0,mergeDefaults:p=!1,shallow:d,window:f=Qe,eventFilter:h,onError:y=$=>{console.error($)}}=o,m=(d?nn:K)(n);if(!s)try{s=uv("getDefaultStorage",()=>{var $;return($=Qe)==null?void 0:$.localStorage})()}catch($){y($)}if(!s)return m;const w=Ke(n),A=pv(w),b=(r=o.serializer)!=null?r:yv[A],{pause:E,resume:_}=J6(m,()=>k(m.value),{flush:l,deep:a,eventFilter:h});return f&&i&&(Ae(f,"storage",F),Ae(f,zc,B)),F(),m;function k($){try{if($==null)s.removeItem(t);else{const V=b.write($),oe=s.getItem(t);oe!==V&&(s.setItem(t,V),f&&f.dispatchEvent(new CustomEvent(zc,{detail:{key:t,oldValue:oe,newValue:V,storageArea:s}})))}}catch(V){y(V)}}function C($){const V=$?$.newValue:s.getItem(t);if(V==null)return c&&w!==null&&s.setItem(t,b.write(w)),w;if(!$&&p){const oe=b.read(V);return typeof p=="function"?p(oe,w):A==="object"&&!Array.isArray(oe)?Wc(Wc({},w),oe):oe}else return typeof V!="string"?V:b.read(V)}function B($){F($.detail)}function F($){if(!($&&$.storageArea!==s)){if($&&$.key==null){m.value=w;return}if(!($&&$.key!==t)){E();try{m.value=C($)}catch(V){y(V)}finally{$?st(_):_()}}}}}function gv(t){return ts("(prefers-color-scheme: dark)",t)}var vv=Object.defineProperty,_v=Object.defineProperties,wv=Object.getOwnPropertyDescriptors,Kc=Object.getOwnPropertySymbols,Av=Object.prototype.hasOwnProperty,bv=Object.prototype.propertyIsEnumerable,Yc=(t,n,s)=>n in t?vv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Ev=(t,n)=>{for(var s in n||(n={}))Av.call(n,s)&&Yc(t,s,n[s]);if(Kc)for(var s of Kc(n))bv.call(n,s)&&Yc(t,s,n[s]);return t},Dv=(t,n)=>_v(t,wv(n));function $S(t,n={}){var s,o;const{pointerTypes:r,preventDefault:l,stopPropagation:a,exact:i,onMove:c,onEnd:p,onStart:d,initialValue:f,axis:h="both",draggingElement:y=Qe,handle:m=t}=n,w=K((s=Ke(f))!=null?s:{x:0,y:0}),A=K(),b=B=>r?r.includes(B.pointerType):!0,E=B=>{Ke(l)&&B.preventDefault(),Ke(a)&&B.stopPropagation()},_=B=>{if(!b(B)||Ke(i)&&B.target!==Ke(t))return;const F=Ke(t).getBoundingClientRect(),$={x:B.clientX-F.left,y:B.clientY-F.top};(d==null?void 0:d($,B))!==!1&&(A.value=$,E(B))},k=B=>{if(!b(B)||!A.value)return;let{x:F,y:$}=w.value;(h==="x"||h==="both")&&(F=B.clientX-A.value.x),(h==="y"||h==="both")&&($=B.clientY-A.value.y),w.value={x:F,y:$},c==null||c(w.value,B),E(B)},C=B=>{b(B)&&A.value&&(A.value=void 0,p==null||p(w.value,B),E(B))};if(Ut){const B={capture:(o=n.capture)!=null?o:!0};Ae(m,"pointerdown",_,B),Ae(y,"pointermove",k,B),Ae(y,"pointerup",C,B)}return Dv(Ev({},R6(w)),{position:w,isDragging:T(()=>!!A.value),style:T(()=>`left:${w.value.x}px;top:${w.value.y}px;`)})}var Gc=Object.getOwnPropertySymbols,kv=Object.prototype.hasOwnProperty,Cv=Object.prototype.propertyIsEnumerable,xv=(t,n)=>{var s={};for(var o in t)kv.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Gc)for(var o of Gc(t))n.indexOf(o)<0&&Cv.call(t,o)&&(s[o]=t[o]);return s};function Bv(t,n,s={}){const o=s,{window:r=Qe}=o,l=xv(o,["window"]);let a;const i=Vo(()=>r&&"ResizeObserver"in r),c=()=>{a&&(a.disconnect(),a=void 0)},p=T(()=>Array.isArray(t)?t.map(h=>ot(h)):[ot(t)]),d=ge(p,h=>{if(c(),i.value&&r){a=new ResizeObserver(n);for(const y of h)y&&a.observe(y,l)}},{immediate:!0,flush:"post",deep:!0}),f=()=>{c(),d()};return on(f),{isSupported:i,stop:f}}function Sv(t,n={width:0,height:0},s={}){const{window:o=Qe,box:r="content-box"}=s,l=T(()=>{var c,p;return(p=(c=ot(t))==null?void 0:c.namespaceURI)==null?void 0:p.includes("svg")}),a=K(n.width),i=K(n.height);return Bv(t,([c])=>{const p=r==="border-box"?c.borderBoxSize:r==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(o&&l.value){const d=ot(t);if(d){const f=o.getComputedStyle(d);a.value=Number.parseFloat(f.width),i.value=Number.parseFloat(f.height)}}else if(p){const d=Array.isArray(p)?p:[p];a.value=d.reduce((f,{inlineSize:h})=>f+h,0),i.value=d.reduce((f,{blockSize:h})=>f+h,0)}else a.value=c.contentRect.width,i.value=c.contentRect.height},s),ge(()=>ot(t),c=>{a.value=c?n.width:0,i.value=c?n.height:0}),{width:a,height:i}}function $v(t,n,s={}){const{root:o,rootMargin:r="0px",threshold:l=.1,window:a=Qe,immediate:i=!0}=s,c=Vo(()=>a&&"IntersectionObserver"in a),p=T(()=>{const m=Ke(t);return(Array.isArray(m)?m:[m]).map(ot).filter(b6)});let d=fs;const f=K(i),h=c.value?ge(()=>[p.value,ot(o),f.value],([m,w])=>{if(d(),!f.value||!m.length)return;const A=new IntersectionObserver(n,{root:ot(w),rootMargin:r,threshold:l});m.forEach(b=>b&&A.observe(b)),d=()=>{A.disconnect(),d=fs}},{immediate:i,flush:"post"}):fs,y=()=>{d(),h(),f.value=!1};return on(y),{isSupported:c,isActive:f,pause(){d(),f.value=!1},resume(){f.value=!0},stop:y}}const Jc=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Tv(t,n={}){const{document:s=Gd,autoExit:o=!1}=n,r=T(()=>{var b;return(b=ot(t))!=null?b:s==null?void 0:s.querySelector("html")}),l=K(!1),a=T(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(b=>s&&b in s||r.value&&b in r.value)),i=T(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(b=>s&&b in s||r.value&&b in r.value)),c=T(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(b=>s&&b in s||r.value&&b in r.value)),p=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(b=>s&&b in s),d=Vo(()=>r.value&&s&&a.value!==void 0&&i.value!==void 0&&c.value!==void 0),f=()=>p?(s==null?void 0:s[p])===r.value:!1,h=()=>{if(c.value){if(s&&s[c.value]!=null)return s[c.value];{const b=r.value;if((b==null?void 0:b[c.value])!=null)return!!b[c.value]}}return!1};async function y(){if(d.value){if(i.value)if((s==null?void 0:s[i.value])!=null)await s[i.value]();else{const b=r.value;(b==null?void 0:b[i.value])!=null&&await b[i.value]()}l.value=!1}}async function m(){if(!d.value)return;h()&&await y();const b=r.value;a.value&&(b==null?void 0:b[a.value])!=null&&(await b[a.value](),l.value=!0)}async function w(){await(l.value?y():m())}const A=()=>{const b=h();(!b||b&&f())&&(l.value=b)};return Ae(s,Jc,A,!1),Ae(()=>ot(r),Jc,A,!1),o&&on(y),{isSupported:d,isFullscreen:l,enter:m,exit:y,toggle:w}}function Wt(t,n,s={}){const{window:o=Qe}=s;return mv(t,n,o==null?void 0:o.localStorage,s)}const Ov={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function Pv(t={}){const{reactive:n=!1,target:s=Qe,aliasMap:o=Ov,passive:r=!0,onEventFired:l=fs}=t,a=He(new Set),i={toJSON(){return{}},current:a},c=n?He(i):i,p=new Set,d=new Set;function f(w,A){w in c&&(n?c[w]=A:c[w].value=A)}function h(){a.clear();for(const w of d)f(w,!1)}function y(w,A){var b,E;const _=(b=w.key)==null?void 0:b.toLowerCase(),C=[(E=w.code)==null?void 0:E.toLowerCase(),_].filter(Boolean);_&&(A?a.add(_):a.delete(_));for(const B of C)d.add(B),f(B,A);_==="meta"&&!A?(p.forEach(B=>{a.delete(B),f(B,!1)}),p.clear()):typeof w.getModifierState=="function"&&w.getModifierState("Meta")&&A&&[...a,...C].forEach(B=>p.add(B))}Ae(s,"keydown",w=>(y(w,!0),l(w)),{passive:r}),Ae(s,"keyup",w=>(y(w,!1),l(w)),{passive:r}),Ae("blur",h,{passive:!0}),Ae("focus",h,{passive:!0});const m=new Proxy(c,{get(w,A,b){if(typeof A!="string")return Reflect.get(w,A,b);if(A=A.toLowerCase(),A in o&&(A=o[A]),!(A in c))if(/[+_-]/.test(A)){const _=A.split(/[+_-]/g).map(k=>k.trim());c[A]=T(()=>_.every(k=>Ke(m[k])))}else c[A]=K(!1);const E=Reflect.get(w,A,b);return n?Ke(E):E}});return m}const Iv={page:t=>[t.pageX,t.pageY],client:t=>[t.clientX,t.clientY],screen:t=>[t.screenX,t.screenY],movement:t=>t instanceof Touch?null:[t.movementX,t.movementY]};function TS(t={}){const{type:n="page",touch:s=!0,resetOnTouchEnds:o=!1,initialValue:r={x:0,y:0},window:l=Qe,target:a=l,eventFilter:i}=t,c=K(r.x),p=K(r.y),d=K(null),f=typeof n=="function"?n:Iv[n],h=b=>{const E=f(b);E&&([c.value,p.value]=E,d.value="mouse")},y=b=>{if(b.touches.length>0){const E=f(b.touches[0]);E&&([c.value,p.value]=E,d.value="touch")}},m=()=>{c.value=r.x,p.value=r.y},w=i?b=>i(()=>h(b),{}):b=>h(b),A=i?b=>i(()=>y(b),{}):b=>y(b);return a&&(Ae(a,"mousemove",w,{passive:!0}),Ae(a,"dragover",w,{passive:!0}),s&&n!=="movement"&&(Ae(a,"touchstart",A,{passive:!0}),Ae(a,"touchmove",A,{passive:!0}),o&&Ae(a,"touchend",m,{passive:!0}))),{x:c,y:p,sourceType:d}}function Mv(t,n={}){const s=Ud(t),{threshold:o=50,onSwipe:r,onSwipeEnd:l,onSwipeStart:a}=n,i=He({x:0,y:0}),c=(B,F)=>{i.x=B,i.y=F},p=He({x:0,y:0}),d=(B,F)=>{p.x=B,p.y=F},f=T(()=>i.x-p.x),h=T(()=>i.y-p.y),{max:y,abs:m}=Math,w=T(()=>y(m(f.value),m(h.value))>=o),A=K(!1),b=K(!1),E=T(()=>w.value?m(f.value)>m(h.value)?f.value>0?"left":"right":h.value>0?"up":"down":"none"),_=B=>{var F,$,V;const oe=B.buttons===0,pe=B.buttons===1;return(V=($=(F=n.pointerTypes)==null?void 0:F.includes(B.pointerType))!=null?$:oe||pe)!=null?V:!0},k=[Ae(t,"pointerdown",B=>{var F,$;if(!_(B))return;b.value=!0,($=(F=s.value)==null?void 0:F.style)==null||$.setProperty("touch-action","none");const V=B.target;V==null||V.setPointerCapture(B.pointerId);const{clientX:oe,clientY:pe}=B;c(oe,pe),d(oe,pe),a==null||a(B)}),Ae(t,"pointermove",B=>{if(!_(B)||!b.value)return;const{clientX:F,clientY:$}=B;d(F,$),!A.value&&w.value&&(A.value=!0),A.value&&(r==null||r(B))}),Ae(t,"pointerup",B=>{var F,$;_(B)&&(A.value&&(l==null||l(B,E.value)),b.value=!1,A.value=!1,($=(F=s.value)==null?void 0:F.style)==null||$.setProperty("touch-action","initial"))})],C=()=>k.forEach(B=>B());return{isSwiping:Ht(A),direction:Ht(E),posStart:Ht(i),posEnd:Ht(p),distanceX:f,distanceY:h,stop:C}}let Rv=0;function OS(t,n={}){const s=K(!1),{document:o=Gd,immediate:r=!0,manual:l=!1,id:a=`vueuse_styletag_${++Rv}`}=n,i=K(t);let c=()=>{};const p=()=>{if(!o)return;const f=o.getElementById(a)||o.createElement("style");f.isConnected||(f.type="text/css",f.id=a,n.media&&(f.media=n.media),o.head.appendChild(f)),!s.value&&(c=ge(i,h=>{f.textContent=h},{immediate:!0}),s.value=!0)},d=()=>{!o||!s.value||(c(),o.head.removeChild(o.getElementById(a)),s.value=!1)};return r&&!l&&Wd(p),l||on(d),{id:a,css:i,unload:d,load:p,isLoaded:Ht(s)}}var Lv=Object.defineProperty,Zc=Object.getOwnPropertySymbols,Fv=Object.prototype.hasOwnProperty,Nv=Object.prototype.propertyIsEnumerable,Qc=(t,n,s)=>n in t?Lv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,jv=(t,n)=>{for(var s in n||(n={}))Fv.call(n,s)&&Qc(t,s,n[s]);if(Zc)for(var s of Zc(n))Nv.call(n,s)&&Qc(t,s,n[s]);return t};function PS(t={}){const{controls:n=!1,offset:s=0,immediate:o=!0,interval:r="requestAnimationFrame",callback:l}=t,a=K(ga()+s),i=()=>a.value=ga()+s,c=l?()=>{i(),l(a.value)}:i,p=r==="requestAnimationFrame"?sv(c,{immediate:o}):F6(c,r,{immediate:o});return n?jv({timestamp:a},p):a}function Zt(t,n,s,o={}){var r,l,a;const{clone:i=!1,passive:c=!1,eventName:p,deep:d=!1,defaultValue:f,shouldEmit:h}=o,y=Bt(),m=s||(y==null?void 0:y.emit)||((r=y==null?void 0:y.$emit)==null?void 0:r.bind(y))||((a=(l=y==null?void 0:y.proxy)==null?void 0:l.$emit)==null?void 0:a.bind(y==null?void 0:y.proxy));let w=p;n||(n="modelValue"),w=w||`update:${n.toString()}`;const A=_=>i?typeof i=="function"?i(_):av(_):_,b=()=>A6(t[n])?A(t[n]):f,E=_=>{h?h(_)&&m(w,_):m(w,_)};if(c){const _=b(),k=K(_);return ge(()=>t[n],C=>k.value=A(C)),ge(k,C=>{(C!==t[n]||d)&&E(C)},{deep:d}),k}else return T({get(){return b()},set(_){E(_)}})}function IS({window:t=Qe}={}){if(!t)return K(!1);const n=K(t.document.hasFocus());return Ae(t,"blur",()=>{n.value=!1}),Ae(t,"focus",()=>{n.value=!0}),n}function qv(t={}){const{window:n=Qe,initialWidth:s=1/0,initialHeight:o=1/0,listenOrientation:r=!0,includeScrollbar:l=!0}=t,a=K(s),i=K(o),c=()=>{n&&(l?(a.value=n.innerWidth,i.value=n.innerHeight):(a.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};if(c(),Wd(c),Ae("resize",c,{passive:!0}),r){const p=ts("(orientation: portrait)");ge(p,()=>c())}return{width:a,height:i}}function Hv(){return Jd().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Jd(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Vv=typeof Proxy=="function",Uv="devtools-plugin:setup",Wv="plugin:settings:set";let Ds,va;function zv(){var t;return Ds!==void 0||(typeof window<"u"&&window.performance?(Ds=!0,va=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Ds=!0,va=global.perf_hooks.performance):Ds=!1),Ds}function Kv(){return zv()?va.now():Date.now()}class Yv{constructor(n,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=s;const o={};if(n.settings)for(const a in n.settings){const i=n.settings[a];o[a]=i.defaultValue}const r=`__vue-devtools-plugin-settings__${n.id}`;let l=Object.assign({},o);try{const a=localStorage.getItem(r),i=JSON.parse(a);Object.assign(l,i)}catch{}this.fallbacks={getSettings(){return l},setSettings(a){try{localStorage.setItem(r,JSON.stringify(a))}catch{}l=a},now(){return Kv()}},s&&s.on(Wv,(a,i)=>{a===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(a,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(a,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(p=>{this.targetQueue.push({method:i,args:c,resolve:p})})})}async setRealTarget(n){this.target=n;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function Gv(t,n){const s=t,o=Jd(),r=Hv(),l=Vv&&s.enableEarlyProxy;if(r&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!l))r.emit(Uv,t,n);else{const a=l?new Yv(s,r):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:n,proxy:a}),a&&n(a.proxiedTarget)}}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const pn=typeof window<"u";function Jv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Oe=Object.assign;function Sl(t,n){const s={};for(const o in n){const r=n[o];s[o]=xt(r)?r.map(t):t(r)}return s}const fo=()=>{},xt=Array.isArray;function xe(t){const n=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(n))}const Zv=/\/$/,Qv=t=>t.replace(Zv,"");function $l(t,n,s="/"){let o,r={},l="",a="";const i=n.indexOf("#");let c=n.indexOf("?");return i<c&&i>=0&&(c=-1),c>-1&&(o=n.slice(0,c),l=n.slice(c+1,i>-1?i:n.length),r=t(l)),i>-1&&(o=o||n.slice(0,i),a=n.slice(i,n.length)),o=t_(o??n,s),{fullPath:o+(l&&"?")+l+a,path:o,query:r,hash:a}}function Xv(t,n){const s=n.query?t(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function Xc(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function eu(t,n,s){const o=n.matched.length-1,r=s.matched.length-1;return o>-1&&o===r&&Nn(n.matched[o],s.matched[r])&&Zd(n.params,s.params)&&t(n.query)===t(s.query)&&n.hash===s.hash}function Nn(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Zd(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!e_(t[s],n[s]))return!1;return!0}function e_(t,n){return xt(t)?tu(t,n):xt(n)?tu(n,t):t===n}function tu(t,n){return xt(n)?t.length===n.length&&t.every((s,o)=>s===n[o]):t.length===1&&t[0]===n}function t_(t,n){if(t.startsWith("/"))return t;if(!n.startsWith("/"))return xe(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${n}". It should look like "/${n}".`),t;if(!t)return n;const s=n.split("/"),o=t.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=s.length-1,a,i;for(a=0;a<o.length;a++)if(i=o[a],i!==".")if(i==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+o.slice(a-(a===o.length?1:0)).join("/")}var Bo;(function(t){t.pop="pop",t.push="push"})(Bo||(Bo={}));var ho;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ho||(ho={}));function n_(t){if(!t)if(pn){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Qv(t)}const s_=/^[^#]+#/;function o_(t,n){return t.replace(s_,"#")+n}function r_(t,n){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:n.behavior,left:o.left-s.left-(n.left||0),top:o.top-s.top-(n.top||0)}}const ul=()=>({left:window.pageXOffset,top:window.pageYOffset});function l_(t){let n;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#");if(typeof t.el=="string"&&(!o||!document.getElementById(t.el.slice(1))))try{const l=document.querySelector(t.el);if(o&&l){xe(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{xe(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const r=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r){xe(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}n=r_(r,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function nu(t,n){return(history.state?history.state.position-n:-1)+t}const _a=new Map;function a_(t,n){_a.set(t,n)}function i_(t){const n=_a.get(t);return _a.delete(t),n}let c_=()=>location.protocol+"//"+location.host;function Qd(t,n){const{pathname:s,search:o,hash:r}=n,l=t.indexOf("#");if(l>-1){let i=r.includes(t.slice(l))?t.slice(l).length:1,c=r.slice(i);return c[0]!=="/"&&(c="/"+c),Xc(c,"")}return Xc(s,t)+o+r}function u_(t,n,s,o){let r=[],l=[],a=null;const i=({state:h})=>{const y=Qd(t,location),m=s.value,w=n.value;let A=0;if(h){if(s.value=y,n.value=h,a&&a===m){a=null;return}A=w?h.position-w.position:0}else o(y);r.forEach(b=>{b(s.value,m,{delta:A,type:Bo.pop,direction:A?A>0?ho.forward:ho.back:ho.unknown})})};function c(){a=s.value}function p(h){r.push(h);const y=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return l.push(y),y}function d(){const{history:h}=window;h.state&&h.replaceState(Oe({},h.state,{scroll:ul()}),"")}function f(){for(const h of l)h();l=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:p,destroy:f}}function su(t,n,s,o=!1,r=!1){return{back:t,current:n,forward:s,replaced:o,position:window.history.length,scroll:r?ul():null}}function p_(t){const{history:n,location:s}=window,o={value:Qd(t,s)},r={value:n.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(c,p,d){const f=t.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+c:c_()+t+c;try{n[d?"replaceState":"pushState"](p,"",h),r.value=p}catch(y){xe("Error with push/replace State",y),s[d?"replace":"assign"](h)}}function a(c,p){const d=Oe({},n.state,su(r.value.back,c,r.value.forward,!0),p,{position:r.value.position});l(c,d,!0),o.value=c}function i(c,p){const d=Oe({},r.value,n.state,{forward:c,scroll:ul()});n.state||xe(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),l(d.current,d,!0);const f=Oe({},su(o.value,c,null),{position:d.position+1},p);l(c,f,!1),o.value=c}return{location:o,state:r,push:i,replace:a}}function d_(t){t=n_(t);const n=p_(t),s=u_(t,n.state,n.location,n.replace);function o(l,a=!0){a||s.pauseListeners(),history.go(l)}const r=Oe({location:"",base:t,go:o,createHref:o_.bind(null,t)},n,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>n.state.value}),r}function f_(t){return typeof t=="string"||t&&typeof t=="object"}function Xd(t){return typeof t=="string"||typeof t=="symbol"}const wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ef=Symbol("navigation failure");var ou;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ou||(ou={}));const h_={[1]({location:t,currentLocation:n}){return`No match for
 ${JSON.stringify(t)}${n?`
while being at
`+JSON.stringify(n):""}`},[2]({from:t,to:n}){return`Redirected from "${t.fullPath}" to "${m_(n)}" via a navigation guard.`},[4]({from:t,to:n}){return`Navigation aborted from "${t.fullPath}" to "${n.fullPath}" via a navigation guard.`},[8]({from:t,to:n}){return`Navigation cancelled from "${t.fullPath}" to "${n.fullPath}" with a new navigation.`},[16]({from:t,to:n}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function Ms(t,n){return Oe(new Error(h_[t](n)),{type:t,[ef]:!0},n)}function rn(t,n){return t instanceof Error&&ef in t&&(n==null||!!(t.type&n))}const y_=["params","query","hash"];function m_(t){if(typeof t=="string")return t;if("path"in t)return t.path;const n={};for(const s of y_)s in t&&(n[s]=t[s]);return JSON.stringify(n,null,2)}const ru="[^/]+?",g_={sensitive:!1,strict:!1,start:!0,end:!0},v_=/[.+*?^${}()[\]/\\]/g;function __(t,n){const s=Oe({},g_,n),o=[];let r=s.start?"^":"";const l=[];for(const p of t){const d=p.length?[]:[90];s.strict&&!p.length&&(r+="/");for(let f=0;f<p.length;f++){const h=p[f];let y=40+(s.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(v_,"\\$&"),y+=40;else if(h.type===1){const{value:m,repeatable:w,optional:A,regexp:b}=h;l.push({name:m,repeatable:w,optional:A});const E=b||ru;if(E!==ru){y+=10;try{new RegExp(`(${E})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${E}): `+k.message)}}let _=w?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(_=A&&p.length<2?`(?:/${_})`:"/"+_),A&&(_+="?"),r+=_,y+=20,A&&(y+=-8),w&&(y+=-20),E===".*"&&(y+=-50)}d.push(y)}o.push(d)}if(s.strict&&s.end){const p=o.length-1;o[p][o[p].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function i(p){const d=p.match(a),f={};if(!d)return null;for(let h=1;h<d.length;h++){const y=d[h]||"",m=l[h-1];f[m.name]=y&&m.repeatable?y.split("/"):y}return f}function c(p){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const y of h)if(y.type===0)d+=y.value;else if(y.type===1){const{value:m,repeatable:w,optional:A}=y,b=m in p?p[m]:"";if(xt(b)&&!w)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const E=xt(b)?b.join("/"):b;if(!E)if(A)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);d+=E}}return d||"/"}return{re:a,score:o,keys:l,parse:i,stringify:c}}function w_(t,n){let s=0;for(;s<t.length&&s<n.length;){const o=n[s]-t[s];if(o)return o;s++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function A_(t,n){let s=0;const o=t.score,r=n.score;for(;s<o.length&&s<r.length;){const l=w_(o[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-o.length)===1){if(lu(o))return 1;if(lu(r))return-1}return r.length-o.length}function lu(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const b_={type:0,value:""},E_=/[a-zA-Z0-9_]/;function D_(t){if(!t)return[[]];if(t==="/")return[[b_]];if(!t.startsWith("/"))throw new Error(`Route paths should start with a "/": "${t}" should be "/${t}".`);function n(y){throw new Error(`ERR (${s})/"${p}": ${y}`)}let s=0,o=s;const r=[];let l;function a(){l&&r.push(l),l=[]}let i=0,c,p="",d="";function f(){p&&(s===0?l.push({type:0,value:p}):s===1||s===2||s===3?(l.length>1&&(c==="*"||c==="+")&&n(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:p,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):n("Invalid state to consume buffer"),p="")}function h(){p+=c}for(;i<t.length;){if(c=t[i++],c==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:c==="/"?(p&&f(),a()):c===":"?(f(),s=1):h();break;case 4:h(),s=o;break;case 1:c==="("?s=2:E_.test(c)?h():(f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&i--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=3:d+=c;break;case 3:f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&i--,d="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${p}"`),f(),a(),r}function k_(t,n,s){const o=__(D_(t.path),s);{const l=new Set;for(const a of o.keys)l.has(a.name)&&xe(`Found duplicated params with name "${a.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),l.add(a.name)}const r=Oe(o,{record:t,parent:n,children:[],alias:[]});return n&&!r.record.aliasOf==!n.record.aliasOf&&n.children.push(r),r}function C_(t,n){const s=[],o=new Map;n=cu({strict:!1,end:!0,sensitive:!1},n);function r(d){return o.get(d)}function l(d,f,h){const y=!h,m=x_(d);T_(m,f),m.aliasOf=h&&h.record;const w=cu(n,d),A=[m];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const k of _)A.push(Oe({},m,{components:h?h.record.components:m.components,path:k,aliasOf:h?h.record:m}))}let b,E;for(const _ of A){const{path:k}=_;if(f&&k[0]!=="/"){const C=f.record.path,B=C[C.length-1]==="/"?"":"/";_.path=f.record.path+(k&&B+k)}if(_.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(b=k_(_,f,w),f&&k[0]==="/"&&O_(b,f),h?(h.alias.push(b),$_(h,b)):(E=E||b,E!==b&&E.alias.push(b),y&&d.name&&!iu(b)&&a(d.name)),m.children){const C=m.children;for(let B=0;B<C.length;B++)l(C[B],b,h&&h.children[B])}h=h||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&c(b)}return E?()=>{a(E)}:fo}function a(d){if(Xd(d)){const f=o.get(d);f&&(o.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&o.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function i(){return s}function c(d){let f=0;for(;f<s.length&&A_(d,s[f])>=0&&(d.record.path!==s[f].record.path||!tf(d,s[f]));)f++;s.splice(f,0,d),d.record.name&&!iu(d)&&o.set(d.record.name,d)}function p(d,f){let h,y={},m,w;if("name"in d&&d.name){if(h=o.get(d.name),!h)throw Ms(1,{location:d});{const E=Object.keys(d.params||{}).filter(_=>!h.keys.find(k=>k.name===_));E.length&&xe(`Discarded invalid param(s) "${E.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}w=h.record.name,y=Oe(au(f.params,h.keys.filter(E=>!E.optional).map(E=>E.name)),d.params&&au(d.params,h.keys.map(E=>E.name))),m=h.stringify(y)}else if("path"in d)m=d.path,m.startsWith("/")||xe(`The Matcher cannot resolve relative paths but received "${m}". Unless you directly called \`matcher.resolve("${m}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),h=s.find(E=>E.re.test(m)),h&&(y=h.parse(m),w=h.record.name);else{if(h=f.name?o.get(f.name):s.find(E=>E.re.test(f.path)),!h)throw Ms(1,{location:d,currentLocation:f});w=h.record.name,y=Oe({},f.params,d.params),m=h.stringify(y)}const A=[];let b=h;for(;b;)A.unshift(b.record),b=b.parent;return{name:w,path:m,params:y,matched:A,meta:S_(A)}}return t.forEach(d=>l(d)),{addRoute:l,resolve:p,removeRoute:a,getRoutes:i,getRecordMatcher:r}}function au(t,n){const s={};for(const o of n)o in t&&(s[o]=t[o]);return s}function x_(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:B_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function B_(t){const n={},s=t.props||!1;if("component"in t)n.default=s;else for(const o in t.components)n[o]=typeof s=="boolean"?s:s[o];return n}function iu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function S_(t){return t.reduce((n,s)=>Oe(n,s.meta),{})}function cu(t,n){const s={};for(const o in t)s[o]=o in n?n[o]:t[o];return s}function wa(t,n){return t.name===n.name&&t.optional===n.optional&&t.repeatable===n.repeatable}function $_(t,n){for(const s of t.keys)if(!s.optional&&!n.keys.find(wa.bind(null,s)))return xe(`Alias "${n.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${s.name}"`);for(const s of n.keys)if(!s.optional&&!t.keys.find(wa.bind(null,s)))return xe(`Alias "${n.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${s.name}"`)}function T_(t,n){n&&n.record.name&&!t.name&&!t.path&&xe(`The route named "${String(n.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function O_(t,n){for(const s of n.keys)if(!t.keys.find(wa.bind(null,s)))return xe(`Absolute path "${t.record.path}" must have the exact same param named "${s.name}" as its parent "${n.record.path}".`)}function tf(t,n){return n.children.some(s=>s===t||tf(t,s))}const nf=/#/g,P_=/&/g,I_=/\//g,M_=/=/g,R_=/\?/g,sf=/\+/g,L_=/%5B/g,F_=/%5D/g,of=/%5E/g,N_=/%60/g,rf=/%7B/g,j_=/%7C/g,lf=/%7D/g,q_=/%20/g;function Ai(t){return encodeURI(""+t).replace(j_,"|").replace(L_,"[").replace(F_,"]")}function H_(t){return Ai(t).replace(rf,"{").replace(lf,"}").replace(of,"^")}function Aa(t){return Ai(t).replace(sf,"%2B").replace(q_,"+").replace(nf,"%23").replace(P_,"%26").replace(N_,"`").replace(rf,"{").replace(lf,"}").replace(of,"^")}function V_(t){return Aa(t).replace(M_,"%3D")}function U_(t){return Ai(t).replace(nf,"%23").replace(R_,"%3F")}function W_(t){return t==null?"":U_(t).replace(I_,"%2F")}function So(t){try{return decodeURIComponent(""+t)}catch{xe(`Error decoding "${t}". Using original value`)}return""+t}function z_(t){const n={};if(t===""||t==="?")return n;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<o.length;++r){const l=o[r].replace(sf," "),a=l.indexOf("="),i=So(a<0?l:l.slice(0,a)),c=a<0?null:So(l.slice(a+1));if(i in n){let p=n[i];xt(p)||(p=n[i]=[p]),p.push(c)}else n[i]=c}return n}function uu(t){let n="";for(let s in t){const o=t[s];if(s=V_(s),o==null){o!==void 0&&(n+=(n.length?"&":"")+s);continue}(xt(o)?o.map(l=>l&&Aa(l)):[o&&Aa(o)]).forEach(l=>{l!==void 0&&(n+=(n.length?"&":"")+s,l!=null&&(n+="="+l))})}return n}function K_(t){const n={};for(const s in t){const o=t[s];o!==void 0&&(n[s]=xt(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return n}const Y_=Symbol("router view location matched"),pu=Symbol("router view depth"),bi=Symbol("router"),af=Symbol("route location"),ba=Symbol("router view location");function Gs(){let t=[];function n(o){return t.push(o),()=>{const r=t.indexOf(o);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:n,list:()=>t,reset:s}}function Dn(t,n,s,o,r){const l=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,i)=>{const c=f=>{f===!1?i(Ms(4,{from:s,to:n})):f instanceof Error?i(f):f_(f)?i(Ms(2,{from:n,to:f})):(l&&o.enterCallbacks[r]===l&&typeof f=="function"&&l.push(f),a())},p=t.call(o&&o.instances[r],n,s,G_(c,n,s));let d=Promise.resolve(p);if(t.length<3&&(d=d.then(c)),t.length>2){const f=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof p=="object"&&"then"in p)d=d.then(h=>c._called?h:(xe(f),Promise.reject(new Error("Invalid navigation guard"))));else if(p!==void 0&&!c._called){xe(f),i(new Error("Invalid navigation guard"));return}}d.catch(f=>i(f))})}function G_(t,n,s){let o=0;return function(){o++===1&&xe(`The "next" callback was called more than once in one navigation guard when going from "${s.fullPath}" to "${n.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,o===1&&t.apply(null,arguments)}}function Tl(t,n,s,o){const r=[];for(const l of t){!l.components&&!l.children.length&&xe(`Record with path "${l.path}" is either missing a "component(s)" or "children" property.`);for(const a in l.components){let i=l.components[a];{if(!i||typeof i!="object"&&typeof i!="function")throw xe(`Component "${a}" in record with path "${l.path}" is not a valid component. Received "${String(i)}".`),new Error("Invalid route component");if("then"in i){xe(`Component "${a}" in record with path "${l.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const c=i;i=()=>c}else i.__asyncLoader&&!i.__warnedDefineAsync&&(i.__warnedDefineAsync=!0,xe(`Component "${a}" in record with path "${l.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(n!=="beforeRouteEnter"&&!l.instances[a]))if(J_(i)){const p=(i.__vccOpts||i)[n];p&&r.push(Dn(p,s,o,l,a))}else{let c=i();"catch"in c||(xe(`Component "${a}" in record with path "${l.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),c=Promise.resolve(c)),r.push(()=>c.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${l.path}"`));const d=Jv(p)?p.default:p;l.components[a]=d;const h=(d.__vccOpts||d)[n];return h&&Dn(h,s,o,l,a)()}))}}}return r}function J_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function du(t){const n=I(bi),s=I(af),o=T(()=>n.resolve(O(t.to))),r=T(()=>{const{matched:c}=o.value,{length:p}=c,d=c[p-1],f=s.matched;if(!d||!f.length)return-1;const h=f.findIndex(Nn.bind(null,d));if(h>-1)return h;const y=fu(c[p-2]);return p>1&&fu(d)===y&&f[f.length-1].path!==y?f.findIndex(Nn.bind(null,c[p-2])):h}),l=T(()=>r.value>-1&&e0(s.params,o.value.params)),a=T(()=>r.value>-1&&r.value===s.matched.length-1&&Zd(s.params,o.value.params));function i(c={}){return X_(c)?n[O(t.replace)?"replace":"push"](O(t.to)).catch(fo):Promise.resolve()}if(pn){const c=Bt();if(c){const p={route:o.value,isActive:l.value,isExactActive:a.value};c.__vrl_devtools=c.__vrl_devtools||[],c.__vrl_devtools.push(p),_s(()=>{p.route=o.value,p.isActive=l.value,p.isExactActive=a.value},{flush:"post"})}}return{route:o,href:T(()=>o.value.href),isActive:l,isExactActive:a,navigate:i}}const Z_=Ie({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:du,setup(t,{slots:n}){const s=He(du(t)),{options:o}=I(bi),r=T(()=>({[hu(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[hu(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=n.default&&n.default(s);return t.custom?l:kt("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),Q_=Z_;function X_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function e0(t,n){for(const s in n){const o=n[s],r=t[s];if(typeof o=="string"){if(o!==r)return!1}else if(!xt(r)||r.length!==o.length||o.some((l,a)=>l!==r[a]))return!1}return!0}function fu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const hu=(t,n,s)=>t??n??s,t0=Ie({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:s}){s0();const o=I(ba),r=T(()=>t.route||o.value),l=I(pu,0),a=T(()=>{let p=O(l);const{matched:d}=r.value;let f;for(;(f=d[p])&&!f.components;)p++;return p}),i=T(()=>r.value.matched[a.value]);Et(pu,T(()=>a.value+1)),Et(Y_,i),Et(ba,r);const c=K();return ge(()=>[c.value,i.value,t.name],([p,d,f],[h,y,m])=>{d&&(d.instances[f]=p,y&&y!==d&&p&&p===h&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),p&&d&&(!y||!Nn(d,y)||!h)&&(d.enterCallbacks[f]||[]).forEach(w=>w(p))},{flush:"post"}),()=>{const p=r.value,d=t.name,f=i.value,h=f&&f.components[d];if(!h)return yu(s.default,{Component:h,route:p});const y=f.props[d],m=y?y===!0?p.params:typeof y=="function"?y(p):y:null,A=kt(h,Oe({},m,n,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[d]=null)},ref:c}));if(pn&&A.ref){const b={depth:a.value,name:f.name,path:f.path,meta:f.meta};(xt(A.ref)?A.ref.map(_=>_.i):[A.ref.i]).forEach(_=>{_.__vrv_devtools=b})}return yu(s.default,{Component:A,route:p})||A}}});function yu(t,n){if(!t)return null;const s=t(n);return s.length===1?s[0]:s}const n0=t0;function s0(){const t=Bt(),n=t.parent&&t.parent.type.name,s=t.parent&&t.parent.subTree&&t.parent.subTree.type;if(n&&(n==="KeepAlive"||n.includes("Transition"))&&typeof s=="object"&&s.name==="RouterView"){const o=n==="KeepAlive"?"keep-alive":"transition";xe(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${o}>
    <component :is="Component" />
  </${o}>
</router-view>`)}}function Js(t,n){const s=Oe({},t,{matched:t.matched.map(o=>d0(o,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:n,value:s}}}function ar(t){return{_custom:{display:t}}}let o0=0;function r0(t,n,s){if(n.__hasDevtools)return;n.__hasDevtools=!0;const o=o0++;Gv({id:"org.vuejs.router"+(o?"."+o:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},r=>{typeof r.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent((d,f)=>{d.instanceData&&d.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Js(n.currentRoute.value,"Current Route")})}),r.on.visitComponentTree(({treeNode:d,componentInstance:f})=>{if(f.__vrv_devtools){const h=f.__vrv_devtools;d.tags.push({label:(h.name?`${h.name.toString()}: `:"")+h.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:cf})}xt(f.__vrl_devtools)&&(f.__devtoolsApi=r,f.__vrl_devtools.forEach(h=>{let y=df,m="";h.isExactActive?(y=pf,m="This is exactly active"):h.isActive&&(y=uf,m="This link is active"),d.tags.push({label:h.route.path,textColor:0,tooltip:m,backgroundColor:y})}))}),ge(n.currentRoute,()=>{c(),r.notifyComponentUpdate(),r.sendInspectorTree(i),r.sendInspectorState(i)});const l="router:navigations:"+o;r.addTimelineLayer({id:l,label:`Router${o?" "+o:""} Navigations`,color:4237508}),n.onError((d,f)=>{r.addTimelineEvent({layerId:l,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:r.now(),data:{error:d},groupId:f.meta.__navigationId}})});let a=0;n.beforeEach((d,f)=>{const h={guard:ar("beforeEach"),from:Js(f,"Current Location during this navigation"),to:Js(d,"Target location")};Object.defineProperty(d.meta,"__navigationId",{value:a++}),r.addTimelineEvent({layerId:l,event:{time:r.now(),title:"Start of navigation",subtitle:d.fullPath,data:h,groupId:d.meta.__navigationId}})}),n.afterEach((d,f,h)=>{const y={guard:ar("afterEach")};h?(y.failure={_custom:{type:Error,readOnly:!0,display:h?h.message:"",tooltip:"Navigation Failure",value:h}},y.status=ar("")):y.status=ar(""),y.from=Js(f,"Current Location during this navigation"),y.to=Js(d,"Target location"),r.addTimelineEvent({layerId:l,event:{title:"End of navigation",subtitle:d.fullPath,time:r.now(),data:y,logType:h?"warning":"default",groupId:d.meta.__navigationId}})});const i="router-inspector:"+o;r.addInspector({id:i,label:"Routes"+(o?" "+o:""),icon:"book",treeFilterPlaceholder:"Search routes"});function c(){if(!p)return;const d=p;let f=s.getRoutes().filter(h=>!h.parent);f.forEach(yf),d.filter&&(f=f.filter(h=>Ea(h,d.filter.toLowerCase()))),f.forEach(h=>hf(h,n.currentRoute.value)),d.rootNodes=f.map(ff)}let p;r.on.getInspectorTree(d=>{p=d,d.app===t&&d.inspectorId===i&&c()}),r.on.getInspectorState(d=>{if(d.app===t&&d.inspectorId===i){const h=s.getRoutes().find(y=>y.record.__vd_id===d.nodeId);h&&(d.state={options:a0(h)})}}),r.sendInspectorTree(i),r.sendInspectorState(i)})}function l0(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function a0(t){const{record:n}=t,s=[{editable:!1,key:"path",value:n.path}];return n.name!=null&&s.push({editable:!1,key:"name",value:n.name}),s.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&s.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(o=>`${o.name}${l0(o)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),n.redirect!=null&&s.push({editable:!1,key:"redirect",value:n.redirect}),t.alias.length&&s.push({editable:!1,key:"aliases",value:t.alias.map(o=>o.record.path)}),Object.keys(t.record.meta).length&&s.push({editable:!1,key:"meta",value:t.record.meta}),s.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(o=>o.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),s}const cf=15485081,uf=2450411,pf=8702998,i0=2282478,df=16486972,c0=6710886;function ff(t){const n=[],{record:s}=t;s.name!=null&&n.push({label:String(s.name),textColor:0,backgroundColor:i0}),s.aliasOf&&n.push({label:"alias",textColor:0,backgroundColor:df}),t.__vd_match&&n.push({label:"matches",textColor:0,backgroundColor:cf}),t.__vd_exactActive&&n.push({label:"exact",textColor:0,backgroundColor:pf}),t.__vd_active&&n.push({label:"active",textColor:0,backgroundColor:uf}),s.redirect&&n.push({label:typeof s.redirect=="string"?`redirect: ${s.redirect}`:"redirects",textColor:16777215,backgroundColor:c0});let o=s.__vd_id;return o==null&&(o=String(u0++),s.__vd_id=o),{id:o,label:s.path,tags:n,children:t.children.map(ff)}}let u0=0;const p0=/^\/(.*)\/([a-z]*)$/;function hf(t,n){const s=n.matched.length&&Nn(n.matched[n.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=s,s||(t.__vd_active=n.matched.some(o=>Nn(o,t.record))),t.children.forEach(o=>hf(o,n))}function yf(t){t.__vd_match=!1,t.children.forEach(yf)}function Ea(t,n){const s=String(t.re).match(p0);if(t.__vd_match=!1,!s||s.length<3)return!1;if(new RegExp(s[1].replace(/\$$/,""),s[2]).test(n))return t.children.forEach(a=>Ea(a,n)),t.record.path!=="/"||n==="/"?(t.__vd_match=t.re.test(n),!0):!1;const r=t.record.path.toLowerCase(),l=So(r);return!n.startsWith("/")&&(l.includes(n)||r.includes(n))||l.startsWith(n)||r.startsWith(n)||t.record.name&&String(t.record.name).includes(n)?!0:t.children.some(a=>Ea(a,n))}function d0(t,n){const s={};for(const o in t)n.includes(o)||(s[o]=t[o]);return s}function f0(t){const n=C_(t.routes,t),s=t.parseQuery||z_,o=t.stringifyQuery||uu,r=t.history;if(!r)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const l=Gs(),a=Gs(),i=Gs(),c=nn(wn);let p=wn;pn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Sl.bind(null,S=>""+S),f=Sl.bind(null,W_),h=Sl.bind(null,So);function y(S,Q){let ee,ne;return Xd(S)?(ee=n.getRecordMatcher(S),ne=Q):ne=S,n.addRoute(ne,ee)}function m(S){const Q=n.getRecordMatcher(S);Q?n.removeRoute(Q):xe(`Cannot remove non-existent route "${String(S)}"`)}function w(){return n.getRoutes().map(S=>S.record)}function A(S){return!!n.getRecordMatcher(S)}function b(S,Q){if(Q=Oe({},Q||c.value),typeof S=="string"){const v=$l(s,S,Q.path),x=n.resolve({path:v.path},Q),M=r.createHref(v.fullPath);return M.startsWith("//")?xe(`Location "${S}" resolved to "${M}". A resolved location cannot start with multiple slashes.`):x.matched.length||xe(`No match found for location with path "${S}"`),Oe(v,x,{params:h(x.params),hash:So(v.hash),redirectedFrom:void 0,href:M})}let ee;if("path"in S)"params"in S&&!("name"in S)&&Object.keys(S.params).length&&xe(`Path "${S.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),ee=Oe({},S,{path:$l(s,S.path,Q.path).path});else{const v=Oe({},S.params);for(const x in v)v[x]==null&&delete v[x];ee=Oe({},S,{params:f(v)}),Q.params=f(Q.params)}const ne=n.resolve(ee,Q),be=S.hash||"";be&&!be.startsWith("#")&&xe(`A \`hash\` should always start with the character "#". Replace "${be}" with "#${be}".`),ne.params=d(h(ne.params));const Re=Xv(o,Oe({},S,{hash:H_(be),path:ne.path})),g=r.createHref(Re);return g.startsWith("//")?xe(`Location "${S}" resolved to "${g}". A resolved location cannot start with multiple slashes.`):ne.matched.length||xe(`No match found for location with path "${"path"in S?S.path:S}"`),Oe({fullPath:Re,hash:be,query:o===uu?K_(S.query):S.query||{}},ne,{redirectedFrom:void 0,href:g})}function E(S){return typeof S=="string"?$l(s,S,c.value.path):Oe({},S)}function _(S,Q){if(p!==S)return Ms(8,{from:Q,to:S})}function k(S){return F(S)}function C(S){return k(Oe(E(S),{replace:!0}))}function B(S){const Q=S.matched[S.matched.length-1];if(Q&&Q.redirect){const{redirect:ee}=Q;let ne=typeof ee=="function"?ee(S):ee;if(typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=E(ne):{path:ne},ne.params={}),!("path"in ne)&&!("name"in ne))throw xe(`Invalid redirect found:
${JSON.stringify(ne,null,2)}
 when navigating to "${S.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return Oe({query:S.query,hash:S.hash,params:"path"in ne?{}:S.params},ne)}}function F(S,Q){const ee=p=b(S),ne=c.value,be=S.state,Re=S.force,g=S.replace===!0,v=B(ee);if(v)return F(Oe(E(v),{state:typeof v=="object"?Oe({},be,v.state):be,force:Re,replace:g}),Q||ee);const x=ee;x.redirectedFrom=Q;let M;return!Re&&eu(o,ne,ee)&&(M=Ms(16,{to:x,from:ne}),St(ne,ne,!0,!1)),(M?Promise.resolve(M):oe(x,ne)).catch(P=>rn(P)?rn(P,2)?P:Pe(P):ce(P,x,ne)).then(P=>{if(P){if(rn(P,2))return eu(o,b(P.to),x)&&Q&&(Q._count=Q._count?Q._count+1:1)>30?(xe(`Detected a possibly infinite redirection in a navigation guard when going from "${ne.fullPath}" to "${x.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):F(Oe({replace:g},E(P.to),{state:typeof P.to=="object"?Oe({},be,P.to.state):be,force:Re}),Q||x)}else P=Y(x,ne,!0,g,be);return pe(x,ne,P),P})}function $(S,Q){const ee=_(S,Q);return ee?Promise.reject(ee):Promise.resolve()}function V(S){const Q=zt.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(S):S()}function oe(S,Q){let ee;const[ne,be,Re]=h0(S,Q);ee=Tl(ne.reverse(),"beforeRouteLeave",S,Q);for(const v of ne)v.leaveGuards.forEach(x=>{ee.push(Dn(x,S,Q))});const g=$.bind(null,S,Q);return ee.push(g),$t(ee).then(()=>{ee=[];for(const v of l.list())ee.push(Dn(v,S,Q));return ee.push(g),$t(ee)}).then(()=>{ee=Tl(be,"beforeRouteUpdate",S,Q);for(const v of be)v.updateGuards.forEach(x=>{ee.push(Dn(x,S,Q))});return ee.push(g),$t(ee)}).then(()=>{ee=[];for(const v of S.matched)if(v.beforeEnter&&!Q.matched.includes(v))if(xt(v.beforeEnter))for(const x of v.beforeEnter)ee.push(Dn(x,S,Q));else ee.push(Dn(v.beforeEnter,S,Q));return ee.push(g),$t(ee)}).then(()=>(S.matched.forEach(v=>v.enterCallbacks={}),ee=Tl(Re,"beforeRouteEnter",S,Q),ee.push(g),$t(ee))).then(()=>{ee=[];for(const v of a.list())ee.push(Dn(v,S,Q));return ee.push(g),$t(ee)}).catch(v=>rn(v,8)?v:Promise.reject(v))}function pe(S,Q,ee){for(const ne of i.list())V(()=>ne(S,Q,ee))}function Y(S,Q,ee,ne,be){const Re=_(S,Q);if(Re)return Re;const g=Q===wn,v=pn?history.state:{};ee&&(ne||g?r.replace(S.fullPath,Oe({scroll:g&&v&&v.scroll},be)):r.push(S.fullPath,be)),c.value=S,St(S,Q,ee,g),Pe()}let me;function ve(){me||(me=r.listen((S,Q,ee)=>{if(!Vn.listening)return;const ne=b(S),be=B(ne);if(be){F(Oe(be,{replace:!0}),ne).catch(fo);return}p=ne;const Re=c.value;pn&&a_(nu(Re.fullPath,ee.delta),ul()),oe(ne,Re).catch(g=>rn(g,12)?g:rn(g,2)?(F(g.to,ne).then(v=>{rn(v,20)&&!ee.delta&&ee.type===Bo.pop&&r.go(-1,!1)}).catch(fo),Promise.reject()):(ee.delta&&r.go(-ee.delta,!1),ce(g,ne,Re))).then(g=>{g=g||Y(ne,Re,!1),g&&(ee.delta&&!rn(g,8)?r.go(-ee.delta,!1):ee.type===Bo.pop&&rn(g,20)&&r.go(-1,!1)),pe(ne,Re,g)}).catch(fo)}))}let we=Gs(),Me=Gs(),te;function ce(S,Q,ee){Pe(S);const ne=Me.list();return ne.length?ne.forEach(be=>be(S,Q,ee)):(xe("uncaught error during route navigation:"),console.error(S)),Promise.reject(S)}function De(){return te&&c.value!==wn?Promise.resolve():new Promise((S,Q)=>{we.add([S,Q])})}function Pe(S){return te||(te=!S,ve(),we.list().forEach(([Q,ee])=>S?ee(S):Q()),we.reset()),S}function St(S,Q,ee,ne){const{scrollBehavior:be}=t;if(!pn||!be)return Promise.resolve();const Re=!ee&&i_(nu(S.fullPath,0))||(ne||!ee)&&history.state&&history.state.scroll||null;return st().then(()=>be(S,Q,Re)).then(g=>g&&l_(g)).catch(g=>ce(g,S,Q))}const tt=S=>r.go(S);let yt;const zt=new Set,Vn={currentRoute:c,listening:!0,addRoute:y,removeRoute:m,hasRoute:A,getRoutes:w,resolve:b,options:t,push:k,replace:C,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:l.add,beforeResolve:a.add,afterEach:i.add,onError:Me.add,isReady:De,install(S){const Q=this;S.component("RouterLink",Q_),S.component("RouterView",n0),S.config.globalProperties.$router=Q,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>O(c)}),pn&&!yt&&c.value===wn&&(yt=!0,k(r.location).catch(be=>{xe("Unexpected error when starting the router:",be)}));const ee={};for(const be in wn)ee[be]=T(()=>c.value[be]);S.provide(bi,Q),S.provide(af,He(ee)),S.provide(ba,c);const ne=S.unmount;zt.add(S),S.unmount=function(){zt.delete(S),zt.size<1&&(p=wn,me&&me(),me=null,c.value=wn,yt=!1,te=!1),ne()},pn&&r0(S,Q,n)}};function $t(S){return S.reduce((Q,ee)=>Q.then(()=>V(ee)),Promise.resolve())}return Vn}function h0(t,n){const s=[],o=[],r=[],l=Math.max(n.matched.length,t.matched.length);for(let a=0;a<l;a++){const i=n.matched[a];i&&(t.matched.find(p=>Nn(p,i))?o.push(i):s.push(i));const c=t.matched[a];c&&(n.matched.find(p=>Nn(p,c))||r.push(c))}return[s,o,r]}const Ol=K(!1),yo=K(!1),Bs=K(!1),y0=K(!0),Da=rv({xs:460,...ov}),hs=qv(),mf=Pv(),m0=T(()=>hs.height.value-hs.width.value/Sn>180),gf=Tv(Ut?document.body:null),On=tv(),g0=T(()=>{var t,n;return["INPUT","TEXTAREA"].includes(((t=On.value)==null?void 0:t.tagName)||"")||((n=On.value)==null?void 0:n.classList.contains("CodeMirror-code"))}),v0=T(()=>{var t;return["BUTTON","A"].includes(((t=On.value)==null?void 0:t.tagName)||"")});Wt("slidev-camera","default");Wt("slidev-mic","default");const gr=Wt("slidev-scale",0),ut=Wt("slidev-show-overview",!1),Pl=Wt("slidev-presenter-cursor",!0),mu=Wt("slidev-show-editor",!1);Wt("slidev-editor-width",Ut?window.innerWidth*.4:100);const vf=zd(ut);function gu(t,n,s,o=r=>r){return t*o(.5-n*(.5-s))}function _0(t){return[-t[0],-t[1]]}function jt(t,n){return[t[0]+n[0],t[1]+n[1]]}function Pt(t,n){return[t[0]-n[0],t[1]-n[1]]}function Nt(t,n){return[t[0]*n,t[1]*n]}function w0(t,n){return[t[0]/n,t[1]/n]}function Zs(t){return[t[1],-t[0]]}function vu(t,n){return t[0]*n[0]+t[1]*n[1]}function A0(t,n){return t[0]===n[0]&&t[1]===n[1]}function b0(t){return Math.hypot(t[0],t[1])}function E0(t){return t[0]*t[0]+t[1]*t[1]}function _u(t,n){return E0(Pt(t,n))}function _f(t){return w0(t,b0(t))}function D0(t,n){return Math.hypot(t[1]-n[1],t[0]-n[0])}function Qs(t,n,s){let o=Math.sin(s),r=Math.cos(s),l=t[0]-n[0],a=t[1]-n[1],i=l*r-a*o,c=l*o+a*r;return[i+n[0],c+n[1]]}function ka(t,n,s){return jt(t,Nt(Pt(n,t),s))}function wu(t,n,s){return jt(t,Nt(n,s))}var{min:ks,PI:k0}=Math,Au=.275,Xs=k0+1e-4;function C0(t,n={}){let{size:s=16,smoothing:o=.5,thinning:r=.5,simulatePressure:l=!0,easing:a=te=>te,start:i={},end:c={},last:p=!1}=n,{cap:d=!0,easing:f=te=>te*(2-te)}=i,{cap:h=!0,easing:y=te=>--te*te*te+1}=c;if(t.length===0||s<=0)return[];let m=t[t.length-1].runningLength,w=i.taper===!1?0:i.taper===!0?Math.max(s,m):i.taper,A=c.taper===!1?0:c.taper===!0?Math.max(s,m):c.taper,b=Math.pow(s*o,2),E=[],_=[],k=t.slice(0,10).reduce((te,ce)=>{let De=ce.pressure;if(l){let Pe=ks(1,ce.distance/s),St=ks(1,1-Pe);De=ks(1,te+(St-te)*(Pe*Au))}return(te+De)/2},t[0].pressure),C=gu(s,r,t[t.length-1].pressure,a),B,F=t[0].vector,$=t[0].point,V=$,oe=$,pe=V,Y=!1;for(let te=0;te<t.length;te++){let{pressure:ce}=t[te],{point:De,vector:Pe,distance:St,runningLength:tt}=t[te];if(te<t.length-1&&m-tt<3)continue;if(r){if(l){let ne=ks(1,St/s),be=ks(1,1-ne);ce=ks(1,k+(be-k)*(ne*Au))}C=gu(s,r,ce,a)}else C=s/2;B===void 0&&(B=C);let yt=tt<w?f(tt/w):1,zt=m-tt<A?y((m-tt)/A):1;C=Math.max(.01,C*Math.min(yt,zt));let Vn=(te<t.length-1?t[te+1]:t[te]).vector,$t=te<t.length-1?vu(Pe,Vn):1,S=vu(Pe,F)<0&&!Y,Q=$t!==null&&$t<0;if(S||Q){let ne=Nt(Zs(F),C);for(let be=1/13,Re=0;Re<=1;Re+=be)oe=Qs(Pt(De,ne),De,Xs*Re),E.push(oe),pe=Qs(jt(De,ne),De,Xs*-Re),_.push(pe);$=oe,V=pe,Q&&(Y=!0);continue}if(Y=!1,te===t.length-1){let ne=Nt(Zs(Pe),C);E.push(Pt(De,ne)),_.push(jt(De,ne));continue}let ee=Nt(Zs(ka(Vn,Pe,$t)),C);oe=Pt(De,ee),(te<=1||_u($,oe)>b)&&(E.push(oe),$=oe),pe=jt(De,ee),(te<=1||_u(V,pe)>b)&&(_.push(pe),V=pe),k=ce,F=Pe}let me=t[0].point.slice(0,2),ve=t.length>1?t[t.length-1].point.slice(0,2):jt(t[0].point,[1,1]),we=[],Me=[];if(t.length===1){if(!(w||A)||p){let te=wu(me,_f(Zs(Pt(me,ve))),-(B||C)),ce=[];for(let De=1/13,Pe=De;Pe<=1;Pe+=De)ce.push(Qs(te,me,Xs*2*Pe));return ce}}else{if(!(w||A&&t.length===1))if(d)for(let ce=1/13,De=ce;De<=1;De+=ce){let Pe=Qs(_[0],me,Xs*De);we.push(Pe)}else{let ce=Pt(E[0],_[0]),De=Nt(ce,.5),Pe=Nt(ce,.51);we.push(Pt(me,De),Pt(me,Pe),jt(me,Pe),jt(me,De))}let te=Zs(_0(t[t.length-1].vector));if(A||w&&t.length===1)Me.push(ve);else if(h){let ce=wu(ve,te,C);for(let De=1/29,Pe=De;Pe<1;Pe+=De)Me.push(Qs(ce,ve,Xs*3*Pe))}else Me.push(jt(ve,Nt(te,C)),jt(ve,Nt(te,C*.99)),Pt(ve,Nt(te,C*.99)),Pt(ve,Nt(te,C)))}return E.concat(Me,_.reverse(),we)}function x0(t,n={}){var s;let{streamline:o=.5,size:r=16,last:l=!1}=n;if(t.length===0)return[];let a=.15+(1-o)*.85,i=Array.isArray(t[0])?t:t.map(({x:y,y:m,pressure:w=.5})=>[y,m,w]);if(i.length===2){let y=i[1];i=i.slice(0,-1);for(let m=1;m<5;m++)i.push(ka(i[0],y,m/4))}i.length===1&&(i=[...i,[...jt(i[0],[1,1]),...i[0].slice(2)]]);let c=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],p=!1,d=0,f=c[0],h=i.length-1;for(let y=1;y<i.length;y++){let m=l&&y===h?i[y].slice(0,2):ka(f.point,i[y],a);if(A0(f.point,m))continue;let w=D0(m,f.point);if(d+=w,y<h&&!p){if(d<r)continue;p=!0}f={point:m,pressure:i[y][2]>=0?i[y][2]:.5,vector:_f(Pt(f.point,m)),distance:w,runningLength:d},c.push(f)}return c[0].vector=((s=c[1])==null?void 0:s.vector)||[0,0],c}function B0(t,n={}){return C0(x0(t,n),n)}var S0=()=>({events:{},emit(t,...n){let s=this.events[t]||[];for(let o=0,r=s.length;o<r;o++)s[o](...n)},on(t,n){var s;return(s=this.events[t])!=null&&s.push(n)||(this.events[t]=[n]),()=>{var o;this.events[t]=(o=this.events[t])==null?void 0:o.filter(r=>n!==r)}}});function qr(t,n){return t-n}function $0(t){return t<0?-1:1}function Hr(t){return[Math.abs(t),$0(t)]}function wf(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var T0=2,dn=T0,Ns=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var n;const s=this.drauu.el,o=this.drauu.options.coordinateScale??1;if(this.drauu.options.coordinateTransform===!1){const r=this.drauu.el.getBoundingClientRect();return{x:(t.pageX-r.left)*o,y:(t.pageY-r.top)*o,pressure:t.pressure}}else{const r=this.drauu.svgPoint;r.x=t.clientX,r.y=t.clientY;const l=r.matrixTransform((n=s.getScreenCTM())==null?void 0:n.inverse());return{x:l.x*o,y:l.y*o,pressure:t.pressure}}}createElement(t,n){const s=document.createElementNS("http://www.w3.org/2000/svg",t),o=n?{...this.brush,...n}:this.brush;return s.setAttribute("fill",o.fill??"transparent"),s.setAttribute("stroke",o.color),s.setAttribute("stroke-width",o.size.toString()),s.setAttribute("stroke-linecap","round"),o.dasharray&&s.setAttribute("stroke-dasharray",o.dasharray),s}attr(t,n){this.el.setAttribute(t,typeof n=="string"?n:n.toFixed(dn))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},O0=class extends Ns{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){const n=B0(t,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!n.length)return"";const s=n.reduce((o,[r,l],a,i)=>{const[c,p]=i[(a+1)%i.length];return o.push(r,l,(r+c)/2,(l+p)/2),o},["M",...n[0],"Q"]);return s.push("Z"),s.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}},P0=class extends Ns{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[n,s]=Hr(t.x-this.start.x),[o,r]=Hr(t.y-this.start.y);if(this.shiftPressed){const l=Math.min(n,o);n=l,o=l}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",n),this.attr("ry",o);else{const[l,a]=[this.start.x,this.start.x+n*s].sort(qr),[i,c]=[this.start.y,this.start.y+o*r].sort(qr);this.attr("cx",(l+a)/2),this.attr("cy",(i+c)/2),this.attr("rx",(a-l)/2),this.attr("ry",(c-i)/2)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function Af(t,n){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",n),o.setAttribute("id",t),o.setAttribute("viewBox","0 -5 10 10"),o.setAttribute("refX","5"),o.setAttribute("refY","0"),o.setAttribute("markerWidth","4"),o.setAttribute("markerHeight","4"),o.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),o.appendChild(r),s.appendChild(o),s}var I0=class extends Ns{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const n=wf(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Af(n,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${n})`),s}return this.el}onMove(t){if(!this.el)return!1;let{x:n,y:s}=t;if(this.shiftPressed){const o=t.x-this.start.x,r=t.y-this.start.y;if(r!==0){let l=o/r;l=Math.round(l),Math.abs(l)<=1?(n=this.start.x+r*l,s=this.start.y+r):(n=this.start.x+o,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-n),this.attr("y1",this.start.y*2-s),this.attr("x2",n),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",n),this.attr("y2",s)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||t.getTotalLength()<5)}},M0=class extends Ns{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[n,s]=Hr(t.x-this.start.x),[o,r]=Hr(t.y-this.start.y);if(this.shiftPressed){const l=Math.min(n,o);n=l,o=l}if(this.altPressed)this.attr("x",this.start.x-n),this.attr("y",this.start.y-o),this.attr("width",n*2),this.attr("height",o*2);else{const[l,a]=[this.start.x,this.start.x+n*s].sort(qr),[i,c]=[this.start.y,this.start.y+o*r].sort(qr);this.attr("x",l),this.attr("y",i),this.attr("width",a-l),this.attr("height",c-i)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function R0(t,n){const s=t.x-n.x,o=t.y-n.y;return s*s+o*o}function L0(t,n,s){let o=n.x,r=n.y,l=s.x-o,a=s.y-r;if(l!==0||a!==0){const i=((t.x-o)*l+(t.y-r)*a)/(l*l+a*a);i>1?(o=s.x,r=s.y):i>0&&(o+=l*i,r+=a*i)}return l=t.x-o,a=t.y-r,l*l+a*a}function F0(t,n){let s=t[0];const o=[s];let r;for(let l=1,a=t.length;l<a;l++)r=t[l],R0(r,s)>n&&(o.push(r),s=r);return s!==r&&r&&o.push(r),o}function Ca(t,n,s,o,r){let l=o,a=0;for(let i=n+1;i<s;i++){const c=L0(t[i],t[n],t[s]);c>l&&(a=i,l=c)}l>o&&(a-n>1&&Ca(t,n,a,o,r),r.push(t[a]),s-a>1&&Ca(t,a,s,o,r))}function N0(t,n){const s=t.length-1,o=[t[0]];return Ca(t,0,s,n,o),o.push(t[s]),o}function bu(t,n,s=!1){if(t.length<=2)return t;const o=n!==void 0?n*n:1;return t=s?t:F0(t,o),t=N0(t,o),t}var j0=class extends Ns{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=wf();const n=Af(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=bu(this.points,1,!0),this.count=0),this.attr("d",Du(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||(t.setAttribute("d",Du(bu(this.points,1,!0))),!t.getTotalLength()))}};function q0(t,n){const s=n.x-t.x,o=n.y-t.y;return{length:Math.sqrt(s**2+o**2),angle:Math.atan2(o,s)}}function Eu(t,n,s,o){const r=n||t,l=s||t,a=.2,i=q0(r,l),c=i.angle+(o?Math.PI:0),p=i.length*a,d=t.x+Math.cos(c)*p,f=t.y+Math.sin(c)*p;return{x:d,y:f}}function H0(t,n,s){const o=Eu(s[n-1],s[n-2],t),r=Eu(t,s[n-1],s[n+1],!0);return`C ${o.x.toFixed(dn)},${o.y.toFixed(dn)} ${r.x.toFixed(dn)},${r.y.toFixed(dn)} ${t.x.toFixed(dn)},${t.y.toFixed(dn)}`}function Du(t){return t.reduce((n,s,o,r)=>o===0?`M ${s.x.toFixed(dn)},${s.y.toFixed(dn)}`:`${n} ${H0(s,o,r)}`,"")}var V0=class extends Ns{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(t){const n=(s,o)=>{if(s&&s.length)for(let r=0;r<s.length;r++){const l=s[r];if(l.getTotalLength){const a=l.getTotalLength();for(let i=0;i<this.pathSubFactor;i++){const c=l.getPointAtLength(a*i/this.pathSubFactor),p=l.getPointAtLength(a*(i+1)/this.pathSubFactor);this.pathFragments.push({x1:c.x,x2:p.x,y1:c.y,y2:p.y,segment:i,element:o||l})}}else l.children&&n(l.children,l)}};t&&n(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const n=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,n}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const t=[];if(this.pathFragments.length)for(let n=0;n<this.pathFragments.length;n++){const s=this.pathFragments[n],o={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(s,o)&&(s.element.remove(),t.push(n))}return t.length&&(this.pathFragments=this.pathFragments.filter((n,s)=>!t.includes(s))),t.length>0}lineLineIntersect(t,n){const s=t.x1,o=t.x2,r=n.x1,l=n.x2,a=t.y1,i=t.y2,c=n.y1,p=n.y2,d=(s-o)*(c-p)-(a-i)*(r-l),f=(s*i-a*o)*(r-l)-(s-o)*(r*p-c*l),h=(s*i-a*o)*(c-p)-(a-i)*(r*p-c*l),y=(m,w,A)=>m>=w&&m<=A?!0:m>=A&&m<=w;if(d===0)return!1;{const m={x:f/d,y:h/d};return y(m.x,s,o)&&y(m.y,a,i)&&y(m.x,r,l)&&y(m.y,c,p)}}};function U0(t){return{draw:new j0(t),stylus:new O0(t),line:new I0(t),rectangle:new M0(t),ellipse:new P0(t),eraseLine:new V0(t)}}var W0=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=S0(),this._models=U0(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,n){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(n)||this.el,o=this.eventStart.bind(this),r=this.eventMove.bind(this),l=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",o,{passive:!1}),window.addEventListener("pointermove",r,{passive:!1}),window.addEventListener("pointerup",l,{passive:!1}),window.addEventListener("pointercancel",l,{passive:!1}),window.addEventListener("keydown",a,!1),window.addEventListener("keyup",a,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",o),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",l),window.removeEventListener("keydown",a,!1),window.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,n){return this._emitter.on(t,n)}undo(){const t=this.el;return t.lastElementChild?(this._undoStack.push(t.lastElementChild.cloneNode(!0)),t.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var t;return!!((t=this.el)!=null&&t.lastElementChild)}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){this.acceptsInput(t)&&(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const n=this.model._eventUp(t);n?(n instanceof Element&&n!==this._currentNode&&(this._currentNode=n),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(t){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}};function z0(t){return new W0(t)}const xa=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Qt=Wt("slidev-drawing-enabled",!1),MS=Wt("slidev-drawing-pinned",!1),K0=K(!1),Y0=K(!1),G0=K(!1),$o=K(!1),rs=w6(Wt("slidev-drawing-brush",{color:xa[0],size:4,mode:"stylus"})),ku=K("stylus"),bf=T(()=>Be.drawings.syncAll||gt.value);let To=!1;const eo=T({get(){return ku.value},set(t){ku.value=t,t==="arrow"?(rs.mode="line",rs.arrowEnd=!0):(rs.mode=t,rs.arrowEnd=!1)}}),J0=He({brush:rs,acceptsInputTypes:T(()=>Qt.value&&(!Be.drawings.presenterOnly||gt.value)?void 0:["pen"]),coordinateTransform:!1}),ht=Xr(z0(J0));function Z0(){ht.clear(),bf.value&&Hd(We.value,"")}function Ei(){var t;Y0.value=ht.canRedo(),K0.value=ht.canUndo(),G0.value=!!((t=ht.el)!=null&&t.children.length)}function Q0(t){To=!0;const n=Nr[t||We.value];n!=null?ht.load(n):ht.clear(),Ei(),To=!1}ht.on("changed",()=>{if(Ei(),!To){const t=ht.dump(),n=We.value;(Nr[n]||"")!==t&&bf.value&&Hd(n,ht.dump())}});m6(t=>{To=!0,t[We.value]!=null&&ht.load(t[We.value]||""),To=!1,Ei()});st(()=>{ge(We,()=>{ht.mounted&&Q0()},{immediate:!0})});ht.on("start",()=>$o.value=!0);ht.on("end",()=>$o.value=!1);window.addEventListener("keydown",t=>{if(!Qt.value)return;const n=!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey;let s=!0;t.code==="KeyZ"&&(t.ctrlKey||t.metaKey)?t.shiftKey?ht.redo():ht.undo():t.code==="Escape"?Qt.value=!1:t.code==="KeyL"&&n?eo.value="line":t.code==="KeyA"&&n?eo.value="arrow":t.code==="KeyS"&&n?eo.value="stylus":t.code==="KeyR"&&n?eo.value="rectangle":t.code==="KeyE"&&n?eo.value="ellipse":t.code==="KeyC"&&n?Z0():t.code.startsWith("Digit")&&n&&+t.code[5]<=xa.length?rs.color=xa[+t.code[5]-1]:s=!1,s&&(t.preventDefault(),t.stopPropagation())},!1);function Ge(...t){return T(()=>t.every(n=>Ke(n)))}function At(t){return T(()=>!Ke(t))}const Cu=gv(),Il=Wt("slidev-color-schema","auto"),Ba=T(()=>Be.colorSchema!=="auto"),Di=T({get(){return Ba.value?Be.colorSchema==="dark":Il.value==="auto"?Cu.value:Il.value==="dark"},set(t){Ba.value||(Il.value=t===Cu.value?"auto":t?"dark":"light")}}),Ef=zd(Di);Ut&&ge(Di,t=>{const n=document.querySelector("html");n.classList.toggle("dark",t),n.classList.toggle("light",!t)},{immediate:!0});const vr=K(1),_r=T(()=>Ye.length),Ct=K(0),ki=K(0);function X0(){Ct.value>vr.value&&(Ct.value-=1)}function e1(){Ct.value<_r.value&&(Ct.value+=1)}function t1(){if(Ct.value>vr.value){let t=Ct.value-ki.value;t<vr.value&&(t=vr.value),Ct.value=t}}function n1(){if(Ct.value<_r.value){let t=Ct.value+ki.value;t>_r.value&&(t=_r.value),Ct.value=t}}function s1(){const{escape:t,space:n,shift:s,left:o,right:r,up:l,down:a,enter:i,d:c,g:p,o:d}=mf;let f=[{name:"next_space",key:Ge(n,At(s)),fn:Pn,autoRepeat:!0},{name:"prev_space",key:Ge(n,s),fn:In,autoRepeat:!0},{name:"next_right",key:Ge(r,At(s),At(ut)),fn:Pn,autoRepeat:!0},{name:"prev_left",key:Ge(o,At(s),At(ut)),fn:In,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:Pn,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:In,autoRepeat:!0},{name:"next_down",key:Ge(a,At(ut)),fn:Po,autoRepeat:!0},{name:"prev_up",key:Ge(l,At(ut)),fn:()=>Io(!1),autoRepeat:!0},{name:"next_shift",key:Ge(r,s),fn:Po,autoRepeat:!0},{name:"prev_shift",key:Ge(o,s),fn:()=>Io(!1),autoRepeat:!0},{name:"toggle_dark",key:Ge(c,At(Qt)),fn:Ef},{name:"toggle_overview",key:Ge(d,At(Qt)),fn:vf},{name:"hide_overview",key:Ge(t,At(Qt)),fn:()=>ut.value=!1},{name:"goto",key:Ge(p,At(Qt)),fn:()=>Bs.value=!Bs.value},{name:"next_overview",key:Ge(r,ut),fn:e1},{name:"prev_overview",key:Ge(o,ut),fn:X0},{name:"up_overview",key:Ge(l,ut),fn:t1},{name:"down_overview",key:Ge(a,ut),fn:n1},{name:"goto_from_overview",key:Ge(i,ut),fn:()=>{Ls(Ct.value),ut.value=!1}}];const h=new Set(f.map(m=>m.name));if(f.filter(m=>m.name&&h.has(m.name)).length===0){const m=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(m),console.warn(m)}return f}const Df=Ge(At(g0),At(v0),y0);function o1(t,n,s=!1){typeof t=="string"&&(t=mf[t]);const o=Ge(t,Df);let r=0,l;const a=()=>{if(clearTimeout(l),!o.value){r=0;return}s&&(l=setTimeout(a,Math.max(1e3-r*250,150)),r++),n()};return ge(o,a,{flush:"sync"})}function r1(t,n){return ev(t,s=>{Df.value&&(s.repeat||n())})}function l1(){const t=s1();new Map(t.map(s=>[s.key,s])).forEach(s=>{s.fn&&o1(s.key,s.fn,s.autoRepeat)}),r1("f",()=>gf.toggle())}const a1={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},i1=e("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),c1=[i1];function u1(t,n){return D(),re("svg",a1,c1)}const p1={name:"carbon-close",render:u1};function Ci(t,n=""){var r,l;const s=["slidev-page",n],o=(l=(r=t==null?void 0:t.meta)==null?void 0:r.slide)==null?void 0:l.no;return o!=null&&s.push(`slidev-page-${o}`),s.filter(Boolean).join(" ")}const d1=Ie({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(t){const n=t;I(N);const s=K(),o=Sv(s),r=T(()=>n.width?n.width:o.width.value),l=T(()=>n.width?n.width/Sn:o.height.value);n.width&&_s(()=>{s.value&&(s.value.style.width=`${r.value}px`,s.value.style.height=`${l.value}px`)});const a=T(()=>r.value/l.value),i=T(()=>n.scale&&!Rs.value?n.scale:a.value<Sn?r.value/$n:l.value*Sn/$n),c=T(()=>({height:`${_i}px`,width:`${$n}px`,transform:`translate(-50%, -50%) scale(${i.value})`})),p=T(()=>({"select-none":!Be.selectable}));return Et(Nd,i),(d,f)=>(D(),re("div",{id:"slide-container",ref_key:"root",ref:s,class:Ue(p.value)},[e("div",{id:"slide-content",style:rt(c.value)},[Ln(d.$slots,"default")],4),Ln(d.$slots,"controls")],2))}});const j=(t,n)=>{const s=t.__vccOpts||t;for(const[o,r]of n)s[o]=r;return s},kf=j(d1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlideContainer.vue"]]),xi=Ie({name:"SlideWrapper",props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(t,{emit:n}){const s=Zt(t,"clicks",n),o=Zt(t,"clicksElements",n),r=Zt(t,"clicksDisabled",n),l=Zt(t,"clicksOrderMap",n);o.value.length=0,Et(t6,t.route),Et(n6,t.context),Et(uo,s),Et(po,r),Et(es,o),Et(ha,l)},render(){var t,n;return this.$props.is?kt(this.$props.is):(n=(t=this.$slots)==null?void 0:t.default)==null?void 0:n.call(t)}}),f1=["innerHTML"],h1=Ie({__name:"DrawingPreview",props:{page:{type:Number,required:!0}},setup(t){return I(N),(n,s)=>O(Nr)[n.page]?(D(),re("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:O(Nr)[n.page]},null,8,f1)):Ee("v-if",!0)}}),Cf=j(h1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/DrawingPreview.vue"]]),y1=Object.freeze(Object.defineProperty({__proto__:null,default:Cf},Symbol.toStringTag,{value:"Module"})),m1={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},g1=["onClick"],Ml=4*16*2,xu=2*16,v1=Ie({__name:"SlidesOverview",props:{modelValue:{type:Boolean,required:!0}},emits:[],setup(t,{emit:n}){const s=t;I(N);const o=Zt(s,"modelValue",n);function r(){o.value=!1}function l(f){Ls(f),r()}function a(f){return f===Ct.value}const i=Da.smaller("xs"),c=Da.smaller("sm"),p=T(()=>i.value?hs.width.value-Ml:c.value?(hs.width.value-Ml-xu)/2:300),d=T(()=>Math.floor((hs.width.value-Ml)/(p.value+xu)));return _s(()=>{Ct.value=We.value,ki.value=d.value}),(f,h)=>{const y=p1;return D(),re($e,null,[Qp(e("div",m1,[e("div",{class:"grid gap-y-4 gap-x-8 w-full",style:rt(`grid-template-columns: repeat(auto-fit,minmax(${p.value}px,1fr))`)},[(D(!0),re($e,null,Fs(O(Ye),(m,w)=>(D(),re("div",{key:m.path,class:"relative"},[e("div",{class:Ue(["inline-block border rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":a(w+1),"border-gray-400":!a(w+1)}]),style:rt(O(wi)),onClick:A=>l(+m.path)},[(D(),R(kf,{key:m.path,width:p.value,"clicks-disabled":!0,class:"pointer-events-none"},{default:L(()=>[m!=null&&m.component?(D(),R(O(xi),{key:0,is:m.component,"clicks-disabled":!0,class:Ue(O(Ci)(m)),route:m,context:"overview"},null,8,["is","class","route"])):Ee("v-if",!0),se(Cf,{page:+m.path},null,8,["page"])]),_:2},1032,["width"]))],14,g1),e("div",{class:"absolute top-0 opacity-50",style:rt(`left: ${p.value+5}px`)},yn(w+1),5)]))),128))],4)],512),[[Bd,O(o)]]),O(o)?(D(),re("button",{key:0,class:"fixed text-2xl top-4 right-4 slidev-icon-btn text-gray-400",onClick:r},[se(y)])):Ee("v-if",!0)],64)}}});const _1=j(v1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlidesOverview.vue"]]),w1="/owasp-top-ten-workshop/assets/logo-b72bde5d.png",A1={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},b1=Ie({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(t,{emit:n}){const s=t;I(N);const o=Zt(s,"modelValue",n);function r(){o.value=!1}return(l,a)=>(D(),R(ed,null,[O(o)?(D(),re("div",A1,[e("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=i=>r())}),e("div",{class:Ue(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ main"},[Ln(l.$slots,"default")],2)])):Ee("v-if",!0)],1024))}}),E1=j(b1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Modal.vue"]]),D1={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},k1=["innerHTML"],C1=e("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[e("div",{class:"flex gap-1 children:my-auto"},[e("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),e("img",{class:"w-5 h-5",src:w1,alt:"Slidev"}),e("div",{style:{color:"#2082A6"}},[e("b",null,"Sli"),u("dev ")])])],-1),x1=Ie({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(t,{emit:n}){const s=t;I(N);const o=Zt(s,"modelValue",n),r=T(()=>typeof Be.info=="string");return(l,a)=>(D(),R(E1,{modelValue:O(o),"onUpdate:modelValue":a[0]||(a[0]=i=>Se(o)?o.value=i:null),class:"px-6 py-4"},{default:L(()=>[e("div",D1,[r.value?(D(),re("div",{key:0,class:"mb-4",innerHTML:O(Be).info},null,8,k1)):Ee("v-if",!0),C1])]),_:1},8,["modelValue"]))}});const B1=j(x1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/InfoDialog.vue"]]);function mn(t){return Array.isArray?Array.isArray(t):Sf(t)==="[object Array]"}const S1=1/0;function $1(t){if(typeof t=="string")return t;let n=t+"";return n=="0"&&1/t==-S1?"-0":n}function T1(t){return t==null?"":$1(t)}function Xt(t){return typeof t=="string"}function xf(t){return typeof t=="number"}function O1(t){return t===!0||t===!1||P1(t)&&Sf(t)=="[object Boolean]"}function Bf(t){return typeof t=="object"}function P1(t){return Bf(t)&&t!==null}function Dt(t){return t!=null}function Rl(t){return!t.trim().length}function Sf(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const I1="Incorrect 'index' type",M1=t=>`Invalid value for key ${t}`,R1=t=>`Pattern length exceeds max of ${t}.`,L1=t=>`Missing ${t} property in key`,F1=t=>`Property 'weight' in key '${t}' must be a positive integer`,Bu=Object.prototype.hasOwnProperty;class N1{constructor(n){this._keys=[],this._keyMap={};let s=0;n.forEach(o=>{let r=$f(o);s+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,s+=r.weight}),this._keys.forEach(o=>{o.weight/=s})}get(n){return this._keyMap[n]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function $f(t){let n=null,s=null,o=null,r=1,l=null;if(Xt(t)||mn(t))o=t,n=Su(t),s=Sa(t);else{if(!Bu.call(t,"name"))throw new Error(L1("name"));const a=t.name;if(o=a,Bu.call(t,"weight")&&(r=t.weight,r<=0))throw new Error(F1(a));n=Su(a),s=Sa(a),l=t.getFn}return{path:n,id:s,weight:r,src:o,getFn:l}}function Su(t){return mn(t)?t:t.split(".")}function Sa(t){return mn(t)?t.join("."):t}function j1(t,n){let s=[],o=!1;const r=(l,a,i)=>{if(Dt(l))if(!a[i])s.push(l);else{let c=a[i];const p=l[c];if(!Dt(p))return;if(i===a.length-1&&(Xt(p)||xf(p)||O1(p)))s.push(T1(p));else if(mn(p)){o=!0;for(let d=0,f=p.length;d<f;d+=1)r(p[d],a,i+1)}else a.length&&r(p,a,i+1)}};return r(t,Xt(n)?n.split("."):n,0),o?s:s[0]}const q1={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},H1={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,n)=>t.score===n.score?t.idx<n.idx?-1:1:t.score<n.score?-1:1},V1={location:0,threshold:.6,distance:100},U1={useExtendedSearch:!1,getFn:j1,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var fe={...H1,...q1,...V1,...U1};const W1=/[^ ]+/g;function z1(t=1,n=3){const s=new Map,o=Math.pow(10,n);return{get(r){const l=r.match(W1).length;if(s.has(l))return s.get(l);const a=1/Math.pow(l,.5*t),i=parseFloat(Math.round(a*o)/o);return s.set(l,i),i},clear(){s.clear()}}}class Bi{constructor({getFn:n=fe.getFn,fieldNormWeight:s=fe.fieldNormWeight}={}){this.norm=z1(s,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}setSources(n=[]){this.docs=n}setIndexRecords(n=[]){this.records=n}setKeys(n=[]){this.keys=n,this._keysMap={},n.forEach((s,o)=>{this._keysMap[s.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Xt(this.docs[0])?this.docs.forEach((n,s)=>{this._addString(n,s)}):this.docs.forEach((n,s)=>{this._addObject(n,s)}),this.norm.clear())}add(n){const s=this.size();Xt(n)?this._addString(n,s):this._addObject(n,s)}removeAt(n){this.records.splice(n,1);for(let s=n,o=this.size();s<o;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(n,s){return n[this._keysMap[s]]}size(){return this.records.length}_addString(n,s){if(!Dt(n)||Rl(n))return;let o={v:n,i:s,n:this.norm.get(n)};this.records.push(o)}_addObject(n,s){let o={i:s,$:{}};this.keys.forEach((r,l)=>{let a=r.getFn?r.getFn(n):this.getFn(n,r.path);if(Dt(a)){if(mn(a)){let i=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:p,value:d}=c.pop();if(Dt(d))if(Xt(d)&&!Rl(d)){let f={v:d,i:p,n:this.norm.get(d)};i.push(f)}else mn(d)&&d.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}o.$[l]=i}else if(Xt(a)&&!Rl(a)){let i={v:a,n:this.norm.get(a)};o.$[l]=i}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function Tf(t,n,{getFn:s=fe.getFn,fieldNormWeight:o=fe.fieldNormWeight}={}){const r=new Bi({getFn:s,fieldNormWeight:o});return r.setKeys(t.map($f)),r.setSources(n),r.create(),r}function K1(t,{getFn:n=fe.getFn,fieldNormWeight:s=fe.fieldNormWeight}={}){const{keys:o,records:r}=t,l=new Bi({getFn:n,fieldNormWeight:s});return l.setKeys(o),l.setIndexRecords(r),l}function ir(t,{errors:n=0,currentLocation:s=0,expectedLocation:o=0,distance:r=fe.distance,ignoreLocation:l=fe.ignoreLocation}={}){const a=n/t.length;if(l)return a;const i=Math.abs(o-s);return r?a+i/r:i?1:a}function Y1(t=[],n=fe.minMatchCharLength){let s=[],o=-1,r=-1,l=0;for(let a=t.length;l<a;l+=1){let i=t[l];i&&o===-1?o=l:!i&&o!==-1&&(r=l-1,r-o+1>=n&&s.push([o,r]),o=-1)}return t[l-1]&&l-o>=n&&s.push([o,l-1]),s}const ns=32;function G1(t,n,s,{location:o=fe.location,distance:r=fe.distance,threshold:l=fe.threshold,findAllMatches:a=fe.findAllMatches,minMatchCharLength:i=fe.minMatchCharLength,includeMatches:c=fe.includeMatches,ignoreLocation:p=fe.ignoreLocation}={}){if(n.length>ns)throw new Error(R1(ns));const d=n.length,f=t.length,h=Math.max(0,Math.min(o,f));let y=l,m=h;const w=i>1||c,A=w?Array(f):[];let b;for(;(b=t.indexOf(n,m))>-1;){let F=ir(n,{currentLocation:b,expectedLocation:h,distance:r,ignoreLocation:p});if(y=Math.min(F,y),m=b+d,w){let $=0;for(;$<d;)A[b+$]=1,$+=1}}m=-1;let E=[],_=1,k=d+f;const C=1<<d-1;for(let F=0;F<d;F+=1){let $=0,V=k;for(;$<V;)ir(n,{errors:F,currentLocation:h+V,expectedLocation:h,distance:r,ignoreLocation:p})<=y?$=V:k=V,V=Math.floor((k-$)/2+$);k=V;let oe=Math.max(1,h-V+1),pe=a?f:Math.min(h+V,f)+d,Y=Array(pe+2);Y[pe+1]=(1<<F)-1;for(let ve=pe;ve>=oe;ve-=1){let we=ve-1,Me=s[t.charAt(we)];if(w&&(A[we]=+!!Me),Y[ve]=(Y[ve+1]<<1|1)&Me,F&&(Y[ve]|=(E[ve+1]|E[ve])<<1|1|E[ve+1]),Y[ve]&C&&(_=ir(n,{errors:F,currentLocation:we,expectedLocation:h,distance:r,ignoreLocation:p}),_<=y)){if(y=_,m=we,m<=h)break;oe=Math.max(1,2*h-m)}}if(ir(n,{errors:F+1,currentLocation:h,expectedLocation:h,distance:r,ignoreLocation:p})>y)break;E=Y}const B={isMatch:m>=0,score:Math.max(.001,_)};if(w){const F=Y1(A,i);F.length?c&&(B.indices=F):B.isMatch=!1}return B}function J1(t){let n={};for(let s=0,o=t.length;s<o;s+=1){const r=t.charAt(s);n[r]=(n[r]||0)|1<<o-s-1}return n}class Of{constructor(n,{location:s=fe.location,threshold:o=fe.threshold,distance:r=fe.distance,includeMatches:l=fe.includeMatches,findAllMatches:a=fe.findAllMatches,minMatchCharLength:i=fe.minMatchCharLength,isCaseSensitive:c=fe.isCaseSensitive,ignoreLocation:p=fe.ignoreLocation}={}){if(this.options={location:s,threshold:o,distance:r,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:c,ignoreLocation:p},this.pattern=c?n:n.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(h,y)=>{this.chunks.push({pattern:h,alphabet:J1(h),startIndex:y})},f=this.pattern.length;if(f>ns){let h=0;const y=f%ns,m=f-y;for(;h<m;)d(this.pattern.substr(h,ns),h),h+=ns;if(y){const w=f-ns;d(this.pattern.substr(w),w)}}else d(this.pattern,0)}searchIn(n){const{isCaseSensitive:s,includeMatches:o}=this.options;if(s||(n=n.toLowerCase()),this.pattern===n){let m={isMatch:!0,score:0};return o&&(m.indices=[[0,n.length-1]]),m}const{location:r,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:c,ignoreLocation:p}=this.options;let d=[],f=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:w,startIndex:A})=>{const{isMatch:b,score:E,indices:_}=G1(n,m,w,{location:r+A,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:c,includeMatches:o,ignoreLocation:p});b&&(h=!0),f+=E,b&&_&&(d=[...d,..._])});let y={isMatch:h,score:h?f/this.chunks.length:1};return h&&o&&(y.indices=d),y}}class Hn{constructor(n){this.pattern=n}static isMultiMatch(n){return $u(n,this.multiRegex)}static isSingleMatch(n){return $u(n,this.singleRegex)}search(){}}function $u(t,n){const s=t.match(n);return s?s[1]:null}class Z1 extends Hn{constructor(n){super(n)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(n){const s=n===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Q1 extends Hn{constructor(n){super(n)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(n){const o=n.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,n.length-1]}}}class X1 extends Hn{constructor(n){super(n)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(n){const s=n.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class ew extends Hn{constructor(n){super(n)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(n){const s=!n.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,n.length-1]}}}class tw extends Hn{constructor(n){super(n)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(n){const s=n.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[n.length-this.pattern.length,n.length-1]}}}class nw extends Hn{constructor(n){super(n)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(n){const s=!n.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,n.length-1]}}}class Pf extends Hn{constructor(n,{location:s=fe.location,threshold:o=fe.threshold,distance:r=fe.distance,includeMatches:l=fe.includeMatches,findAllMatches:a=fe.findAllMatches,minMatchCharLength:i=fe.minMatchCharLength,isCaseSensitive:c=fe.isCaseSensitive,ignoreLocation:p=fe.ignoreLocation}={}){super(n),this._bitapSearch=new Of(n,{location:s,threshold:o,distance:r,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:c,ignoreLocation:p})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(n){return this._bitapSearch.searchIn(n)}}class If extends Hn{constructor(n){super(n)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(n){let s=0,o;const r=[],l=this.pattern.length;for(;(o=n.indexOf(this.pattern,s))>-1;)s=o+l,r.push([o,s-1]);const a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}const $a=[Z1,If,X1,ew,nw,tw,Q1,Pf],Tu=$a.length,sw=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ow="|";function rw(t,n={}){return t.split(ow).map(s=>{let o=s.trim().split(sw).filter(l=>l&&!!l.trim()),r=[];for(let l=0,a=o.length;l<a;l+=1){const i=o[l];let c=!1,p=-1;for(;!c&&++p<Tu;){const d=$a[p];let f=d.isMultiMatch(i);f&&(r.push(new d(f,n)),c=!0)}if(!c)for(p=-1;++p<Tu;){const d=$a[p];let f=d.isSingleMatch(i);if(f){r.push(new d(f,n));break}}}return r})}const lw=new Set([Pf.type,If.type]);class aw{constructor(n,{isCaseSensitive:s=fe.isCaseSensitive,includeMatches:o=fe.includeMatches,minMatchCharLength:r=fe.minMatchCharLength,ignoreLocation:l=fe.ignoreLocation,findAllMatches:a=fe.findAllMatches,location:i=fe.location,threshold:c=fe.threshold,distance:p=fe.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:o,minMatchCharLength:r,findAllMatches:a,ignoreLocation:l,location:i,threshold:c,distance:p},this.pattern=s?n:n.toLowerCase(),this.query=rw(this.pattern,this.options)}static condition(n,s){return s.useExtendedSearch}searchIn(n){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:r}=this.options;n=r?n:n.toLowerCase();let l=0,a=[],i=0;for(let c=0,p=s.length;c<p;c+=1){const d=s[c];a.length=0,l=0;for(let f=0,h=d.length;f<h;f+=1){const y=d[f],{isMatch:m,indices:w,score:A}=y.search(n);if(m){if(l+=1,i+=A,o){const b=y.constructor.type;lw.has(b)?a=[...a,...w]:a.push(w)}}else{i=0,l=0,a.length=0;break}}if(l){let f={isMatch:!0,score:i/l};return o&&(f.indices=a),f}}return{isMatch:!1,score:1}}}const Ta=[];function iw(...t){Ta.push(...t)}function Oa(t,n){for(let s=0,o=Ta.length;s<o;s+=1){let r=Ta[s];if(r.condition(t,n))return new r(t,n)}return new Of(t,n)}const Vr={AND:"$and",OR:"$or"},Pa={PATH:"$path",PATTERN:"$val"},Ia=t=>!!(t[Vr.AND]||t[Vr.OR]),cw=t=>!!t[Pa.PATH],uw=t=>!mn(t)&&Bf(t)&&!Ia(t),Ou=t=>({[Vr.AND]:Object.keys(t).map(n=>({[n]:t[n]}))});function Mf(t,n,{auto:s=!0}={}){const o=r=>{let l=Object.keys(r);const a=cw(r);if(!a&&l.length>1&&!Ia(r))return o(Ou(r));if(uw(r)){const c=a?r[Pa.PATH]:l[0],p=a?r[Pa.PATTERN]:r[c];if(!Xt(p))throw new Error(M1(c));const d={keyId:Sa(c),pattern:p};return s&&(d.searcher=Oa(p,n)),d}let i={children:[],operator:l[0]};return l.forEach(c=>{const p=r[c];mn(p)&&p.forEach(d=>{i.children.push(o(d))})}),i};return Ia(t)||(t=Ou(t)),o(t)}function pw(t,{ignoreFieldNorm:n=fe.ignoreFieldNorm}){t.forEach(s=>{let o=1;s.matches.forEach(({key:r,norm:l,score:a})=>{const i=r?r.weight:null;o*=Math.pow(a===0&&i?Number.EPSILON:a,(i||1)*(n?1:l))}),s.score=o})}function dw(t,n){const s=t.matches;n.matches=[],Dt(s)&&s.forEach(o=>{if(!Dt(o.indices)||!o.indices.length)return;const{indices:r,value:l}=o;let a={indices:r,value:l};o.key&&(a.key=o.key.src),o.idx>-1&&(a.refIndex=o.idx),n.matches.push(a)})}function fw(t,n){n.score=t.score}function hw(t,n,{includeMatches:s=fe.includeMatches,includeScore:o=fe.includeScore}={}){const r=[];return s&&r.push(dw),o&&r.push(fw),t.map(l=>{const{idx:a}=l,i={item:n[a],refIndex:a};return r.length&&r.forEach(c=>{c(l,i)}),i})}class js{constructor(n,s={},o){this.options={...fe,...s},this.options.useExtendedSearch,this._keyStore=new N1(this.options.keys),this.setCollection(n,o)}setCollection(n,s){if(this._docs=n,s&&!(s instanceof Bi))throw new Error(I1);this._myIndex=s||Tf(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(n){Dt(n)&&(this._docs.push(n),this._myIndex.add(n))}remove(n=()=>!1){const s=[];for(let o=0,r=this._docs.length;o<r;o+=1){const l=this._docs[o];n(l,o)&&(this.removeAt(o),o-=1,r-=1,s.push(l))}return s}removeAt(n){this._docs.splice(n,1),this._myIndex.removeAt(n)}getIndex(){return this._myIndex}search(n,{limit:s=-1}={}){const{includeMatches:o,includeScore:r,shouldSort:l,sortFn:a,ignoreFieldNorm:i}=this.options;let c=Xt(n)?Xt(this._docs[0])?this._searchStringList(n):this._searchObjectList(n):this._searchLogical(n);return pw(c,{ignoreFieldNorm:i}),l&&c.sort(a),xf(s)&&s>-1&&(c=c.slice(0,s)),hw(c,this._docs,{includeMatches:o,includeScore:r})}_searchStringList(n){const s=Oa(n,this.options),{records:o}=this._myIndex,r=[];return o.forEach(({v:l,i:a,n:i})=>{if(!Dt(l))return;const{isMatch:c,score:p,indices:d}=s.searchIn(l);c&&r.push({item:l,idx:a,matches:[{score:p,value:l,norm:i,indices:d}]})}),r}_searchLogical(n){const s=Mf(n,this.options),o=(i,c,p)=>{if(!i.children){const{keyId:f,searcher:h}=i,y=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return y&&y.length?[{idx:p,item:c,matches:y}]:[]}const d=[];for(let f=0,h=i.children.length;f<h;f+=1){const y=i.children[f],m=o(y,c,p);if(m.length)d.push(...m);else if(i.operator===Vr.AND)return[]}return d},r=this._myIndex.records,l={},a=[];return r.forEach(({$:i,i:c})=>{if(Dt(i)){let p=o(s,i,c);p.length&&(l[c]||(l[c]={idx:c,item:i,matches:[]},a.push(l[c])),p.forEach(({matches:d})=>{l[c].matches.push(...d)}))}}),a}_searchObjectList(n){const s=Oa(n,this.options),{keys:o,records:r}=this._myIndex,l=[];return r.forEach(({$:a,i})=>{if(!Dt(a))return;let c=[];o.forEach((p,d)=>{c.push(...this._findMatches({key:p,value:a[d],searcher:s}))}),c.length&&l.push({idx:i,item:a,matches:c})}),l}_findMatches({key:n,value:s,searcher:o}){if(!Dt(s))return[];let r=[];if(mn(s))s.forEach(({v:l,i:a,n:i})=>{if(!Dt(l))return;const{isMatch:c,score:p,indices:d}=o.searchIn(l);c&&r.push({score:p,key:n,value:l,idx:a,norm:i,indices:d})});else{const{v:l,n:a}=s,{isMatch:i,score:c,indices:p}=o.searchIn(l);i&&r.push({score:c,key:n,value:l,norm:a,indices:p})}return r}}js.version="6.6.2";js.createIndex=Tf;js.parseIndex=K1;js.config=fe;js.parseQuery=Mf;iw(aw);const yw={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},mw=["value","disabled","onKeydown"],gw=["border","onClick"],vw={"w-4":"","text-right":"",op50:"","text-sm":""},_w=Ie({__name:"Goto",setup(t){I(N);const n=K(),s=K(),o=K(),r=K(),l=K(""),a=K(0);function i(_){return _!=null}const c=T(()=>new js(Ye.map(_=>{var k;return(k=_.meta)==null?void 0:k.slide}).filter(i),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),p=T(()=>l.value.startsWith("/")?l.value.substring(1):l.value),d=T(()=>c.value.search(p.value).map(_=>_.item)),f=T(()=>!!d.value.length);function h(){if(f.value){const _=d.value.at(a.value||0);_&&Ls(_.no)}y()}function y(){l.value="",Bs.value=!1}function m(_){_.preventDefault(),a.value++,a.value>=d.value.length&&(a.value=0),A()}function w(_){_.preventDefault(),a.value--,a.value<=-2&&(a.value=d.value.length-1),A()}function A(){var k;const _=(k=r.value)==null?void 0:k[a.value];_&&o.value&&(_.offsetTop+_.offsetHeight>o.value.offsetHeight+o.value.scrollTop?o.value.scrollTo({behavior:"smooth",top:_.offsetTop+_.offsetHeight-o.value.offsetHeight+1}):_.offsetTop<o.value.scrollTop&&o.value.scrollTo({behavior:"smooth",top:_.offsetTop}))}function b(_){a.value=0,l.value=_.target.value}function E(_){Ls(_),y()}return ge(Bs,async _=>{var k;_?(l.value="",a.value=0,setTimeout(()=>{var C;return(C=s.value)==null?void 0:C.focus()},0)):(k=s.value)==null||k.blur()}),ge(On,()=>{var _;(_=n.value)!=null&&_.contains(On.value)||y()}),(_,k)=>(D(),re("div",{id:"slidev-goto-dialog",ref_key:"container",ref:n,class:Ue(["fixed right-5 transition-all",O(Bs)?"top-5":"-top-20"]),"w-90":"","max-w-90":"","min-w-90":""},[e("div",yw,[e("input",{id:"slidev-goto-input",ref_key:"input",ref:s,value:l.value,type:"text",disabled:!O(Bs),class:Ue(["outline-none bg-transparent",{"text-red-400":!f.value&&l.value}]),placeholder:"Goto...",onKeydown:[tr(h,["enter"]),tr(y,["escape"]),tr(m,["down"]),tr(w,["up"])],onInput:b},null,42,mw)]),d.value.length>0?(D(),re("ul",{key:0,ref_key:"list",ref:o,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[(D(!0),re($e,null,Fs(d.value,(C,B)=>(D(),re("li",{ref_for:!0,ref_key:"items",ref:r,key:C.id,role:"button",tabindex:"0",p:"x-4 y-2","cursor-pointer":"",hover:"op100",flex:"~ gap-2","w-90":"","items-center":"",border:B===0?"":"t main",class:Ue(a.value===B?"bg-active op100":"op80"),onClick:ng(F=>E(C.no),["stop"])},[e("div",vw,yn(C.no),1),u(" "+yn(C.title),1)],10,gw))),128))],512)):Ee("v-if",!0)],2))}});const ww=j(_w,[["__scopeId","data-v-f5ee02a7"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Goto.vue"]]),Aw=Ie({__name:"Controls",setup(t){I(N);const n=nn(),s=nn();return(o,r)=>(D(),re($e,null,[se(_1,{modelValue:O(ut),"onUpdate:modelValue":r[0]||(r[0]=l=>Se(ut)?ut.value=l:null)},null,8,["modelValue"]),se(ww),n.value?(D(),R(O(n),{key:0})):Ee("v-if",!0),s.value?(D(),R(O(s),{key:1,modelValue:O(Ol),"onUpdate:modelValue":r[1]||(r[1]=l=>Se(Ol)?Ol.value=l:null)},null,8,["modelValue"])):Ee("v-if",!0),O(Be).info?(D(),R(B1,{key:2,modelValue:O(yo),"onUpdate:modelValue":r[2]||(r[2]=l=>Se(yo)?yo.value=l:null)},null,8,["modelValue"])):Ee("v-if",!0)],64))}}),bw=j(Aw,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Controls.vue"]]),Ew={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Dw=e("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),kw=[Dw];function Cw(t,n){return D(),re("svg",Ew,kw)}const xw={name:"carbon-settings-adjust",render:Cw},Bw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Sw=e("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),$w=e("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),Tw=[Sw,$w];function Ow(t,n){return D(),re("svg",Bw,Tw)}const Pw={name:"carbon-information",render:Ow},Iw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Mw=e("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),Rw=[Mw];function Lw(t,n){return D(),re("svg",Iw,Rw)}const Fw={name:"carbon-download",render:Lw},Nw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},jw=e("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),qw=e("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),Hw=[jw,qw];function Vw(t,n){return D(),re("svg",Nw,Hw)}const Uw={name:"carbon-user-speaker",render:Vw},Ww={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},zw=e("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),Kw=e("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),Yw=[zw,Kw];function Gw(t,n){return D(),re("svg",Ww,Yw)}const Jw={name:"carbon-presentation-file",render:Gw},Zw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Qw=e("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),Xw=[Qw];function eA(t,n){return D(),re("svg",Zw,Xw)}const tA={name:"carbon-pen",render:eA},nA={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},sA=e("g",{fill:"currentColor"},[e("path",{d:"M213.66 201L201 213.66a8 8 0 0 1-11.31 0L140 164a8 8 0 0 0-13 2.46l-19.46 44.77a8 8 0 0 1-14.85-.71L40.41 50.44a8 8 0 0 1 10-10l160.1 52.24a8 8 0 0 1 .71 14.85L166.45 127a8 8 0 0 0-2.45 13l49.67 49.67a8 8 0 0 1-.01 11.33Z",opacity:".2"}),e("path",{d:"m169.64 134.33l44.77-19.46a16 16 0 0 0-1.41-29.8L52.92 32.8A16 16 0 0 0 32.8 52.92L85.07 213a15.83 15.83 0 0 0 14.41 11h.78a15.83 15.83 0 0 0 14.61-9.59l19.46-44.77L184 219.31a16 16 0 0 0 22.63 0l12.68-12.68a16 16 0 0 0 0-22.63Zm-69.48 73.76l.06-.05Zm95.15-.09l-49.67-49.67a16 16 0 0 0-26 4.94l-19.42 44.65L48 48l159.87 52.21l-44.64 19.41a16 16 0 0 0-4.94 26L208 195.31Z"})],-1),oA=[sA];function rA(t,n){return D(),re("svg",nA,oA)}const lA={name:"ph-cursor-duotone",render:rA},aA={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},iA=e("path",{fill:"currentColor",d:"M219.31 192a16 16 0 0 1 0 22.63l-4.68 4.68a16 16 0 0 1-22.63 0l-55.25-55.24l-21.88 50.34a15.84 15.84 0 0 1-14.61 9.59h-.78a15.82 15.82 0 0 1-14.41-11L32.8 52.92A15.95 15.95 0 0 1 52.92 32.8L213 85.07a16 16 0 0 1 1.41 29.8l-50.34 21.88Z"},null,-1),cA=[iA];function uA(t,n){return D(),re("svg",aA,cA)}const Rf={name:"ph-cursor-fill",render:uA},pA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},dA=e("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),fA=[dA];function hA(t,n){return D(),re("svg",pA,fA)}const yA={name:"carbon-sun",render:hA},mA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},gA=e("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),vA=[gA];function _A(t,n){return D(),re("svg",mA,vA)}const wA={name:"carbon-moon",render:_A},AA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},bA=e("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),EA=[bA];function DA(t,n){return D(),re("svg",AA,EA)}const kA={name:"carbon-apps",render:DA},CA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},xA=e("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),BA=[xA];function SA(t,n){return D(),re("svg",CA,BA)}const $A={name:"carbon-arrow-right",render:SA},TA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},OA=e("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),PA=[OA];function IA(t,n){return D(),re("svg",TA,PA)}const MA={name:"carbon-arrow-left",render:IA},RA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},LA=e("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),FA=[LA];function NA(t,n){return D(),re("svg",RA,FA)}const jA={name:"carbon-maximize",render:NA},qA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},HA=e("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),VA=[HA];function UA(t,n){return D(),re("svg",qA,VA)}const WA={name:"carbon-minimize",render:UA},zA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},KA=e("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),YA=[KA];function GA(t,n){return D(),re("svg",zA,YA)}const JA={name:"carbon-checkmark",render:GA},ZA={class:"select-list"},QA={class:"title"},XA={class:"items"},eb=["onClick"],tb=Ie({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(t,{emit:n}){const s=t;I(N);const o=Zt(s,"modelValue",n,{passive:!0});return(r,l)=>{const a=JA;return D(),re("div",ZA,[e("div",QA,yn(t.title),1),e("div",XA,[(D(!0),re($e,null,Fs(t.items,i=>(D(),re("div",{key:i.value,class:Ue(["item",{active:O(o)===i.value}]),onClick:()=>{var c;o.value=i.value,(c=i.onClick)==null||c.call(i)}},[se(a,{class:Ue(["text-green-500",{"opacity-0":O(o)!==i.value}])},null,8,["class"]),u(" "+yn(i.display||i.value),1)],10,eb))),128))])])}}});const nb=j(tb,[["__scopeId","data-v-3f89fa11"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SelectList.vue"]]),sb={class:"text-sm"},ob=Ie({__name:"Settings",setup(t){I(N);const n=[{display:"Fit",value:0},{display:"1:1",value:1}];return(s,o)=>(D(),re("div",sb,[se(nb,{modelValue:O(gr),"onUpdate:modelValue":o[0]||(o[0]=r=>Se(gr)?gr.value=r:null),title:"Scale",items:n},null,8,["modelValue"])]))}}),rb=j(ob,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Settings.vue"]]),lb={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ main"},ab=Ie({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(t,{emit:n}){const s=t;I(N);const o=Zt(s,"modelValue",n,{passive:!0}),r=K();return Q6(r,()=>{o.value=!1}),(l,a)=>(D(),re("div",{ref_key:"el",ref:r,class:"flex relative"},[e("button",{class:Ue({disabled:t.disabled}),onClick:a[0]||(a[0]=i=>o.value=!O(o))},[Ln(l.$slots,"button",{class:Ue({disabled:t.disabled})})],2),(D(),R(ed,null,[O(o)?(D(),re("div",lb,[Ln(l.$slots,"menu")])):Ee("v-if",!0)],1024))],512))}}),ib=j(ab,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/MenuButton.vue"]]),cb={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},ub={__name:"VerticalDivider",setup(t){return I(N),(n,s)=>(D(),re("div",cb))}},cr=j(ub,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/VerticalDivider.vue"]]),pb={render(){return[]}},db={class:"slidev-icon-btn"},fb={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},hb={class:"my-auto"},yb={class:"opacity-50"},mb=Ie({__name:"NavControls",props:{persist:{default:!1}},setup(t){const n=t;I(N);const s=Da.smaller("md"),{isFullscreen:o,toggle:r}=gf,l=T(()=>Ra.value?`?password=${Ra.value}`:""),a=T(()=>`/presenter/${We.value}${l.value}`),i=T(()=>`/${We.value}${l.value}`),c=K();function p(){c.value&&On.value&&c.value.contains(On.value)&&On.value.blur()}const d=T(()=>n.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),f=nn(),h=nn();return Tn(()=>import("./DrawingControls-77c119a6.js"),[]).then(y=>h.value=y.default),(y,m)=>{const w=WA,A=jA,b=MA,E=$A,_=kA,k=wA,C=yA,B=Rf,F=lA,$=tA,V=Jw,oe=Or("RouterLink"),pe=Uw,Y=Fw,me=Pw,ve=xw;return D(),re("nav",{ref_key:"root",ref:c,class:"flex flex-col"},[e("div",{class:Ue(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",d.value]),onMouseleave:p},[O(un)?Ee("v-if",!0):(D(),re("button",{key:0,class:"slidev-icon-btn",onClick:m[0]||(m[0]=(...we)=>O(r)&&O(r)(...we))},[O(o)?(D(),R(w,{key:0})):(D(),R(A,{key:1}))])),e("button",{class:Ue(["slidev-icon-btn",{disabled:!O(Z4)}]),onClick:m[1]||(m[1]=(...we)=>O(In)&&O(In)(...we))},[se(b)],2),e("button",{class:Ue(["slidev-icon-btn",{disabled:!O(J4)}]),title:"Next",onClick:m[2]||(m[2]=(...we)=>O(Pn)&&O(Pn)(...we))},[se(E)],2),O(un)?Ee("v-if",!0):(D(),re("button",{key:1,class:"slidev-icon-btn",title:"Slides overview",onClick:m[3]||(m[3]=we=>O(vf)())},[se(_)])),O(Ba)?Ee("v-if",!0):(D(),re("button",{key:2,class:"slidev-icon-btn",title:"Toggle dark mode",onClick:m[4]||(m[4]=we=>O(Ef)())},[O(Di)?(D(),R(k,{key:0})):(D(),R(C,{key:1}))])),se(cr),O(un)?Ee("v-if",!0):(D(),re($e,{key:3},[!O(gt)&&!O(s)&&f.value?(D(),re($e,{key:0},[se(O(f)),se(cr)],64)):Ee("v-if",!0),O(gt)?(D(),re("button",{key:1,class:"slidev-icon-btn",title:"Show presenter cursor",onClick:m[5]||(m[5]=we=>Pl.value=!O(Pl))},[O(Pl)?(D(),R(B,{key:0})):(D(),R(F,{key:1,class:"opacity-50"}))])):Ee("v-if",!0)],64)),(!O(Be).drawings.presenterOnly||O(gt))&&!O(un)?(D(),re($e,{key:4},[e("button",{class:"slidev-icon-btn relative",title:"Drawing",onClick:m[6]||(m[6]=we=>Qt.value=!O(Qt))},[se($),O(Qt)?(D(),re("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:rt({background:O(rs).color})},null,4)):Ee("v-if",!0)]),se(cr)],64)):Ee("v-if",!0),O(un)?Ee("v-if",!0):(D(),re($e,{key:5},[O(gt)?(D(),R(oe,{key:0,to:i.value,class:"slidev-icon-btn",title:"Play Mode"},{default:L(()=>[se(V)]),_:1},8,["to"])):Ee("v-if",!0),O(W4)?(D(),R(oe,{key:1,to:a.value,class:"slidev-icon-btn",title:"Presenter Mode"},{default:L(()=>[se(pe)]),_:1},8,["to"])):Ee("v-if",!0),Ee("v-if",!0)],64)),(D(),re($e,{key:6},[O(Be).download?(D(),re("button",{key:0,class:"slidev-icon-btn",onClick:m[8]||(m[8]=(...we)=>O(La)&&O(La)(...we))},[se(Y)])):Ee("v-if",!0)],64)),!O(gt)&&O(Be).info&&!O(un)?(D(),re("button",{key:7,class:"slidev-icon-btn",onClick:m[9]||(m[9]=we=>yo.value=!O(yo))},[se(me)])):Ee("v-if",!0),!O(gt)&&!O(un)?(D(),R(ib,{key:8},{button:L(()=>[e("button",db,[se(ve)])]),menu:L(()=>[se(rb)]),_:1})):Ee("v-if",!0),O(un)?Ee("v-if",!0):(D(),R(cr,{key:9})),e("div",fb,[e("div",hb,[u(yn(O(We))+" ",1),e("span",yb,"/ "+yn(O(z4)),1)])]),se(O(pb))],34)],512)}}}),gb=j(mb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/NavControls.vue"]]),Lf={render(){return[]}},Ff={render(){return[]}},vb={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},_b=Ie({__name:"PresenterMouse",setup(t){return I(N),(n,s)=>{const o=Rf;return O(Bl).cursor?(D(),re("div",vb,[se(o,{class:"absolute",style:rt({left:`${O(Bl).cursor.x}%`,top:`${O(Bl).cursor.y}%`})},null,8,["style"])])):Ee("v-if",!0)}}}),wb=j(_b,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PresenterMouse.vue"]]),Ab=Ie({__name:"SlidesShow",props:{context:{type:String,required:!0}},setup(t){I(N),ge(pt,()=>{var o,r;(o=pt.value)!=null&&o.meta&&pt.value.meta.preload!==!1&&(pt.value.meta.__preloaded=!0),(r=Ll.value)!=null&&r.meta&&Ll.value.meta.preload!==!1&&(Ll.value.meta.__preloaded=!0)},{immediate:!0});const n=nn();Tn(()=>import("./DrawingLayer-1f3b394c.js"),[]).then(o=>n.value=o.default);const s=T(()=>Ye.filter(o=>{var r;return((r=o.meta)==null?void 0:r.__preloaded)||o===pt.value}));return(o,r)=>(D(),re($e,null,[Ee(" Global Bottom "),se(O(Ff)),Ee(" Slides "),se(G9,Ve(O(e5),{id:"slideshow",tag:"div"}),{default:L(()=>[(D(!0),re($e,null,Fs(s.value,l=>{var a;return Qp((D(),R(O(xi),{key:l.path,is:l==null?void 0:l.component,clicks:l===O(pt)?O(It):0,"clicks-elements":((a=l.meta)==null?void 0:a.__clicksElements)||[],"clicks-disabled":!1,class:Ue(O(Ci)(l)),route:l,context:o.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[Bd,l===O(pt)]])}),128))]),_:1},16),Ee(" Global Top "),se(O(Lf)),n.value?(D(),R(O(n),{key:0})):Ee("v-if",!0),O(gt)?Ee("v-if",!0):(D(),R(wb,{key:1}))],64))}});const bb=j(Ab,[["__scopeId","data-v-afb4231e"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlidesShow.vue"]]),Eb=Ie({__name:"PrintStyle",setup(t){I(N);function n(s,{slots:o}){if(o.default)return kt("style",o.default())}return(s,o)=>(D(),R(n,null,{default:L(()=>[u(" @page { size: "+yn(O($n))+"px "+yn(O(_i))+"px; margin: 0px; } ",1)]),_:1}))}}),Nf=j(Eb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintStyle.vue"]]),Db=Ie({__name:"Play",setup(t){I(N),l1();const n=K();function s(l){var a;mu.value||((a=l.target)==null?void 0:a.id)==="slide-container"&&(l.screenX/window.innerWidth>.6?Pn():In())}t5(n);const o=T(()=>m0.value||mu.value);nn();const r=nn();return Tn(()=>import("./DrawingControls-77c119a6.js"),[]).then(l=>r.value=l.default),(l,a)=>(D(),re($e,null,[O(Rs)?(D(),R(Nf,{key:0})):Ee("v-if",!0),e("div",{id:"page-root",ref_key:"root",ref:n,class:"grid grid-cols-[1fr_max-content]",style:rt(O(wi))},[se(kf,{class:"w-full h-full",style:rt({background:"var(--slidev-slide-container-background, black)"}),width:O(Rs)?O(hs).width.value:void 0,scale:O(gr),onPointerdown:s},{default:L(()=>[se(bb,{context:"slide"})]),controls:L(()=>[e("div",{class:Ue(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[o.value?"opacity-100 right-0":"opacity-0 p-2",O($o)?"pointer-events-none":""]])},[se(gb,{class:"m-auto",persist:o.value},null,8,["persist"])],2),!O(Be).drawings.presenterOnly&&!O(un)&&r.value?(D(),R(O(r),{key:0,class:"ml-0"})):Ee("v-if",!0)]),_:1},8,["style","width","scale"]),Ee("v-if",!0)],4),se(bw)],64))}}),kb=j(Db,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Play.vue"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function jf(t){return typeof t>"u"||t===null}function Cb(t){return typeof t=="object"&&t!==null}function xb(t){return Array.isArray(t)?t:jf(t)?[]:[t]}function Bb(t,n){var s,o,r,l;if(n)for(l=Object.keys(n),s=0,o=l.length;s<o;s+=1)r=l[s],t[r]=n[r];return t}function Sb(t,n){var s="",o;for(o=0;o<n;o+=1)s+=t;return s}function $b(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var Tb=jf,Ob=Cb,Pb=xb,Ib=Sb,Mb=$b,Rb=Bb,Si={isNothing:Tb,isObject:Ob,toArray:Pb,repeat:Ib,isNegativeZero:Mb,extend:Rb};function qf(t,n){var s="",o=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(s+='in "'+t.mark.name+'" '),s+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!n&&t.mark.snippet&&(s+=`

`+t.mark.snippet),o+" "+s):o}function Oo(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=qf(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Oo.prototype=Object.create(Error.prototype);Oo.prototype.constructor=Oo;Oo.prototype.toString=function(n){return this.name+": "+qf(this,n)};var ss=Oo,Lb=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Fb=["scalar","sequence","mapping"];function Nb(t){var n={};return t!==null&&Object.keys(t).forEach(function(s){t[s].forEach(function(o){n[String(o)]=s})}),n}function jb(t,n){if(n=n||{},Object.keys(n).forEach(function(s){if(Lb.indexOf(s)===-1)throw new ss('Unknown option "'+s+'" is met in definition of "'+t+'" YAML type.')}),this.options=n,this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(s){return s},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Nb(n.styleAliases||null),Fb.indexOf(this.kind)===-1)throw new ss('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var lt=jb;function Pu(t,n){var s=[];return t[n].forEach(function(o){var r=s.length;s.forEach(function(l,a){l.tag===o.tag&&l.kind===o.kind&&l.multi===o.multi&&(r=a)}),s[r]=o}),s}function qb(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,s;function o(r){r.multi?(t.multi[r.kind].push(r),t.multi.fallback.push(r)):t[r.kind][r.tag]=t.fallback[r.tag]=r}for(n=0,s=arguments.length;n<s;n+=1)arguments[n].forEach(o);return t}function Ma(t){return this.extend(t)}Ma.prototype.extend=function(n){var s=[],o=[];if(n instanceof lt)o.push(n);else if(Array.isArray(n))o=o.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(s=s.concat(n.implicit)),n.explicit&&(o=o.concat(n.explicit));else throw new ss("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(l){if(!(l instanceof lt))throw new ss("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new ss("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new ss("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(l){if(!(l instanceof lt))throw new ss("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Ma.prototype);return r.implicit=(this.implicit||[]).concat(s),r.explicit=(this.explicit||[]).concat(o),r.compiledImplicit=Pu(r,"implicit"),r.compiledExplicit=Pu(r,"explicit"),r.compiledTypeMap=qb(r.compiledImplicit,r.compiledExplicit),r};var Hb=Ma,Vb=new lt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Ub=new lt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),Wb=new lt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),zb=new Hb({explicit:[Vb,Ub,Wb]});function Kb(t){if(t===null)return!0;var n=t.length;return n===1&&t==="~"||n===4&&(t==="null"||t==="Null"||t==="NULL")}function Yb(){return null}function Gb(t){return t===null}var Jb=new lt("tag:yaml.org,2002:null",{kind:"scalar",resolve:Kb,construct:Yb,predicate:Gb,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Zb(t){if(t===null)return!1;var n=t.length;return n===4&&(t==="true"||t==="True"||t==="TRUE")||n===5&&(t==="false"||t==="False"||t==="FALSE")}function Qb(t){return t==="true"||t==="True"||t==="TRUE"}function Xb(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var e3=new lt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Zb,construct:Qb,predicate:Xb,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function t3(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function n3(t){return 48<=t&&t<=55}function s3(t){return 48<=t&&t<=57}function o3(t){if(t===null)return!1;var n=t.length,s=0,o=!1,r;if(!n)return!1;if(r=t[s],(r==="-"||r==="+")&&(r=t[++s]),r==="0"){if(s+1===n)return!0;if(r=t[++s],r==="b"){for(s++;s<n;s++)if(r=t[s],r!=="_"){if(r!=="0"&&r!=="1")return!1;o=!0}return o&&r!=="_"}if(r==="x"){for(s++;s<n;s++)if(r=t[s],r!=="_"){if(!t3(t.charCodeAt(s)))return!1;o=!0}return o&&r!=="_"}if(r==="o"){for(s++;s<n;s++)if(r=t[s],r!=="_"){if(!n3(t.charCodeAt(s)))return!1;o=!0}return o&&r!=="_"}}if(r==="_")return!1;for(;s<n;s++)if(r=t[s],r!=="_"){if(!s3(t.charCodeAt(s)))return!1;o=!0}return!(!o||r==="_")}function r3(t){var n=t,s=1,o;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),o=n[0],(o==="-"||o==="+")&&(o==="-"&&(s=-1),n=n.slice(1),o=n[0]),n==="0")return 0;if(o==="0"){if(n[1]==="b")return s*parseInt(n.slice(2),2);if(n[1]==="x")return s*parseInt(n.slice(2),16);if(n[1]==="o")return s*parseInt(n.slice(2),8)}return s*parseInt(n,10)}function l3(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Si.isNegativeZero(t)}var a3=new lt("tag:yaml.org,2002:int",{kind:"scalar",resolve:o3,construct:r3,predicate:l3,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),i3=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function c3(t){return!(t===null||!i3.test(t)||t[t.length-1]==="_")}function u3(t){var n,s;return n=t.replace(/_/g,"").toLowerCase(),s=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:s*parseFloat(n,10)}var p3=/^[-+]?[0-9]+e/;function d3(t,n){var s;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Si.isNegativeZero(t))return"-0.0";return s=t.toString(10),p3.test(s)?s.replace("e",".e"):s}function f3(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Si.isNegativeZero(t))}var h3=new lt("tag:yaml.org,2002:float",{kind:"scalar",resolve:c3,construct:u3,predicate:f3,represent:d3,defaultStyle:"lowercase"}),y3=zb.extend({implicit:[Jb,e3,a3,h3]}),m3=y3,Hf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Vf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function g3(t){return t===null?!1:Hf.exec(t)!==null||Vf.exec(t)!==null}function v3(t){var n,s,o,r,l,a,i,c=0,p=null,d,f,h;if(n=Hf.exec(t),n===null&&(n=Vf.exec(t)),n===null)throw new Error("Date resolve error");if(s=+n[1],o=+n[2]-1,r=+n[3],!n[4])return new Date(Date.UTC(s,o,r));if(l=+n[4],a=+n[5],i=+n[6],n[7]){for(c=n[7].slice(0,3);c.length<3;)c+="0";c=+c}return n[9]&&(d=+n[10],f=+(n[11]||0),p=(d*60+f)*6e4,n[9]==="-"&&(p=-p)),h=new Date(Date.UTC(s,o,r,l,a,i,c)),p&&h.setTime(h.getTime()-p),h}function _3(t){return t.toISOString()}var w3=new lt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:g3,construct:v3,instanceOf:Date,represent:_3});function A3(t){return t==="<<"||t===null}var b3=new lt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:A3}),$i=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function E3(t){if(t===null)return!1;var n,s,o=0,r=t.length,l=$i;for(s=0;s<r;s++)if(n=l.indexOf(t.charAt(s)),!(n>64)){if(n<0)return!1;o+=6}return o%8===0}function D3(t){var n,s,o=t.replace(/[\r\n=]/g,""),r=o.length,l=$i,a=0,i=[];for(n=0;n<r;n++)n%4===0&&n&&(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)),a=a<<6|l.indexOf(o.charAt(n));return s=r%4*6,s===0?(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)):s===18?(i.push(a>>10&255),i.push(a>>2&255)):s===12&&i.push(a>>4&255),new Uint8Array(i)}function k3(t){var n="",s=0,o,r,l=t.length,a=$i;for(o=0;o<l;o++)o%3===0&&o&&(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]),s=(s<<8)+t[o];return r=l%3,r===0?(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]):r===2?(n+=a[s>>10&63],n+=a[s>>4&63],n+=a[s<<2&63],n+=a[64]):r===1&&(n+=a[s>>2&63],n+=a[s<<4&63],n+=a[64],n+=a[64]),n}function C3(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var x3=new lt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:E3,construct:D3,predicate:C3,represent:k3}),B3=Object.prototype.hasOwnProperty,S3=Object.prototype.toString;function $3(t){if(t===null)return!0;var n=[],s,o,r,l,a,i=t;for(s=0,o=i.length;s<o;s+=1){if(r=i[s],a=!1,S3.call(r)!=="[object Object]")return!1;for(l in r)if(B3.call(r,l))if(!a)a=!0;else return!1;if(!a)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function T3(t){return t!==null?t:[]}var O3=new lt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:$3,construct:T3}),P3=Object.prototype.toString;function I3(t){if(t===null)return!0;var n,s,o,r,l,a=t;for(l=new Array(a.length),n=0,s=a.length;n<s;n+=1){if(o=a[n],P3.call(o)!=="[object Object]"||(r=Object.keys(o),r.length!==1))return!1;l[n]=[r[0],o[r[0]]]}return!0}function M3(t){if(t===null)return[];var n,s,o,r,l,a=t;for(l=new Array(a.length),n=0,s=a.length;n<s;n+=1)o=a[n],r=Object.keys(o),l[n]=[r[0],o[r[0]]];return l}var R3=new lt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:I3,construct:M3}),L3=Object.prototype.hasOwnProperty;function F3(t){if(t===null)return!0;var n,s=t;for(n in s)if(L3.call(s,n)&&s[n]!==null)return!1;return!0}function N3(t){return t!==null?t:{}}var j3=new lt("tag:yaml.org,2002:set",{kind:"mapping",resolve:F3,construct:N3});m3.extend({implicit:[w3,b3],explicit:[x3,O3,R3,j3]});function Iu(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}var q3=new Array(256),H3=new Array(256);for(var Cs=0;Cs<256;Cs++)q3[Cs]=Iu(Cs)?1:0,H3[Cs]=Iu(Cs);function V3(t){return Array.from(new Set(t))}function Mu(...t){let n,s,o;t.length===1?(n=0,o=1,[s]=t):[n,s,o=1]=t;const r=[];let l=n;for(;l<s;)r.push(l),l+=o||1;return r}function Uf(t,n){if(!n||n==="all"||n==="*")return Mu(1,t+1);const s=[];for(const o of n.split(/[,;]/g))if(!o.includes("-"))s.push(+o);else{const[r,l]=o.split("-",2);s.push(...Mu(+r,l?+l+1:t+1))}return V3(s).filter(o=>o<=t).sort((o,r)=>o-r)}function Wf(t){const n=T(()=>t.value.path),s=T(()=>Ye.length),o=T(()=>Number.parseInt(n.value.split(/\//g).slice(-1)[0])||1),r=T(()=>pl(o.value)),l=T(()=>Ye.find(h=>h.path===`${o.value}`)),a=T(()=>{var h,y,m;return(m=(y=(h=l.value)==null?void 0:h.meta)==null?void 0:y.slide)==null?void 0:m.id}),i=T(()=>{var h,y;return((y=(h=l.value)==null?void 0:h.meta)==null?void 0:y.layout)||(o.value===1?"cover":"default")}),c=T(()=>Ye.find(h=>h.path===`${Math.min(Ye.length,o.value+1)}`)),p=T(()=>Ye.filter(h=>{var y,m;return(m=(y=h.meta)==null?void 0:y.slide)==null?void 0:m.title}).reduce((h,y)=>(Ti(h,y),h),[])),d=T(()=>Oi(p.value,l.value)),f=T(()=>Pi(d.value));return{route:t,path:n,total:s,currentPage:o,currentPath:r,currentRoute:l,currentSlideId:a,currentLayout:i,nextRoute:c,rawTree:p,treeWithActiveStatuses:d,tree:f,downloadPDF:La,next:Pn,nextSlide:Po,openInEditor:n5,prev:In,prevSlide:Io}}function zf(t,n,s){const o=K(0);st(()=>{_t.afterEach(async()=>{await st(),o.value+=1})});const r=T(()=>{var c,p;return o.value,((p=(c=n.value)==null?void 0:c.meta)==null?void 0:p.__clicksElements)||[]}),l=T(()=>{var c,p;return+(((p=(c=n.value)==null?void 0:c.meta)==null?void 0:p.clicks)??r.value.length)}),a=T(()=>s.value<Ye.length-1||t.value<l.value),i=T(()=>s.value>1||t.value>0);return{clicks:t,clicksElements:r,clicksTotal:l,hasNext:a,hasPrev:i}}const U3=["id"],W3=Ie({__name:"PrintSlideClick",props:{clicks:{type:Number,required:!0},clicksElements:{type:Array,required:!1},nav:{type:Object,required:!0},route:{type:Object,required:!0}},emits:["update:clicksElements"],setup(t,{emit:n}){const s=t,o=Zt(s,"clicksElements",n),r=T(()=>({height:`${_i}px`,width:`${$n}px`})),l=nn();Tn(()=>Promise.resolve().then(()=>y1),void 0).then(p=>l.value=p.default);const a=T(()=>s.clicks),i=zf(a,s.nav.currentRoute,s.nav.currentPage),c=T(()=>`${s.route.path.toString().padStart(3,"0")}-${(a.value+1).toString().padStart(2,"0")}`);return Et(N,He({nav:{...s.nav,...i},configs:Be,themeConfigs:T(()=>Be.themeConfig)})),(p,d)=>{var f;return D(),re("div",{id:c.value,class:"print-slide-container",style:rt(r.value)},[se(O(Ff)),se(O(xi),{is:(f=p.route)==null?void 0:f.component,"clicks-elements":O(o),"onUpdate:clicksElements":d[0]||(d[0]=h=>Se(o)?o.value=h:null),clicks:a.value,"clicks-disabled":!1,class:Ue(O(Ci)(p.route)),route:p.route},null,8,["is","clicks-elements","clicks","class","route"]),l.value?(D(),R(O(l),{key:0,page:+p.route.path},null,8,["page"])):Ee("v-if",!0),se(O(Lf))],12,U3)}}}),Ru=j(W3,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintSlideClick.vue"]]),z3=Ie({__name:"PrintSlide",props:{route:{type:Object,required:!0}},setup(t){var l;const n=t;I(N);const s=K(((l=n.route.meta)==null?void 0:l.__clicksElements)||[]),o=T(()=>n.route),r=Wf(o);return(a,i)=>(D(),re($e,null,[se(Ru,{"clicks-elements":s.value,"onUpdate:clicksElements":i[0]||(i[0]=c=>s.value=c),clicks:0,nav:O(r),route:o.value},null,8,["clicks-elements","nav","route"]),O(mo)?Ee("v-if",!0):(D(!0),re($e,{key:0},Fs(s.value.length,c=>(D(),R(Ru,{key:c,clicks:c,nav:O(r),route:o.value},null,8,["clicks","nav","route"]))),128))],64))}}),K3=j(z3,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintSlide.vue"]]),Y3={id:"print-content"},G3=Ie({__name:"PrintContainer",props:{width:{type:Number,required:!0}},setup(t){const n=t;I(N);const s=T(()=>n.width),o=T(()=>n.width/Sn),r=T(()=>s.value/o.value),l=T(()=>r.value<Sn?s.value/$n:o.value*Sn/$n);let a=Ye;Rt.value.query.range&&(a=Uf(a.length,Rt.value.query.range).map(p=>a[p-1]));const i=T(()=>({"select-none":!Be.selectable}));return Et(Nd,l),(c,p)=>(D(),re("div",{id:"print-container",class:Ue(i.value)},[e("div",Y3,[(D(!0),re($e,null,Fs(O(a),d=>(D(),R(K3,{key:d.path,route:d},null,8,["route"]))),128))]),Ln(c.$slots,"controls")],2))}});const J3=j(G3,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintContainer.vue"]]),Z3=Ie({__name:"Print",setup(t){return I(N),_s(()=>{Rs?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(n,s)=>(D(),re($e,null,[O(Rs)?(D(),R(Nf,{key:0})):Ee("v-if",!0),e("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:rt(O(wi))},[se(J3,{class:"w-full h-full",style:rt({background:"var(--slidev-slide-container-background, black)"}),width:O(hs).width.value},null,8,["style","width"])],4)],64))}});const Q3=j(Z3,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Print.vue"]]);const X3="/owasp-top-ten-workshop/images/nearform.svg",eE="/owasp-top-ten-workshop/assets/owasp-8902e583.png",tE={class:"slidev-layout default"},nE={__name:"default",setup(t){return I(N),(n,s)=>(D(),re("div",tE,[Ln(n.$slots,"default")]))}},Z=j(nE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/layouts/default.vue"]]),sE=e("img",{class:"logo",src:X3},null,-1),oE=e("h1",null,"OWASP Top Ten Security Vulnerabilities Workshop",-1),rE=e("img",{src:eE,style:{width:"30%"}},null,-1),lE=e("div",{class:"copyright"},[e("p",null," Copyright 2022 NearForm Ltd. All Rights Reserved.")],-1),aE={__name:"1",setup(t){const n={theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[sE,oE,rE,lE]),_:1},16))}},iE=j(aE,[["__file","/@slidev/slides/1.md"]]),cE=e("h1",null,"Introduction: OWASP ",-1),uE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("p",null,[u("The Open Web Application Security Project ("),e("strong",null,"OWASP"),u(") is a "),e("strong",null,"non profit"),u(" foundation that works to improve the security of software")])]),e("li",null,[e("p",null,[u("OWASP has community-led "),e("strong",null,"open-source"),u(" software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences")])])])],-1),pE={__name:"2",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[cE,uE]),_:1},16))}},dE=j(pE,[["__file","/@slidev/slides/2.md"]]),fE=e("h1",null,"Introduction: OWASP Top Ten",-1),hE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("The "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/",target:"_blank",rel:"noopener"},"OWASP Top Ten")]),u(" is a standard awareness document for developers and web application security")]),e("li",null,"It represents a broad consensus about the most critical security risks to web applications")])],-1),yE={__name:"3",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[fE,hE]),_:1},16))}},mE=j(yE,[["__file","/@slidev/slides/3.md"]]),gE=e("h1",null,"Workshop Setup",-1),vE=e("div",{class:"dense"},[e("ul",null,[e("li",null,"This workshop will explain each of the 10 vulnerabilities"),e("li",null,"There is a Fastify node.js server demonstrating the security issues"),e("li",null,"At each step you are asked to fix the vulnerability in the server"),e("li",null,[u("You will find the solution to each step in the file "),e("code",null,"solution.js"),u(" inside "),e("code",null,"src/a{n}-{name}"),u(" folder (the actual path may vary)")]),e("li",null,"The  icon indicates hints")])],-1),_E={__name:"4",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[gE,vE]),_:1},16))}},wE=j(_E,[["__file","/@slidev/slides/4.md"]]),AE={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},bE=e("path",{fill:"currentColor",d:"M200 32h-36.26a47.92 47.92 0 0 0-71.48 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32 32 0 0 1 32 32H96a32 32 0 0 1 32-32Zm72 184H56V48h26.75A47.93 47.93 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.93 47.93 0 0 0-2.75-16H200Z"},null,-1),EE=[bE];function DE(t,n){return D(),re("svg",AE,EE)}const kE={name:"ph-clipboard",render:DE},CE={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},xE=e("path",{fill:"currentColor",d:"M173.66 98.34a8 8 0 0 1 0 11.32l-56 56a8 8 0 0 1-11.32 0l-24-24a8 8 0 0 1 11.32-11.32L112 148.69l50.34-50.35a8 8 0 0 1 11.32 0ZM232 128A104 104 0 1 1 128 24a104.11 104.11 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),BE=[xE];function SE(t,n){return D(),re("svg",CE,BE)}const $E={name:"ph-check-circle",render:SE},TE=["title"],OE=Ie({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},startLine:{type:Number,default:1},lines:{type:Boolean,default:Be.lineNumbers},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(t){const n=t;I(N);const s=I(uo),o=I(es),r=I(po);function l(f=5){const h=[],y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m=y.length;for(let w=0;w<f;w++)h.push(y.charAt(Math.floor(Math.random()*m)));return h.join("")}const a=K(),i=Bt();qn(()=>{const f=n.at==null?o==null?void 0:o.value.length:n.at,h=T(()=>r!=null&&r.value?n.ranges.length-1:Math.min(Math.max(0,((s==null?void 0:s.value)||0)-(f||0)),n.ranges.length-1)),y=T(()=>n.ranges[h.value]||"");if(n.ranges.length>=2&&!(r!=null&&r.value)){const m=l(),w=l6(n.ranges.length-1).map(A=>m+A);o!=null&&o.value&&(o.value.push(...w),ll(()=>w.forEach(A=>ya(o.value,A)),i))}_s(()=>{if(!a.value)return;const w=a.value.querySelector(".shiki-dark")?Array.from(a.value.querySelectorAll(".shiki")):[a.value],A=n.startLine;for(const b of w){const E=Array.from(b.querySelectorAll(".line")),_=Uf(E.length+A-1,y.value);if(E.forEach((k,C)=>{const B=_.includes(C+A);k.classList.toggle(Jn,!0),k.classList.toggle("highlighted",B),k.classList.toggle("dishonored",!B)}),n.maxHeight){const k=Array.from(b.querySelectorAll(".line.highlighted"));k.reduce((B,F)=>F.offsetHeight+B,0)>a.value.offsetHeight?k[0].scrollIntoView({behavior:"smooth",block:"start"}):k.length>0&&k[Math.round((k.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:c,copy:p}=lv();function d(){var h,y;const f=(y=(h=a.value)==null?void 0:h.querySelector(".slidev-code"))==null?void 0:y.textContent;f&&p(f)}return(f,h)=>{const y=$E,m=kE;return D(),re("div",{ref_key:"el",ref:a,class:Ue(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":n.lines}]),style:rt({"max-height":n.maxHeight,"overflow-y":n.maxHeight?"scroll":void 0,"--start":n.startLine})},[Ln(f.$slots,"default"),O(Be).codeCopy?(D(),re("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:O(c)?"Copied":"Copy",onClick:h[0]||(h[0]=w=>d())},[O(c)?(D(),R(y,{key:0,class:"p-2 w-8 h-8"})):(D(),R(m,{key:1,class:"p-2 w-8 h-8"}))],8,TE)):Ee("v-if",!0)],6)}}}),Xe=j(OE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),PE=e("h1",null,"Getting setup",-1),IE={class:"dense"},ME=e("h4",null,"Requirements",-1),RE=e("br",null,null,-1),LE=e("ul",null,[e("li",null,"Node LTS"),e("li",null,"docker"),e("li",null,"docker-compose"),e("li",null,"Postman (if you want to be able to test vulnerabilities)")],-1),FE=e("h4",null,"Setup",-1),NE=e("br",null,null,-1),jE=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"git"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"clone"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"https://github.com/nearform/owasp-top-ten-workshop")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"ci")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"run"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"db:up")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"run"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"db:migrate")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"git"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"clone"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"https://github.com/nearform/owasp-top-ten-workshop")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"ci")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"run"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"db:up")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"run"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"db:migrate")])])])],-1),qE={__name:"5",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[PE,e("div",IE,[ME,RE,LE,FE,NE,se(r,Ve({},{ranges:[""]}),{default:L(()=>[jE]),_:1},16)])]),_:1},16)}}},HE=j(qE,[["__file","/@slidev/slides/5.md"]]),VE=e("h1",null,"Running the modules",-1),UE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("code",null,"cd src/a{x}-step-name")]),e("li",null,[e("code",null,"npm start"),u(" will run the server ready to respond to requests")]),e("li",null,[e("code",null,"npm run verify"),u(" will run automated tests that fail by default until this steps issue is solved")]),e("li",null,"Check out README.md in the projects for potential additional info")])],-1),WE=e("h3",null,"Example",-1),zE=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#B8A965"}},"cd"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"src/a01-access-control")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"start")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#998418"}},"cd"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"src/a01-access-control")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"start")])])])],-1),KE=e("p",null,[u("The server for that step will run on "),e("a",{href:"http://localhost:3000",target:"_blank",rel:"noopener"},"http://localhost:3000")],-1),YE={__name:"6",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[VE,UE,WE,se(r,Ve({},{ranges:[""]}),{default:L(()=>[zE]),_:1},16),KE]),_:1},16)}}},GE=j(YE,[["__file","/@slidev/slides/6.md"]]),JE=e("h1",null,"Testing the vulnerabilities",-1),ZE=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests"),e("li",null,[u("The "),e("code",null,"postman"),u(" folder contains a collection that can be imported into Postman to easily send those requests")]),e("li",null,[u("The Postman collection is pre-logged in with user "),e("code",null,"alice"),u(". The "),e("code",null,"Bearer token"),u(" is set that represents "),e("code",null,"alice"),u(".")])])],-1),QE={__name:"7",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[JE,ZE]),_:1},16))}},XE=j(QE,[["__file","/@slidev/slides/7.md"]]),eD=e("h1",null,"Automated testing",-1),tD=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities have automated tests which verify the presence of the vulnerability"),e("li",null,"Those tests will fail until you fix the vulnerability"),e("li",null,[e("code",null,"npm run verify"),u(" in a steps folder")])])],-1),nD={__name:"8",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[eD,tD]),_:1},16))}},sD=j(nD,[["__file","/@slidev/slides/8.md"]]),oD=e("h1",null,"A01 Broken Access Control",-1),rD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A01_2021-Broken_Access_Control/",target:"_blank",rel:"noopener"},"AO1:2021 - Broken Access Control")]),e("li",null,"User should only act based on specific permissions"),e("li",null,"Incorrect permissions -> unauthorised access of data")])],-1),lD={__name:"9",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[oD,rD]),_:1},16))}},aD=j(lD,[["__file","/@slidev/slides/9.md"]]),iD=e("h1",null,"A01 Common vulnerabilities",-1),cD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Not applying principle of "),e("strong",null,"least privilege")]),e("li",null,"Checks can be bypassed by tampering with page or request"),e("li",null,"Allowing access to someone elses info by knowing the UUID"),e("li",null,"CORS allows untrusted origins")])],-1),uD={__name:"10",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[iD,cD]),_:1},16))}},pD=j(uD,[["__file","/@slidev/slides/10.md"]]),dD=e("h1",null,"A01 How to Prevent",-1),fD=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Deny access by default"),e("li",null,"Avoid duplication of access control logic"),e("li",null,[u("Enforce "),e("strong",null,"user ownership"),u(" when manipulating data")])])],-1),hD={__name:"11",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[dD,fD]),_:1},16))}},yD=j(hD,[["__file","/@slidev/slides/11.md"]]),mD=e("h1",null,"A01 Exercise",-1),gD={class:"dense"},vD=e("ul",null,[e("li",null,[u("The "),e("code",null,"/profile"),u(" route returns sensitive user data")]),e("li",null,[u("It takes a "),e("code",null,"username"),u(" query parameter to return the users info")])],-1),_D=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#dbd7caee"}},"GET http://localhost:3000/profile?username=alice")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#393a34"}},"GET http://localhost:3000/profile?username=alice")])])])],-1),wD=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"23")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"23")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),AD={__name:"12",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[mD,e("div",gD,[vD,_D,se(r,Ve({},{ranges:[""]}),{default:L(()=>[wD]),_:1},16)])]),_:1},16)}}},bD=j(AD,[["__file","/@slidev/slides/12.md"]]),ED=e("h1",null,"A01 The problem",-1),DD={class:"dense"},kD=e("ul",null,[e("li",null,[u("Run the server for step 1 ("),e("code",null,"cd src/a01-access-control"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,"In Postman, run the query for A01: Access Control. Observe the data for Alice being returned"),e("li",null,[u("Now change the "),e("code",null,"username"),u(" query parameter to "),e("code",null,"bob"),u(". Result:")])],-1),CD=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"31")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"31")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),xD=e("ul",null,[e("li",null,"Bobs data is being exposed! Remember were logged in as Alice and shouldnt see Bobs data")],-1),BD={__name:"13",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[ED,e("div",DD,[kD,se(r,Ve({},{ranges:[""]}),{default:L(()=>[CD]),_:1},16),xD])]),_:1},16)}}},SD=j(BD,[["__file","/@slidev/slides/13.md"]]),$D=e("h1",null,"A01 Fixing it ",-1),TD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the automated tests for step 1 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldnt return Bobs data"),e("li",null,[u("Edit the "),e("code",null,"/profile"),u(" route in the exercise folder to return only the "),e("code",null,"logged-in"),u(" users profile without exposing other peoples profiles")]),e("li",null,[u(" The server uses "),e("a",{href:"https://github.com/fastify/fastify-jwt",target:"_blank",rel:"noopener"},"fastify-jwt"),u(" to handle authentication")])])],-1),OD={__name:"14",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[$D,TD]),_:1},16))}},PD=j(OD,[["__file","/@slidev/slides/14.md"]]),ID=e("h1",null,"A01 Solution ",-1),MD={class:"dense"},RD=e("ul",null,[e("li",null,[u("The issue comes from the usage of a user-supplied "),e("code",null,"query"),u(" parameter to choose which profiles info to check")]),e("li",null,[u("The server should instead fetch the only the "),e("code",null,"logged-in"),u(" users info and reply with "),e("code",null,"403"),u(" in other cases")])],-1),LD=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"//  We get the username from the logged in user, not from the query!")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"query"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// if does not match with the user's one, return a 403 Forbidden error")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"//  We get the username from the logged in user, not from the query!")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// if does not match with the user's one, return a 403 Forbidden error")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),FD={__name:"15",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[ID,e("div",MD,[RD,se(r,Ve({},{ranges:[""]}),{default:L(()=>[LD]),_:1},16)])]),_:1},16)}}},ND=j(FD,[["__file","/@slidev/slides/15.md"]]),jD=e("h1",null,"A02 Cryptographic Failures",-1),qD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A02_2021-Cryptographic_Failures/",target:"_blank",rel:"noopener"},"A02: Cryptographic Failures")]),e("li",null,[u("Weak or inexistent "),e("strong",null,"cryptography"),u(" of sensitive data")]),e("li",null,"Passwords, credit card numbers, health records, personal information, business secrets"),e("li",null,"Anything protected by privacy laws or other regulations")])],-1),HD={__name:"16",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[jD,qD]),_:1},16))}},VD=j(HD,[["__file","/@slidev/slides/16.md"]]),UD=e("h1",null,"A02 Common vulnerabilities",-1),WD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Weak or outdated cryptographic algorithms like "),e("strong",null,"md5 ")]),e("li",null,"Weak secret keys, default ones, keys from online tutorials, keys checked in source control"),e("li",null,[u("Lack of traffic encryption ("),e("strong",null,"HTTPS"),u(")")]),e("li",null,"Insufficient entropy in seed generation")])],-1),zD={__name:"17",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[UD,WD]),_:1},16))}},KD=j(zD,[["__file","/@slidev/slides/17.md"]]),YD=e("h1",null,"A02 How to Prevent",-1),GD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Check sensitive data is well "),e("strong",null,"encrypted"),u(". Avoid storing sensitive data unnecessarily")]),e("li",null,"Use up to date and strong standard algorithms"),e("li",null,[u("Proper key/secrets management ("),e("strong",null,"private keys in git "),u(")")]),e("li",null,"Disable caching for responses that contain sensitive data")])],-1),JD={__name:"18",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[YD,GD]),_:1},16))}},ZD=j(JD,[["__file","/@slidev/slides/18.md"]]),QD=e("h1",null,"A02 A weak hashing algorithm",-1),XD={class:"dense"},e7=e("ul",null,[e("li",null,[u("The "),e("code",null,"/all-data"),u(" endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach")]),e("li",null,[u("Result of the "),e("code",null,"all-data"),u(" endpoint")])],-1),t7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"[")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"]")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"[")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#B5695999"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#B5695999"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"]")])])])],-1),n7={__name:"19",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[QD,e("div",XD,[e7,se(r,Ve({},{ranges:[""]}),{default:L(()=>[t7]),_:1},16)])]),_:1},16)}}},s7=j(n7,[["__file","/@slidev/slides/19.md"]]),o7=e("h1",null,"A02 The problem",-1),r7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Using the "),e("code",null,"/all-data"),u(" route, find Alices hashed password")]),e("li",null,"With this password hash, try to find the original password Alice created"),e("li",null,"the Postman collection contains requests for doing the queries"),e("li",null," There are websites to decrypt md5")])],-1),l7={__name:"20",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[o7,r7]),_:1},16))}},a7=j(l7,[["__file","/@slidev/slides/20.md"]]),i7=e("h1",null,"A02 Fixing it ",-1),c7=e("div",{class:"dense"},[e("ul",null,[e("li",null,"md5 hash is vulnerable and shouldnt be used"),e("li",null,[u("In "),e("code",null,"src/a02-cryptographic-failure"),u(", fix the hashing algorithm used to be a strong algorithm instead of md5")]),e("li",null,[u("Using "),e("a",{href:"https://www.npmjs.com/package/bcrypt",target:"_blank",rel:"noopener"},"bcrypt"),u(" is a good idea for passwords")]),e("li",null,[u("The application exposes a "),e("code",null,"/change-password"),u(" route used to change a users password")])])],-1),u7={__name:"21",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[i7,c7]),_:1},16))}},p7=j(u7,[["__file","/@slidev/slides/21.md"]]),d7=e("h1",null,"A02 Solution ",-1),f7={class:"dense"},h7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/crypto.js")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"hash"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"compare"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"bcrypt"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"saltRounds"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"10")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"hashPassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"hash"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"saltRounds"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/crypto.js")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"compare"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"bcrypt"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"10")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"hashPassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"hash"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),y7={__name:"22",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[d7,e("div",f7,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[h7]),_:1},16)])]),_:1},16)}}},m7=j(y7,[["__file","/@slidev/slides/22.md"]]),g7=e("h1",null,"A02 Solution  (2)",-1),v7={class:"dense"},_7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/crypto.js")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"hash"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"compare"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"hash"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/crypto.js")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"compare"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),w7={__name:"23",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[g7,e("div",v7,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[_7]),_:1},16)])]),_:1},16)}}},A7=j(w7,[["__file","/@slidev/slides/23.md"]]),b7=e("h1",null,"A03 Injection ",-1),E7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A03_2021-Injection/",target:"_blank",rel:"noopener"},"A03: Injection")]),e("li",null,"Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server"),e("li",null,"Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover."),e("li",null,[u("Common targets: "),e("strong",null,"SQL, NoSQL, ORM, LDAP, JS eval")])])],-1),D7={__name:"24",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[b7,E7]),_:1},16))}},k7=j(D7,[["__file","/@slidev/slides/24.md"]]),C7=e("h1",null,"A03 Common vulnerabilities",-1),x7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Lack of validation or "),e("strong",null,"sanitization"),u(" of user input")]),e("li",null,[u("Dynamic queries or non-parameterized calls without context-aware "),e("strong",null,"escaping"),u(" are used directly in the interpreter")]),e("li",null,[u("Hostile data is used within object-relational mapping (ORM) "),e("strong",null,"search parameters"),u(" to extract additional, sensitive records")])])],-1),B7={__name:"25",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[C7,x7]),_:1},16))}},S7=j(B7,[["__file","/@slidev/slides/25.md"]]),$7=e("h1",null,"A03 Attack",-1),T7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 3 ("),e("code",null,"cd src/a03-injection"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A03: Get customer by name"),u(". Observe the data for "),e("code",null,'name: "alice"'),u(" being returned")]),e("li",null,[u("Try to run the query for "),e("code",null,"A03: SQL Injection"),u(". Observe all the customers being returned")]),e("li",null,[u("The query param value "),e("code",null,"' OR '1'='1"),u(" takes advantage of the unsafe string concatenation to create this SQL query "),e("code",null,"SELECT * FROM customers WHERE name='' OR '1'='1'"),u(" which will return every record in the table")])])],-1),O7={__name:"26",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[$7,T7]),_:1},16))}},P7=j(O7,[["__file","/@slidev/slides/26.md"]]),I7=e("h1",null,"A03 Fixing it ",-1),M7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u(" Prefer using a safe API that "),e("strong",null,"sanitizes input"),u(" e.g "),e("code",null,"@nearform/sql")]),e("li",null,[e("strong",null,"Escape special characters"),u(" using the specific escape syntax for that interpreter")]),e("li",null,"Avoid user-supplied table names or column names as they cannot be escaped"),e("li",null,[e("strong",null,"Automated testing"),u(" of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged")])])],-1),R7={__name:"27",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[I7,M7]),_:1},16))}},L7=j(R7,[["__file","/@slidev/slides/27.md"]]),F7=e("h1",null,"A03 Solution ",-1),N7={class:"dense"},j7=e("ul",null,[e("li",null,[u("The "),e("code",null,"@nearform/sql"),u(" library escapes special characters contained in the users input")])],-1),q7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// import SQL from '@nearform/sql'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"customer"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/customer"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"name"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"query")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"customers"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"name"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"customers"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#B8A965"}},"length"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"customers")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// import SQL from '@nearform/sql'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"customer"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/customer"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"name"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"name"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#998418"}},"length"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),H7={__name:"28",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[F7,e("div",N7,[j7,se(r,Ve({},{ranges:[""]}),{default:L(()=>[q7]),_:1},16)])]),_:1},16)}}},V7=j(H7,[["__file","/@slidev/slides/28.md"]]),U7=e("h1",null,"A04 Insecure Design",-1),W7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A04_2021-Insecure_Design/",target:"_blank",rel:"noopener"},"A04: Insecure Design")]),e("li",null,[u("Fundamental "),e("strong",null,"design flaws"),u(" of the software can cause security issues")]),e("li",null,"Those issues cannot be fixed by a better more secure code implementation"),e("li",null,"Failure to determine the level of security required during design")])],-1),z7={__name:"29",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[U7,W7]),_:1},16))}},K7=j(z7,[["__file","/@slidev/slides/29.md"]]),Y7=e("h1",null,"A04 Examples",-1),G7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("A forgotten password flow with "),e("strong",null,[e("em",null,'"security questions"')]),u(" is insecure by design because more than one person can know the answer")]),e("li",null,"An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)"),e("li",null,[u("A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make "),e("strong",null,"hundreds of small booking requests"),u(" at once to block all seats, causing massive revenue loss")])])],-1),J7={__name:"30",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Y7,G7]),_:1},16))}},Z7=j(J7,[["__file","/@slidev/slides/30.md"]]),Q7=e("h1",null,"A04 How to prevent",-1),X7=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Model threats for the application, all its flows and business logic"),e("li",null,"Continuously evaluate security requirement and design during the development lifecycle"),e("li",null,"Consider security rules and access controls for every user story"),e("li",null,[e("strong",null,"Use unit and integration tests"),u(" to verify the application is resistant to the threat model")])])],-1),ek={__name:"31",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Q7,X7]),_:1},16))}},tk=j(ek,[["__file","/@slidev/slides/31.md"]]),nk=e("h1",null,"A04 Exercise",-1),sk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("The "),e("code",null,"/buy-product"),u(" endpoint does not have protection against bots run by scalpers")]),e("li",null,"It means that someone can buy a lot of stock quickly and leave legitimate customers without any")])],-1),ok={__name:"32",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[nk,sk]),_:1},16))}},rk=j(ok,[["__file","/@slidev/slides/32.md"]]),lk=e("h1",null,"A04 Scalping",-1),ak=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 4 ("),e("code",null,"cd src/a04-insecure-design"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A04: Buy product"),u(". Observe the data for "),e("code",null,"success: true"),u(" being returned")]),e("li",null,"Run the query many times in a row in a short period of time"),e("li",null,"Notice that there is no protection against multiple sequential purchases")])],-1),ik={__name:"33",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[lk,ak]),_:1},16))}},ck=j(ik,[["__file","/@slidev/slides/33.md"]]),uk=e("h1",null,"A04 Fixing it ",-1),pk=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Prefer using rate limiter for your routes"),e("li",null,[u(" Using "),e("a",{href:"https://github.com/fastify/fastify-rate-limit",target:"_blank",rel:"noopener"},[e("code",null,"fastify-rate-limit")]),u(" is a good idea for setting a rate limit")]),e("li",null,"Lets consider a scenario where a user can buy a maximum of two products per minute"),e("li",null,[u("Edit the "),e("code",null,"/buy-product"),u(" route in the exercise folder considering the scenario above")])])],-1),dk={__name:"34",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[uk,pk]),_:1},16))}},fk=j(dk,[["__file","/@slidev/slides/34.md"]]),hk=e("h1",null,"A04 Solution ",-1),yk={class:"dense"},mk=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// register the rateLimit plugin in the server.js file")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"register"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"rateLimit"),e("span",{style:{color:"#666666"}},")")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// register the rateLimit plugin in the server.js file")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"register"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"rateLimit"),e("span",{style:{color:"#999999"}},")")])])])],-1),gk=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// the rate limit is set to a maximum of two purchases per minute")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"ecommerce"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/buy-product"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"config"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"rateLimit"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"max"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"timeWindow"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"1 minute"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"reply"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BD976A"}},"reply"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"({"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#B8A965"}},"success"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// the rate limit is set to a maximum of two purchases per minute")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"ecommerce"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/buy-product"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"config"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"rateLimit"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"max"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"timeWindow"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"1 minute"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"({"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#998418"}},"success"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),vk={__name:"35",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[hk,e("div",yk,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[mk]),_:1},16),se(r,Ve({},{ranges:[""]}),{default:L(()=>[gk]),_:1},16)])]),_:1},16)}}},_k=j(vk,[["__file","/@slidev/slides/35.md"]]),wk=e("h1",null,"A05 Security Misconfiguration",-1),Ak=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk"),e("li",null,[e("strong",null,"Badly configured"),u(" servers or services can lead to vulnerabilities")]),e("li",null,"With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration")])],-1),bk={__name:"36",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[wk,Ak]),_:1},16))}},Ek=j(bk,[["__file","/@slidev/slides/36.md"]]),Dk=e("h1",null,"A05 Common Vulnerabilities",-1),kk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Improperly configured "),e("strong",null,"permissions"),u(" or security settings")]),e("li",null,"Unnecessary features enabled: open ports, services, accounts with elevated accesss"),e("li",null,[e("strong",null,"Default credentials"),u(" unchanged")]),e("li",null,"Out of date or vulnerable server"),e("li",null,"Stack trace from error handling revealing information to users")])],-1),Ck={__name:"37",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Dk,kk]),_:1},16))}},xk=j(Ck,[["__file","/@slidev/slides/37.md"]]),Bk=e("h1",null,"A05 How to prevent",-1),Sk=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Repeatable, automated and fast to deploy environments"),e("li",null,"Different credentials should be used in each environment"),e("li",null,"Frequently review security updates, patches and permissions"),e("li",null,[u("A "),e("strong",null,"segmented architecture"),u(" increases security by separating components, tenants, containers or cloud security groups")]),e("li",null,[u("An automated "),e("strong",null,"test"),u(" to verify the effectiveness of the configurations")])])],-1),$k={__name:"38",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Bk,Sk]),_:1},16))}},Tk=j($k,[["__file","/@slidev/slides/38.md"]]),Ok=e("h1",null,"A05 Unsigned Cookies ",-1),Pk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 5 ("),e("code",null,"cd src/a05-security-misconfiguration"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A05: Login"),u(". Observe a cookie with "),e("code",null,"userId=1"),u(" being returned")]),e("li",null,[u("Try to run the query for "),e("code",null,"A05: Profile"),u(". Observe the information about profile with "),e("code",null,"userId=1"),u(" being returned")]),e("li",null,[u("Try to "),e("a",{href:"https://learning.postman.com/docs/sending-requests/cookies/",target:"_blank",rel:"noopener"},"change the value of the cookie"),u(" to "),e("code",null,"userId=2"),u(". Observe information about "),e("code",null,"userId=2"),u(" being returned")])])],-1),Ik={__name:"39",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Ok,Pk]),_:1},16))}},Mk=j(Ik,[["__file","/@slidev/slides/39.md"]]),Rk=e("h1",null,"A05 Fixing it ",-1),Lk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u(" Cookie must always be "),e("strong",null,[e("a",{href:"https://github.com/fastify/fastify-cookie",target:"_blank",rel:"noopener"},"signed")]),u(" to ensure they are not getting tampered with on client-side by an attacker")]),e("li",null,[u("Its important to use "),e("strong",null,"httpOnly"),u(" cookies to prevent the cookie being accessed through client side script")]),e("li",null,[u("Store the "),e("strong",null,"signing secret"),u(" safely.")]),e("li",null,"Dont store sentive information in cleartext")])],-1),Fk={__name:"40",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Rk,Lk]),_:1},16))}},Nk=j(Fk,[["__file","/@slidev/slides/40.md"]]),jk=e("h1",null,"A05 Solution ",-1),qk={class:"dense"},Hk=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"login"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/login"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"schema"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"},"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"rep"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"username"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"No matching user found"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"passwordMatch"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"passwordMatch"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"Invalid Password"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BD976A"}},"rep"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"setCookie"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"userId"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"stringify"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"id"),e("span",{style:{color:"#666666"}},"),"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"signed"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"//  signing the cookie")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"httpOnly"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// http only")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"user logged in"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"login"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/login"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"schema"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"},"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"username"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"No matching user found"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"Invalid Password"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"setCookie"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"userId"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"stringify"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},"),"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"signed"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"//  signing the cookie")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"httpOnly"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// http only")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"user logged in"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Vk={__name:"41",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[jk,e("div",qk,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[Hk]),_:1},16)])]),_:1},16)}}},Uk=j(Vk,[["__file","/@slidev/slides/41.md"]]),Wk=e("h1",null,"A05 Solution  (2)",-1),zk={class:"dense"},Kk=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profile"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"value"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"id"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"valid"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"unsignCookie"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"//unsign the cookie and check validity")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BD976A"}},"cookies"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BD976A"}},"userId"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"||"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"''")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"valid"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"// check if the cookie has been tampered")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"id"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profile"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"value"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"unsignCookie"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"//unsign the cookie and check validity")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"userId"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"||"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"''")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"// check if the cookie has been tampered")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"id"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Yk={__name:"42",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[Wk,e("div",zk,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[Kk]),_:1},16)])]),_:1},16)}}},Gk=j(Yk,[["__file","/@slidev/slides/42.md"]]),Jk=e("h1",null,"A06 Vulnerable and Outdated Components",-1),Zk=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Applications use a variety of components and libraries which can have security issues"),e("li",null,"Vulnerable components can be an attack vector until they are patched"),e("li",null,[u("Particularly relevant in the node.js world with an ever-growing "),e("strong",null,"NPM dependency tree")])])],-1),Qk={__name:"43",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Jk,Zk]),_:1},16))}},Xk=j(Qk,[["__file","/@slidev/slides/43.md"]]),eC=e("h1",null,"A06 Common Vulnerabilities",-1),tC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Not "),e("strong",null,"tracking versions"),u(" of used components, including nested dependencies")]),e("li",null,"Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes"),e("li",null,[u("Not "),e("strong",null,"scanning for vulnerabilities"),u(" regularly and subscribing to security news for used components")]),e("li",null,"Not fixing vulnerable dependencies in a timely fashion")])],-1),nC={__name:"44",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[eC,tC]),_:1},16))}},sC=j(nC,[["__file","/@slidev/slides/44.md"]]),oC=e("h1",null,"A06 How to prevent",-1),rC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Remove "),e("strong",null,"unused dependencies"),u(", unnecessary features, components, files, and documentation")]),e("li",null,"Continuously inventory the versions of components and their dependencies"),e("li",null,[u("Monitor for libraries and components that are "),e("strong",null,"unmaintained"),u(" or do not create security patches for older versions")]),e("li",null,[u("Only obtain components from "),e("strong",null,"official"),u(" sources over secure links")])])],-1),lC={__name:"45",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[oC,rC]),_:1},16))}},aC=j(lC,[["__file","/@slidev/slides/45.md"]]),iC=e("h1",null,"A06 The attack ",-1),cC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 6 ("),e("code",null,"cd src/a06-vulnerable-outdated"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A06: Profile"),u(". Observe error "),e("code",null,"404"),u(" being returned")]),e("li",null,[u("Try to run the query for "),e("code",null,"A06: Exploit vulnerability"),u(". Observe the error message response")])])],-1),uC={__name:"46",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[iC,cC]),_:1},16))}},pC=j(uC,[["__file","/@slidev/slides/46.md"]]),dC=e("h1",null,"A06 The attack (2)",-1),fC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Because of an outdated version of the HTTP client library "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici",target:"_blank",rel:"noopener"},"undici")]),u(" we can exploit a known "),e("strong",null,[e("a",{href:"https://www.cvedetails.com/cve/CVE-2022-35949/",target:"_blank",rel:"noopener"},"vulnerability")])]),e("li",null,[u("By passing the value "),e("code",null,"//127.0.0.1"),u(" in the username query param, we override the original hostname and we can make the server perform a GET to "),e("code",null,"127.0.0.1:80")])])],-1),hC={__name:"47",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[dC,fC]),_:1},16))}},yC=j(hC,[["__file","/@slidev/slides/47.md"]]),mC=e("h1",null,"A06 Fixing it ",-1),gC=e("div",{class:"dense"},[e("ul",null,[e("li",null," Update the library to a version in which this vulnerability was fixed")])],-1),vC={__name:"48",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[mC,gC]),_:1},16))}},_C=j(vC,[["__file","/@slidev/slides/48.md"]]),wC=e("h1",null,"A06 The Solution ",-1),AC={class:"dense"},bC=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"request"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"undici"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// updated undici version >= 5.8.1")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"query")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"/"),e("span",{style:{color:"#4D9375"}},"^"),e("span",{style:{color:"#E6CC77"}},"\\/"),e("span",{style:{color:"#C98A7D99"}},"/"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"test"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},"))"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"        "),e("span",{style:{color:"#758575DD"}},"// check username doesn't start with /")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"body"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"({")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"origin"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://example.com"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"pathname"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"username")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"200"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"request"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"undici"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// updated undici version >= 5.8.1")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"/"),e("span",{style:{color:"#1E754F"}},"^"),e("span",{style:{color:"#BDA437"}},"\\/"),e("span",{style:{color:"#B5695999"}},"/"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"test"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},"))"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"        "),e("span",{style:{color:"#A0ADA0"}},"// check username doesn't start with /")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"({")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"origin"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"http://example.com"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"pathname"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"200"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),EC={__name:"49",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[wC,e("div",AC,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[bC]),_:1},16)])]),_:1},16)}}},DC=j(EC,[["__file","/@slidev/slides/49.md"]]),kC=e("h1",null,"A07 Identification and Authentication Failures",-1),CC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Verification of the users identity, "),e("strong",null,"authentication"),u(", and session management is crucial to security")]),e("li",null,"Weak or vulnerable authentication systems can be exploited to gain access"),e("li",null,"Systems with broken authentication can lead to data breaches and passwords leak")])],-1),xC={__name:"50",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[kC,CC]),_:1},16))}},BC=j(xC,[["__file","/@slidev/slides/50.md"]]),SC=e("h1",null,"A07 Common Vulnerabilities",-1),$C=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Application allows for credentials stuffing or brute forcing"),e("li",null,"Allows default, weak or known passwords"),e("li",null,"Exploitable credential recovery processes"),e("li",null,[u("Lack of effective "),e("strong",null,"multi-factor authentication")]),e("li",null,[u("Unencrypted or weakly encrypted "),e("strong",null,"password storage")])])],-1),TC={__name:"51",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[SC,$C]),_:1},16))}},OC=j(TC,[["__file","/@slidev/slides/51.md"]]),PC=e("h1",null,"A07 How to prevent",-1),IC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Where possible, implement "),e("strong",null,"multi-factor authentication")]),e("li",null,[u("Require "),e("strong",null,"strong passwords"),u(" (length, complexity, rotation policies, and dont allow leaked passwords use)")]),e("li",null,"Ensure registration and credential recovery use the same messages for all outcomes"),e("li",null,"Limit or increasingly delay failed login attempts"),e("li",null,"Use secure password data store practices (salting + hashing)")])],-1),MC={__name:"52",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[PC,IC]),_:1},16))}},RC=j(MC,[["__file","/@slidev/slides/52.md"]]),LC=e("h1",null,"A07 Allowing leaked passwords ",-1),FC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("In 2017 the NIST "),e("strong",null,[e("a",{href:"https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value",target:"_blank",rel:"noopener"},"recommended")]),u(" that websites should check all new passwords against available lists of data breaches.")]),e("li",null,[u("This practice has been adopted by OWASP and became part of their "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.",target:"_blank",rel:"noopener"},"recommendation")]),u(".")]),e("li",null,[u("In the real scenario you should try to use something like "),e("strong",null,[e("a",{href:"https://haveibeenpwned.com/Passwords",target:"_blank",rel:"noopener"},"Have I Been Pwned")])])])],-1),NC={__name:"53",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[LC,FC]),_:1},16))}},jC=j(NC,[["__file","/@slidev/slides/53.md"]]),qC=e("h1",null,"A07 Allowing leaked passwords  (2)",-1),HC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("In the workshop - the database contains the list of leaked passwords in "),e("code",null,"databreachrecords")]),e("li",null,[u("Run the server for step 7 ("),e("code",null,"cd src/a07-authentication-failures"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A07: Register"),u(". Observe a token is succesfully returned")]),e("li",null,[u("In the database check the "),e("code",null,"databreachrecords"),u(" table for password used in the Postman request body")])])],-1),VC={__name:"54",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[qC,HC]),_:1},16))}},UC=j(VC,[["__file","/@slidev/slides/54.md"]]),WC=e("h1",null,"A07 Allowing leaked passwords  (3)",-1),zC=e("div",{class:"dense"},[e("ul",null,[e("li",null,"It should not allow to use passwords that are known to be leaked"),e("li",null,"Instead it should require the user to set a different password indicating what is the reason"),e("li",null,[u("Place your solution in the "),e("code",null,"routes/user/index.js")]),e("li",null,[u("Test it by running "),e("code",null,"npm run verify"),u(" (it will fail initially)")])])],-1),KC={__name:"55",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[WC,zC]),_:1},16))}},YC=j(KC,[["__file","/@slidev/slides/55.md"]]),GC=e("h1",null,"A07 Fixing it ",-1),JC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u(" Using data available in "),e("code",null,"dataBreachRecords"),u(" check if requested password is safe to use")]),e("li",null,[u("Run "),e("code",null,"sql"),u(" query inside the "),e("code",null,"/register"),u(" endpoint to check if the password is there")]),e("li",null,[u("Return a "),e("code",null,"400"),u(" error with "),e("code",null,"message"),u(" indicating the source of the leak: "),e("code",null,"'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'")])])],-1),ZC={__name:"56",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[GC,JC]),_:1},16))}},QC=j(ZC,[["__file","/@slidev/slides/56.md"]]),XC=e("h1",null,"A07 Solution ",-1),ex={class:"dense"},tx=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"breach"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"password"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"breach"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"res"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"breach"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"source"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"password"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"res"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"breach"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"source"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),nx={__name:"57",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[XC,e("div",ex,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[tx]),_:1},16)])]),_:1},16)}}},sx=j(nx,[["__file","/@slidev/slides/57.md"]]),ox=e("h1",null,"A08 Software and Data Integrity Failures",-1),rx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Code and infrastructure not protected against "),e("strong",null,"integrity violations")]),e("li",null,"Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users")])],-1),lx={__name:"58",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[ox,rx]),_:1},16))}},ax=j(lx,[["__file","/@slidev/slides/58.md"]]),ix=e("h1",null,"A08 Common Vulnerabilities",-1),cx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Libraries coming from "),e("strong",null,"untrusted sources"),u(", repos or CDNs")]),e("li",null,[u("Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to "),e("strong",null,"insecure deserialization")]),e("li",null,"An insecure CI/CD pipeline"),e("li",null,"Updates downloaded without sufficient integrity verification")])],-1),ux={__name:"59",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[ix,cx]),_:1},16))}},px=j(ux,[["__file","/@slidev/slides/59.md"]]),dx=e("h1",null,"A08 How to prevent",-1),fx=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Using digital signatures for integrity checks on data and downloaded software"),e("li",null,[u("Ensure "),e("strong",null,"npm dependencies"),u(" are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies")]),e("li",null,"Use automated tools to verify that components dont contain known vulnerabilities"),e("li",null,"Ensure there are code reviews for changes to minimise the risk of malicious code being introduced")])],-1),hx={__name:"60",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[dx,fx]),_:1},16))}},yx=j(hx,[["__file","/@slidev/slides/60.md"]]),mx=e("h1",null,"A08 Exercise: Insecure Deserialization",-1),gx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 8 ("),e("code",null,"cd src/a08-software-data-integrity-failures"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, try to run the query for "),e("code",null,"A08: Get profile from cookie"),u(". There is a cookie attached to the request "),e("code",null,"/profile"),u(" containing the users profile encoded as base64. Observe the request "),e("code",null,"status code 500"),u(" being returned")]),e("li",null,[u("This is happening because the server is deserializing a "),e("code",null,"cookie containing a malicious JavaScript"),u(" code which is forcing the server to throw an exception")])])],-1),vx={__name:"61",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[mx,gx]),_:1},16))}},_x=j(vx,[["__file","/@slidev/slides/61.md"]]),wx=e("h1",null,"A08 Exercise: Insecure Deserialization",-1),Ax={class:"dense"},bx=e("ul",null,[e("li",null,[u("When decoding the cookie attached to the "),e("code",null,"/profile"),u(" request, this is what the output looks like:")])],-1),Ex=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// base64 to ASCII")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"id"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"username"),e("span",{style:{color:"#666666"}},":")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"_$$ND_FUNC$$_function () {"),e("span",{style:{color:"#C99076"}},"\\n"),e("span",{style:{color:"#C98A7D"}},"    throw new Error('server error')"),e("span",{style:{color:"#C99076"}},"\\n"),e("span",{style:{color:"#C98A7D"}},"  }()"),e("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// base64 to ASCII")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"id"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"username"),e("span",{style:{color:"#999999"}},":")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"_$$ND_FUNC$$_function () {"),e("span",{style:{color:"#A65E2B"}},"\\n"),e("span",{style:{color:"#B56959"}},"    throw new Error('server error')"),e("span",{style:{color:"#A65E2B"}},"\\n"),e("span",{style:{color:"#B56959"}},"  }()"),e("span",{style:{color:"#B5695999"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Dx=e("ul",null,[e("li",null,[u("Note that there is an "),e("code",null,"IIFE"),u(" at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization")]),e("li",null,[u("The full step by step to serialize a JavaScript code and inject it as a cookie can be found "),e("a",{href:"https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/",target:"_blank",rel:"noopener"},"in this article")])],-1),kx={__name:"62",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[wx,e("div",Ax,[bx,se(r,Ve({},{ranges:[""]}),{default:L(()=>[Ex]),_:1},16),Dx])]),_:1},16)}}},Cx=j(kx,[["__file","/@slidev/slides/62.md"]]),xx=e("h1",null,"A08 Fixing it ",-1),Bx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the automated tests for step 8 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldnt trust a library that provides a way to deserialize strings into executable JavaScript code"),e("li",null,[u("Untrusted data passed into "),e("code",null,"unserialize()"),u(" function in "),e("code",null,"node-serialize"),u(" module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)")]),e("li",null,[u(" "),e("code",null,"JSON.parse"),u(" is a safer way to deserialize data")])])],-1),Sx={__name:"63",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[xx,Bx]),_:1},16))}},$x=j(Sx,[["__file","/@slidev/slides/63.md"]]),Tx=e("h1",null,"A08 Solution ",-1),Ox={class:"dense"},Px=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"solution"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"cookieAsStr"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"Buffer"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"from"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"cookies"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"profile"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"base64"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},")."),e("span",{style:{color:"#80A665"}},"toString"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"ascii"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"profile"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"parse"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"cookieAsStr"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"+"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello guest"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"solution"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"Buffer"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"from"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"base64"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},")."),e("span",{style:{color:"#59873A"}},"toString"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"ascii"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"parse"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"Hello "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"+"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"Hello guest"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Ix={__name:"64",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[Tx,e("div",Ox,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[Px]),_:1},16)])]),_:1},16)}}},Mx=j(Ix,[["__file","/@slidev/slides/64.md"]]),Rx=e("h1",null,"A09 Security Logging and Monitoring Failures",-1),Lx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Proper logging and monitoring is "),e("strong",null,"critical"),u(" to detecting and responding to breaches")]),e("li",null,"It is important for alerting, accountability, visibility and forensics of security incidents")])],-1),Fx={__name:"65",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Rx,Lx]),_:1},16))}},Nx=j(Fx,[["__file","/@slidev/slides/65.md"]]),jx=e("h1",null,"A09 Common Vulnerabilities",-1),qx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Auditable events, such as logins, failed logins, and "),e("strong",null,"high-value transactions"),u(", are not logged")]),e("li",null,"Warnings and errors generate no, inadequate, or unclear log messages"),e("li",null,[u("Logs of applications and APIs are not monitored for "),e("strong",null,"suspicious activity")]),e("li",null,"The application cannot detect, escalate, or alert for active attacks in real-time or near real-time")])],-1),Hx={__name:"66",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[jx,qx]),_:1},16))}},Vx=j(Hx,[["__file","/@slidev/slides/66.md"]]),Ux=e("h1",null,"A09 How to prevent",-1),Wx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Ensure all login, access control, and server-side input validation failures can be logged with "),e("strong",null,"sufficient user context"),u(" to identify suspicious or malicious accounts")]),e("li",null,"Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems"),e("li",null,"Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.")])],-1),zx={__name:"67",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Ux,Wx]),_:1},16))}},Kx=j(zx,[["__file","/@slidev/slides/67.md"]]),Yx=e("h1",null,"A09 Suspicious activity ",-1),Gx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 5 ("),e("code",null,"cd src/a09-security-logging"),u(", "),e("code",null,"npm run verify"),u(")")]),e("li",null,[u("You can observe a log message "),e("code",null,"something suspicious is happening")]),e("li",null,[u("Note that the application is using a vulnerable version of the http client "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3",target:"_blank",rel:"noopener"},"undici")])])])],-1),Jx={__name:"68",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Yx,Gx]),_:1},16))}},Zx=j(Jx,[["__file","/@slidev/slides/68.md"]]),Qx=e("h1",null,"A09 Fixing it ",-1),Xx=e("div",{class:"dense"},[e("ul",null,[e("li",null," Log user input to identify suspicious or malicious access"),e("li",null,"Validate user input")])],-1),e4={__name:"69",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[Qx,Xx]),_:1},16))}},t4=j(e4,[["__file","/@slidev/slides/69.md"]]),n4=e("h1",null,"A09 Solution ",-1),s4={class:"dense"},o4=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// profile route handler")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"console"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"log"),e("span",{style:{color:"#666666"}},"({")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// add context to logs to help identify the user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"input"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"headerCharRegex"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#C4704F"}}," "),e("span",{style:{color:"#C98A7D99"}},"/"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#CB7676"}},"^"),e("span",{style:{color:"#C99076"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#666666"}},"]"),e("span",{style:{color:"#C98A7D99"}},"/"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate user input")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"headerCharRegex"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"exec"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},"])"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"null"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"body"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://localhost:3001"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"method"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"GET"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"headers"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// profile route handler")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"console"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"log"),e("span",{style:{color:"#999999"}},"({")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// add context to logs to help identify the user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"input"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#AB5E3F"}}," "),e("span",{style:{color:"#B5695999"}},"/"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#AB5959"}},"^"),e("span",{style:{color:"#A65E2B"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#999999"}},"]"),e("span",{style:{color:"#B5695999"}},"/"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate user input")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"exec"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},"])"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"null"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"http://localhost:3001"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"method"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"GET"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"headers"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),r4={__name:"70",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[n4,e("div",s4,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[o4]),_:1},16)])]),_:1},16)}}},l4=j(r4,[["__file","/@slidev/slides/70.md"]]),a4=e("h1",null,"A10 Server Side Request Forgery",-1),i4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("SSRF flaws occur whenever a web application is fetching a remote resource without "),e("strong",null,"validating"),u(" the user-supplied URL")]),e("li",null,[u("It allows an attacker to coerce the application to send a crafted request to an "),e("strong",null,"unexpected destination"),u(", even when protected by a firewall, VPN, or another type of network access control list")])])],-1),c4={__name:"71",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[a4,i4]),_:1},16))}},u4=j(c4,[["__file","/@slidev/slides/71.md"]]),p4=e("h1",null,"A10 How to prevent",-1),d4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("strong",null,"Sanitize and validate"),u(" all client-supplied input data")]),e("li",null,"Enforce the URL schema, port, and destination with a positive allow list"),e("li",null,"Do not send raw responses to clients"),e("li",null,"Disable HTTP redirections"),e("li",null," Do not mitigate SSRF via the use of a deny list or regular expression")])],-1),f4={__name:"72",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[p4,d4]),_:1},16))}},h4=j(f4,[["__file","/@slidev/slides/72.md"]]),y4=e("h1",null,"A10 The Attack ",-1),m4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 10 ("),e("code",null,"cd src/a10-server-side-request-forgery"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A10: Upload Image"),u(". Observe an image being returned")]),e("li",null,[u("Try to run the query for "),e("code",null,"A10: Malicious Image url"),u(". Observe "),e("code",null,"something suspicious is happening"),u(" being returned")]),e("li",null,"The server is not sanitizing user input so it will send a request to whatever url provided in the payload")])],-1),g4={__name:"73",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[y4,m4]),_:1},16))}},v4=j(g4,[["__file","/@slidev/slides/73.md"]]),_4=e("h1",null,"A10 Fixing it ",-1),w4=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Sanitize the url making sure its valid"),e("li",null,[u("Create a whitelist of allowed domains by adding them in the database column "),e("code",null,"allowedImageDomain")]),e("li",null," Make sure the requested domain is in the whitelist")])],-1),A4={__name:"74",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[_4,w4]),_:1},16))}},b4=j(A4,[["__file","/@slidev/slides/74.md"]]),E4=e("h1",null,"A10 Solution ",-1),D4={class:"dense"},k4=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profilePicture"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/user/image"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"imgUrl"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"url"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"validateUrl"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"imgUrl"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate url using the URL object")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"whitelisted"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"hostname"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"whitelisted"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"data"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"axios"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"href"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"data")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profilePicture"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/user/image"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"validateUrl"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate url using the URL object")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"hostname"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"axios"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"href"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),C4={__name:"75",setup(t){const n={};return I(N),(s,o)=>{const r=Xe;return D(),R(Z,J(G(n)),{default:L(()=>[E4,e("div",D4,[se(r,Ve({},{ranges:[""]}),{default:L(()=>[k4]),_:1},16)])]),_:1},16)}}},x4=j(C4,[["__file","/@slidev/slides/75.md"]]),B4=e("h1",null,"Beyond the Top 10",-1),S4=e("div",{class:"dense"},[e("ul",null,[e("li",null,"The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing"),e("li",null,"By its nature, the Top 10 is a series of guidelines but cant be tested easily as its applications are broad"),e("li",null,[u("On the other hand the "),e("a",{href:"https://owasp.org/www-project-application-security-verification-standard/",target:"_blank",rel:"noopener"},"OWASP Application Security Verification Standard"),u(" is a comprehensive list of security criteria")]),e("li",null,"Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail")])],-1),$4={__name:"76",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[B4,S4]),_:1},16))}},T4=j($4,[["__file","/@slidev/slides/76.md"]]),O4=e("h1",null,"Other useful OWASP resources",-1),P4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("The "),e("a",{href:"https://cheatsheetseries.owasp.org",target:"_blank",rel:"noopener"},"OWASP Cheat Sheet Series"),u(" provides condensed information on specific security topics related to OWASP standards")]),e("li",null,[u("The "),e("a",{href:"https://owaspsamm.org",target:"_blank",rel:"noopener"},"OWASP Software Assurance Maturity Model"),u(" can help an organization analyze and improve their software security")])])],-1),I4={__name:"77",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[O4,P4]),_:1},16))}},M4=j(I4,[["__file","/@slidev/slides/77.md"]]),R4=e("h1",null,"Thanks For Having Us!",-1),L4=e("h2",null,"",-1),F4={__name:"78",setup(t){const n={};return I(N),(s,o)=>(D(),R(Z,J(G(n)),{default:L(()=>[R4,L4]),_:1},16))}},N4=j(F4,[["__file","/@slidev/slides/78.md"]]),j4=[{path:"1",name:"page-1",component:iE,meta:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop",slide:{raw:`---
theme: slidev-theme-nearform
layout: default
highlighter: shiki
lineNumbers: false
---

<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>
`,title:"OWASP Top Ten Security Vulnerabilities Workshop",level:1,content:`<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>`,frontmatter:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop"},index:0,start:0,end:19,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:dE,meta:{slide:{raw:`
# Introduction: OWASP 

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>
`,title:"Introduction: OWASP ",level:1,content:`# Introduction: OWASP 

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>`,frontmatter:{},index:1,start:20,end:31,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:mE,meta:{slide:{raw:`
# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>
`,title:"Introduction: OWASP Top Ten",level:1,content:`# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>`,frontmatter:{},index:2,start:32,end:42,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:wE,meta:{slide:{raw:`
# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The  icon indicates hints

</div>
`,title:"Workshop Setup",level:1,content:`# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The  icon indicates hints

</div>`,frontmatter:{},index:3,start:43,end:56,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:HE,meta:{slide:{raw:`
# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>
`,title:"Getting setup",level:1,content:`# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>`,frontmatter:{},index:4,start:57,end:84,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:GE,meta:{slide:{raw:`
# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000
`,title:"Running the modules",level:1,content:`# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000`,frontmatter:{},index:5,start:85,end:106,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:XE,meta:{slide:{raw:`
# Testing the vulnerabilities

<div class="dense">

- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests
- The \`postman\` folder contains a collection that can be imported into Postman to easily send those requests
- The Postman collection is pre-logged in with user \`alice\`. The \`Bearer token\` is set that represents \`alice\`.

</div>
`,title:"Testing the vulnerabilities",level:1,content:'# Testing the vulnerabilities\n\n<div class="dense">\n\n- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests\n- The `postman` folder contains a collection that can be imported into Postman to easily send those requests\n- The Postman collection is pre-logged in with user `alice`. The `Bearer token` is set that represents `alice`.\n\n</div>',frontmatter:{},index:6,start:107,end:118,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:sD,meta:{slide:{raw:`
# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>
`,title:"Automated testing",level:1,content:`# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>`,frontmatter:{},index:7,start:119,end:130,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:aD,meta:{slide:{raw:`
# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>
`,title:"A01 Broken Access Control",level:1,content:`# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>`,frontmatter:{},index:8,start:131,end:141,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:pD,meta:{slide:{raw:`
# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>
`,title:"A01 Common vulnerabilities",level:1,content:`# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>`,frontmatter:{},index:9,start:142,end:154,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:yD,meta:{slide:{raw:`
# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>
`,title:"A01 How to Prevent",level:1,content:`# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>`,frontmatter:{},index:10,start:155,end:166,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:bD,meta:{slide:{raw:`
# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>
`,title:"A01 Exercise",level:1,content:`# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>`,frontmatter:{},index:11,start:167,end:189,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:SD,meta:{slide:{raw:`
# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>
`,title:"A01 The problem",level:1,content:`# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>`,frontmatter:{},index:12,start:190,end:211,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:PD,meta:{slide:{raw:`
# A01 Fixing it 

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
-  The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>
`,title:"A01 Fixing it ",level:1,content:`# A01 Fixing it 

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
-  The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>`,frontmatter:{},index:13,start:212,end:224,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:ND,meta:{slide:{raw:`
# A01 Solution 

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username //  We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>
`,title:"A01 Solution ",level:1,content:`# A01 Solution 

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username //  We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>`,frontmatter:{},index:14,start:225,end:248,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:VD,meta:{slide:{raw:`
# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>
`,title:"A02 Cryptographic Failures",level:1,content:`# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>`,frontmatter:{},index:15,start:249,end:261,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:KD,meta:{slide:{raw:`
# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 **
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>
`,title:"A02 Common vulnerabilities",level:1,content:`# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 **
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>`,frontmatter:{},index:16,start:262,end:274,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:ZD,meta:{slide:{raw:`
# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git **)
- Disable caching for responses that contain sensitive data

</div>
`,title:"A02 How to Prevent",level:1,content:`# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git **)
- Disable caching for responses that contain sensitive data

</div>`,frontmatter:{},index:17,start:275,end:287,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:s7,meta:{slide:{raw:`
# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>
`,title:"A02 A weak hashing algorithm",level:1,content:`# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>`,frontmatter:{},index:18,start:288,end:311,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:a7,meta:{slide:{raw:`
# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's hashed password
- With this password hash, try to find the original password Alice created
- the Postman collection contains requests for doing the queries
-  There are websites to decrypt md5

</div>
`,title:"A02 The problem",level:1,content:`# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's hashed password
- With this password hash, try to find the original password Alice created
- the Postman collection contains requests for doing the queries
-  There are websites to decrypt md5

</div>`,frontmatter:{},index:19,start:312,end:324,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:p7,meta:{slide:{raw:`
# A02 Fixing it 

<div class="dense">

- md5 hash is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the hashing algorithm used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>
`,title:"A02 Fixing it ",level:1,content:`# A02 Fixing it 

<div class="dense">

- md5 hash is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the hashing algorithm used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>`,frontmatter:{},index:20,start:325,end:337,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:m7,meta:{slide:{raw:`
# A02 Solution 

<div class="dense">

\`\`\`js
// utils/crypto.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function hashPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>
`,title:"A02 Solution ",level:1,content:`# A02 Solution 

<div class="dense">

\`\`\`js
// utils/crypto.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function hashPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>`,frontmatter:{},index:21,start:338,end:356,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:A7,meta:{slide:{raw:`
# A02 Solution  (2)

<div class="dense">

\`\`\`js
// utils/crypto.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>
`,title:"A02 Solution  (2)",level:1,content:`# A02 Solution  (2)

<div class="dense">

\`\`\`js
// utils/crypto.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>`,frontmatter:{},index:22,start:357,end:371,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:k7,meta:{slide:{raw:`
# A03 Injection 

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>
`,title:"A03 Injection ",level:1,content:`# A03 Injection 

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>`,frontmatter:{},index:23,start:372,end:384,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:S7,meta:{slide:{raw:`
# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>
`,title:"A03 Common vulnerabilities",level:1,content:`# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>`,frontmatter:{},index:24,start:385,end:396,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:P7,meta:{slide:{raw:`
# A03 Attack

<div class="dense">

- Run the server for step 3 (\`cd src/a03-injection\`, \`npm start\`)
- In Postman, run the query for \`A03: Get customer by name\`. Observe the data for \`name: "alice"\` being returned
- Try to run the query for \`A03: SQL Injection\`. Observe all the customers being returned
- The query param value \`' OR '1'='1\` takes advantage of the unsafe string concatenation to create this SQL query
  \`SELECT * FROM customers WHERE name='' OR '1'='1'\` which will return every record in the table

</div>
`,title:"A03 Attack",level:1,content:"# A03 Attack\n\n<div class=\"dense\">\n\n- Run the server for step 3 (`cd src/a03-injection`, `npm start`)\n- In Postman, run the query for `A03: Get customer by name`. Observe the data for `name: \"alice\"` being returned\n- Try to run the query for `A03: SQL Injection`. Observe all the customers being returned\n- The query param value `' OR '1'='1` takes advantage of the unsafe string concatenation to create this SQL query\n  `SELECT * FROM customers WHERE name='' OR '1'='1'` which will return every record in the table\n\n</div>",frontmatter:{},index:25,start:397,end:410,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:L7,meta:{slide:{raw:`
# A03 Fixing it 

<div class="dense">

-  Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>
`,title:"A03 Fixing it ",level:1,content:`# A03 Fixing it 

<div class="dense">

-  Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>`,frontmatter:{},index:26,start:411,end:423,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:V7,meta:{slide:{raw:`
# A03 Solution 

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>
`,title:"A03 Solution ",level:1,content:`# A03 Solution 

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:27,start:424,end:453,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:K7,meta:{slide:{raw:`
# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>
`,title:"A04 Insecure Design",level:1,content:`# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>`,frontmatter:{},index:28,start:454,end:466,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:Z7,meta:{slide:{raw:`
# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>
`,title:"A04 Examples",level:1,content:`# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>`,frontmatter:{},index:29,start:467,end:478,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",name:"page-31",component:tk,meta:{slide:{raw:`
# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>
`,title:"A04 How to prevent",level:1,content:`# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>`,frontmatter:{},index:30,start:479,end:491,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:30,no:31},__clicksElements:[],__preloaded:!1}},{path:"32",name:"page-32",component:rk,meta:{slide:{raw:`
# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>
`,title:"A04 Exercise",level:1,content:`# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>`,frontmatter:{},index:31,start:492,end:502,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:31,no:32},__clicksElements:[],__preloaded:!1}},{path:"33",name:"page-33",component:ck,meta:{slide:{raw:`
# A04 Scalping

<div class="dense">

- Run the server for step 4 (\`cd src/a04-insecure-design\`, \`npm start\`)
- In Postman, run the query for \`A04: Buy product\`. Observe the data for \`success: true\` being returned
- Run the query many times in a row in a short period of time
- Notice that there is no protection against multiple sequential purchases
</div>
`,title:"A04 Scalping",level:1,content:'# A04 Scalping\n\n<div class="dense">\n\n- Run the server for step 4 (`cd src/a04-insecure-design`, `npm start`)\n- In Postman, run the query for `A04: Buy product`. Observe the data for `success: true` being returned\n- Run the query many times in a row in a short period of time\n- Notice that there is no protection against multiple sequential purchases\n</div>',frontmatter:{},index:32,start:503,end:514,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:32,no:33},__clicksElements:[],__preloaded:!1}},{path:"34",name:"page-34",component:fk,meta:{slide:{raw:`
# A04 Fixing it 

<div class="dense">

- Prefer using rate limiter for your routes
-  Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>
`,title:"A04 Fixing it ",level:1,content:`# A04 Fixing it 

<div class="dense">

- Prefer using rate limiter for your routes
-  Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>`,frontmatter:{},index:33,start:515,end:527,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:33,no:34},__clicksElements:[],__preloaded:!1}},{path:"35",name:"page-35",component:_k,meta:{slide:{raw:`
# A04 Solution 

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>
`,title:"A04 Solution ",level:1,content:`# A04 Solution 

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:34,start:528,end:560,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:34,no:35},__clicksElements:[],__preloaded:!1}},{path:"36",name:"page-36",component:Ek,meta:{slide:{raw:`
# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>
`,title:"A05 Security Misconfiguration",level:1,content:`# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>`,frontmatter:{},index:35,start:561,end:572,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:35,no:36},__clicksElements:[],__preloaded:!1}},{path:"37",name:"page-37",component:xk,meta:{slide:{raw:`
# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>
`,title:"A05 Common Vulnerabilities",level:1,content:`# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>`,frontmatter:{},index:36,start:573,end:586,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:36,no:37},__clicksElements:[],__preloaded:!1}},{path:"38",name:"page-38",component:Tk,meta:{slide:{raw:`
# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>
`,title:"A05 How to prevent",level:1,content:`# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>`,frontmatter:{},index:37,start:587,end:600,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:37,no:38},__clicksElements:[],__preloaded:!1}},{path:"39",name:"page-39",component:Mk,meta:{slide:{raw:'\n# A05 Unsigned Cookies \n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>\n',title:"A05 Unsigned Cookies ",level:1,content:'# A05 Unsigned Cookies \n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>',frontmatter:{},index:38,start:601,end:613,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:38,no:39},__clicksElements:[],__preloaded:!1}},{path:"40",name:"page-40",component:Nk,meta:{slide:{raw:`
# A05 Fixing it 

<div class="dense">

-  Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>
`,title:"A05 Fixing it ",level:1,content:`# A05 Fixing it 

<div class="dense">

-  Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>`,frontmatter:{},index:39,start:614,end:626,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:39,no:40},__clicksElements:[],__preloaded:!1}},{path:"41",name:"page-41",component:Uk,meta:{slide:{raw:`
# A05 Solution 

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, //  signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>
`,title:"A05 Solution ",level:1,content:`# A05 Solution 

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, //  signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>`,frontmatter:{},index:40,start:627,end:659,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:40,no:41},__clicksElements:[],__preloaded:!1}},{path:"42",name:"page-42",component:Gk,meta:{slide:{raw:`
# A05 Solution  (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>
`,title:"A05 Solution  (2)",level:1,content:`# A05 Solution  (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>`,frontmatter:{},index:41,start:660,end:692,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:41,no:42},__clicksElements:[],__preloaded:!1}},{path:"43",name:"page-43",component:Xk,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>
`,title:"A06 Vulnerable and Outdated Components",level:1,content:`# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>`,frontmatter:{},index:42,start:693,end:704,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:42,no:43},__clicksElements:[],__preloaded:!1}},{path:"44",name:"page-44",component:sC,meta:{slide:{raw:`
# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>
`,title:"A06 Common Vulnerabilities",level:1,content:`# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>`,frontmatter:{},index:43,start:705,end:717,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:43,no:44},__clicksElements:[],__preloaded:!1}},{path:"45",name:"page-45",component:aC,meta:{slide:{raw:`
# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>
`,title:"A06 How to prevent",level:1,content:`# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>`,frontmatter:{},index:44,start:718,end:730,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:44,no:45},__clicksElements:[],__preloaded:!1}},{path:"46",name:"page-46",component:pC,meta:{slide:{raw:'\n# A06 The attack \n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>\n',title:"A06 The attack ",level:1,content:'# A06 The attack \n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>',frontmatter:{},index:45,start:731,end:741,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:45,no:46},__clicksElements:[],__preloaded:!1}},{path:"47",name:"page-47",component:yC,meta:{slide:{raw:`
# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>
`,title:"A06 The attack (2)",level:1,content:`# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>`,frontmatter:{},index:46,start:742,end:751,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:46,no:47},__clicksElements:[],__preloaded:!1}},{path:"48",name:"page-48",component:_C,meta:{slide:{raw:`
# A06 Fixing it 

<div class="dense">

-  Update the library to a version in which this vulnerability was fixed

</div>
`,title:"A06 Fixing it ",level:1,content:`# A06 Fixing it 

<div class="dense">

-  Update the library to a version in which this vulnerability was fixed

</div>`,frontmatter:{},index:47,start:752,end:761,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:47,no:48},__clicksElements:[],__preloaded:!1}},{path:"49",name:"page-49",component:DC,meta:{slide:{raw:`
# A06 The Solution 

<div class="dense">

\`\`\`js
import { request } from 'undici' // updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>
`,title:"A06 The Solution ",level:1,content:`# A06 The Solution 

<div class="dense">

\`\`\`js
import { request } from 'undici' // updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:48,start:762,end:796,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:48,no:49},__clicksElements:[],__preloaded:!1}},{path:"50",name:"page-50",component:BC,meta:{slide:{raw:`
# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>
`,title:"A07 Identification and Authentication Failures",level:1,content:`# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>`,frontmatter:{},index:49,start:797,end:808,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:49,no:50},__clicksElements:[],__preloaded:!1}},{path:"51",name:"page-51",component:OC,meta:{slide:{raw:`
# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>
`,title:"A07 Common Vulnerabilities",level:1,content:`# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>`,frontmatter:{},index:50,start:809,end:822,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:50,no:51},__clicksElements:[],__preloaded:!1}},{path:"52",name:"page-52",component:RC,meta:{slide:{raw:`
# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>
`,title:"A07 How to prevent",level:1,content:`# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>`,frontmatter:{},index:51,start:823,end:836,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:51,no:52},__clicksElements:[],__preloaded:!1}},{path:"53",name:"page-53",component:jC,meta:{slide:{raw:`
# A07 Allowing leaked passwords 

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>
`,title:"A07 Allowing leaked passwords ",level:1,content:`# A07 Allowing leaked passwords 

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>`,frontmatter:{},index:52,start:837,end:848,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:52,no:53},__clicksElements:[],__preloaded:!1}},{path:"54",name:"page-54",component:UC,meta:{slide:{raw:`
# A07 Allowing leaked passwords  (2)

<div class="dense">

- In the workshop - the database contains the list of leaked passwords in \`databreachrecords\`
- Run the server for step 7 (\`cd src/a07-authentication-failures\`, \`npm start\`)
- In Postman, run the query for \`A07: Register\`. Observe a token is succesfully returned
- In the database check the \`databreachrecords\` table for password used in the Postman request body

</div>
`,title:"A07 Allowing leaked passwords  (2)",level:1,content:'# A07 Allowing leaked passwords  (2)\n\n<div class="dense">\n\n- In the workshop - the database contains the list of leaked passwords in `databreachrecords`\n- Run the server for step 7 (`cd src/a07-authentication-failures`, `npm start`)\n- In Postman, run the query for `A07: Register`. Observe a token is succesfully returned\n- In the database check the `databreachrecords` table for password used in the Postman request body\n\n</div>',frontmatter:{},index:53,start:849,end:861,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:53,no:54},__clicksElements:[],__preloaded:!1}},{path:"55",name:"page-55",component:YC,meta:{slide:{raw:`
# A07 Allowing leaked passwords  (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>
`,title:"A07 Allowing leaked passwords  (3)",level:1,content:`# A07 Allowing leaked passwords  (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>`,frontmatter:{},index:54,start:862,end:874,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:54,no:55},__clicksElements:[],__preloaded:!1}},{path:"56",name:"page-56",component:QC,meta:{slide:{raw:"\n# A07 Fixing it \n\n<div class=\"dense\">\n\n-  Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>\n",title:"A07 Fixing it ",level:1,content:"# A07 Fixing it \n\n<div class=\"dense\">\n\n-  Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>",frontmatter:{},index:55,start:875,end:886,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:55,no:56},__clicksElements:[],__preloaded:!1}},{path:"57",name:"page-57",component:sx,meta:{slide:{raw:`
# A07 Solution 

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>
`,title:"A07 Solution ",level:1,content:`# A07 Solution 

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>`,frontmatter:{},index:56,start:887,end:910,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:56,no:57},__clicksElements:[],__preloaded:!1}},{path:"58",name:"page-58",component:ax,meta:{slide:{raw:`
# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>
`,title:"A08 Software and Data Integrity Failures",level:1,content:`# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>`,frontmatter:{},index:57,start:911,end:921,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:57,no:58},__clicksElements:[],__preloaded:!1}},{path:"59",name:"page-59",component:px,meta:{slide:{raw:`
# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>
`,title:"A08 Common Vulnerabilities",level:1,content:`# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>`,frontmatter:{},index:58,start:922,end:934,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:58,no:59},__clicksElements:[],__preloaded:!1}},{path:"60",name:"page-60",component:yx,meta:{slide:{raw:`
# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>
`,title:"A08 How to prevent",level:1,content:`# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>`,frontmatter:{},index:59,start:935,end:947,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:59,no:60},__clicksElements:[],__preloaded:!1}},{path:"61",name:"page-61",component:_x,meta:{slide:{raw:'\n# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>\n',title:"A08 Exercise: Insecure Deserialization",level:1,content:'# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>',frontmatter:{},index:60,start:948,end:959,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:60,no:61},__clicksElements:[],__preloaded:!1}},{path:"62",name:"page-62",component:Cx,meta:{slide:{raw:`
# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>
`,title:"A08 Exercise: Insecure Deserialization",level:1,content:`# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>`,frontmatter:{},index:61,start:960,end:981,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:61,no:62},__clicksElements:[],__preloaded:!1}},{path:"63",name:"page-63",component:$x,meta:{slide:{raw:`
# A08 Fixing it 

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
-  \`JSON.parse\` is a safer way to deserialize data

</div>
`,title:"A08 Fixing it ",level:1,content:`# A08 Fixing it 

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
-  \`JSON.parse\` is a safer way to deserialize data

</div>`,frontmatter:{},index:62,start:982,end:994,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:62,no:63},__clicksElements:[],__preloaded:!1}},{path:"64",name:"page-64",component:Mx,meta:{slide:{raw:`
# A08 Solution 

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>
`,title:"A08 Solution ",level:1,content:`# A08 Solution 

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>`,frontmatter:{},index:63,start:995,end:1020,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:63,no:64},__clicksElements:[],__preloaded:!1}},{path:"65",name:"page-65",component:Nx,meta:{slide:{raw:`
# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>
`,title:"A09 Security Logging and Monitoring Failures",level:1,content:`# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>`,frontmatter:{},index:64,start:1021,end:1031,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:64,no:65},__clicksElements:[],__preloaded:!1}},{path:"66",name:"page-66",component:Vx,meta:{slide:{raw:`
# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>
`,title:"A09 Common Vulnerabilities",level:1,content:`# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>`,frontmatter:{},index:65,start:1032,end:1044,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:65,no:66},__clicksElements:[],__preloaded:!1}},{path:"67",name:"page-67",component:Kx,meta:{slide:{raw:`
# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>
`,title:"A09 How to prevent",level:1,content:`# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>`,frontmatter:{},index:66,start:1045,end:1056,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:66,no:67},__clicksElements:[],__preloaded:!1}},{path:"68",name:"page-68",component:Zx,meta:{slide:{raw:`
# A09 Suspicious activity 

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>
`,title:"A09 Suspicious activity ",level:1,content:`# A09 Suspicious activity 

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>`,frontmatter:{},index:67,start:1057,end:1068,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:67,no:68},__clicksElements:[],__preloaded:!1}},{path:"69",name:"page-69",component:t4,meta:{slide:{raw:`
# A09 Fixing it 

<div class="dense">

-  Log user input to identify suspicious or malicious access
- Validate user input

</div>
`,title:"A09 Fixing it ",level:1,content:`# A09 Fixing it 

<div class="dense">

-  Log user input to identify suspicious or malicious access
- Validate user input

</div>`,frontmatter:{},index:68,start:1069,end:1079,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:68,no:69},__clicksElements:[],__preloaded:!1}},{path:"70",name:"page-70",component:l4,meta:{slide:{raw:`
# A09 Solution 

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>
`,title:"A09 Solution ",level:1,content:`# A09 Solution 

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>`,frontmatter:{},index:69,start:1080,end:1109,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:69,no:70},__clicksElements:[],__preloaded:!1}},{path:"71",name:"page-71",component:u4,meta:{slide:{raw:`
# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>
`,title:"A10 Server Side Request Forgery",level:1,content:`# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>`,frontmatter:{},index:70,start:1110,end:1120,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:70,no:71},__clicksElements:[],__preloaded:!1}},{path:"72",name:"page-72",component:h4,meta:{slide:{raw:`
# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
-  Do not mitigate SSRF via the use of a deny list or regular expression

</div>
`,title:"A10 How to prevent",level:1,content:`# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
-  Do not mitigate SSRF via the use of a deny list or regular expression

</div>`,frontmatter:{},index:71,start:1121,end:1134,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:71,no:72},__clicksElements:[],__preloaded:!1}},{path:"73",name:"page-73",component:v4,meta:{slide:{raw:`
# A10 The Attack 

<div class="dense">

- Run the server for step 10 (\`cd src/a10-server-side-request-forgery\`, \`npm start\`)
- In Postman, run the query for \`A10: Upload Image\`. Observe an image being returned
- Try to run the query for \`A10: Malicious Image url\`. Observe \`something suspicious is happening\` being returned
- The server is not sanitizing user input so it will send a request to whatever url provided in the payload

</div>
`,title:"A10 The Attack ",level:1,content:'# A10 The Attack \n\n<div class="dense">\n\n- Run the server for step 10 (`cd src/a10-server-side-request-forgery`, `npm start`)\n- In Postman, run the query for `A10: Upload Image`. Observe an image being returned\n- Try to run the query for `A10: Malicious Image url`. Observe `something suspicious is happening` being returned\n- The server is not sanitizing user input so it will send a request to whatever url provided in the payload\n\n</div>',frontmatter:{},index:72,start:1135,end:1147,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:72,no:73},__clicksElements:[],__preloaded:!1}},{path:"74",name:"page-74",component:b4,meta:{slide:{raw:`
# A10 Fixing it 

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
-  Make sure the requested domain is in the whitelist

</div>
`,title:"A10 Fixing it ",level:1,content:`# A10 Fixing it 

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
-  Make sure the requested domain is in the whitelist

</div>`,frontmatter:{},index:73,start:1148,end:1159,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:73,no:74},__clicksElements:[],__preloaded:!1}},{path:"75",name:"page-75",component:x4,meta:{slide:{raw:`
# A10 Solution 

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>
`,title:"A10 Solution ",level:1,content:`# A10 Solution 

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:74,start:1160,end:1192,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:74,no:75},__clicksElements:[],__preloaded:!1}},{path:"76",name:"page-76",component:T4,meta:{slide:{raw:`
# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>
`,title:"Beyond the Top 10",level:1,content:`# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>`,frontmatter:{},index:75,start:1193,end:1205,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:75,no:76},__clicksElements:[],__preloaded:!1}},{path:"77",name:"page-77",component:M4,meta:{slide:{raw:`
# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>
`,title:"Other useful OWASP resources",level:1,content:`# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>`,frontmatter:{},index:76,start:1206,end:1216,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:76,no:77},__clicksElements:[],__preloaded:!1}},{path:"78",name:"page-78",component:N4,meta:{slide:{raw:`
# Thanks For Having Us!

## 
`,title:"Thanks For Having Us!",level:1,content:`# Thanks For Having Us!

## `,frontmatter:{},index:77,start:1217,end:1222,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:77,no:78},__clicksElements:[],__preloaded:!1}}],q4=[],Ye=j4,ao=[{name:"play",path:"/",component:kb,children:[...Ye,...q4]},{name:"print",path:"/print",component:Q3},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}];{let t=function(n){if(!lo.remote||lo.remote===n.query.password)return!0;if(lo.remote&&n.query.password===void 0){const s=prompt("Enter password");if(lo.remote===s)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}};ao.push({path:"/presenter/print",component:()=>Tn(()=>import("./PresenterPrint-808f5be3.js"),["assets/PresenterPrint-808f5be3.js","assets/NoteDisplay-c3b7a49e.js"])}),ao.push({name:"notes",path:"/notes",component:()=>Tn(()=>import("./NotesView-be9c1b99.js"),["assets/NotesView-be9c1b99.js","assets/NoteDisplay-c3b7a49e.js"]),beforeEnter:t}),ao.push({name:"presenter",path:"/presenter/:no",component:()=>Tn(()=>import("./Presenter-344fb6af.js"),["assets/Presenter-344fb6af.js","assets/NoteDisplay-c3b7a49e.js","assets/DrawingControls-77c119a6.js","assets/Presenter-aa6741a8.css"]),beforeEnter:t}),ao.push({path:"/presenter",redirect:{path:"/presenter/1"}})}const _t=f0({history:d_("/owasp-top-ten-workshop/"),routes:ao});function H4(t,n,{mode:s="replace"}={}){return T({get(){const o=_t.currentRoute.value.query[t];return o==null?n??null:Array.isArray(o)?o.filter(Boolean):o},set(o){st(()=>{_t[O(s)]({query:{..._t.currentRoute.value.query,[t]:o}})})}})}const Kf=K(0);st(()=>{_t.afterEach(async()=>{await st(),Kf.value+=1})});const Yf=K(0),Rt=T(()=>_t.currentRoute.value),Rs=T(()=>Rt.value.query.print!==void 0),V4=T(()=>Rt.value.query.print==="clicks"),un=T(()=>Rt.value.query.embedded!==void 0),gt=T(()=>Rt.value.path.startsWith("/presenter")),U4=T(()=>Rt.value.path.startsWith("/notes")),mo=T(()=>Rs.value&&!V4.value),Ra=T(()=>Rt.value.query.password),W4=T(()=>!gt.value&&(!Be.remote||Ra.value===Be.remote)),Lu=H4("clicks","0"),z4=T(()=>Ye.length),K4=T(()=>Rt.value.path),We=T(()=>Number.parseInt(K4.value.split(/\//g).slice(-1)[0])||1);T(()=>pl(We.value));const pt=T(()=>Ye.find(t=>t.path===`${We.value}`));T(()=>{var t,n,s;return(s=(n=(t=pt.value)==null?void 0:t.meta)==null?void 0:n.slide)==null?void 0:s.id});T(()=>{var t,n;return((n=(t=pt.value)==null?void 0:t.meta)==null?void 0:n.layout)||(We.value===1?"cover":"default")});const Ll=T(()=>Ye.find(t=>t.path===`${Math.min(Ye.length,We.value+1)}`)),Y4=T(()=>Ye.find(t=>t.path===`${Math.max(1,We.value-1)}`)),G4=T(()=>{var t,n;return Kf.value,((n=(t=pt.value)==null?void 0:t.meta)==null?void 0:n.__clicksElements)||[]}),It=T({get(){if(mo.value)return 99999;let t=+(Lu.value||0);return Number.isNaN(t)&&(t=0),t},set(t){Lu.value=t.toString()}}),Ur=T(()=>{var t,n;return+(((n=(t=pt.value)==null?void 0:t.meta)==null?void 0:n.clicks)??G4.value.length)}),J4=T(()=>We.value<Ye.length||It.value<Ur.value),Z4=T(()=>We.value>1||It.value>0),Q4=T(()=>Ye.filter(t=>{var n,s;return(s=(n=t.meta)==null?void 0:n.slide)==null?void 0:s.title}).reduce((t,n)=>(Ti(t,n),t),[])),X4=T(()=>Oi(Q4.value,pt.value));T(()=>Pi(X4.value));const e5=T(()=>r5(Yf.value,pt.value,Y4.value));ge(pt,(t,n)=>{Yf.value=Number(t==null?void 0:t.path)-Number(n==null?void 0:n.path)});function Pn(){Ur.value<=It.value?Po():It.value+=1}async function In(){It.value<=0?await Io():It.value-=1}function pl(t){return gt.value?`/presenter/${t}`:`/${t}`}function Po(){const t=Math.min(Ye.length,We.value+1);return Ls(t)}async function Io(t=!0){const n=Math.max(1,We.value-1);await Ls(n),t&&Ur.value&&_t.replace({query:{...Rt.value.query,clicks:Ur.value}})}function Ls(t,n){return _t.push({path:pl(t),query:{...Rt.value.query,clicks:n}})}function t5(t){const n=K(0),{direction:s,distanceX:o,distanceY:r}=Mv(t,{onSwipeStart(l){l.pointerType==="touch"&&($o.value||(n.value=ga()))},onSwipeEnd(l){if(l.pointerType!=="touch"||!n.value||$o.value)return;const a=Math.abs(o.value),i=Math.abs(r.value);a/window.innerWidth>.3||a>100?s.value==="left"?Pn():In():(i/window.innerHeight>.4||i>200)&&(s.value==="down"?Io():Po())}})}async function La(){const{saveAs:t}=await Tn(()=>import("./FileSaver.min-23a5d44b.js").then(n=>n.F),[]);t(typeof Be.download=="string"?Be.download:Be.exportFilename?`${Be.exportFilename}.pdf`:"/owasp-top-ten-workshop/slidev-exported.pdf",`${Be.title}.pdf`)}async function n5(t){var n,s;if(t==null){const o=(s=(n=pt.value)==null?void 0:n.meta)==null?void 0:s.slide;if(!(o!=null&&o.filepath))return!1;t=`${o.filepath}:${o.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(t)}`),!0}function Ti(t,n,s=1){var r,l,a,i,c;const o=(l=(r=n.meta)==null?void 0:r.slide)==null?void 0:l.level;o&&o>s&&t.length>0?Ti(t[t.length-1].children,n,s+1):t.push({children:[],level:s,path:n.path,hideInToc:!!((a=n.meta)!=null&&a.hideInToc),title:(c=(i=n.meta)==null?void 0:i.slide)==null?void 0:c.title})}function Oi(t,n,s=!1,o){return t.map(r=>{const l={...r,active:r.path===(n==null?void 0:n.path),hasActiveParent:s};return l.children.length>0&&(l.children=Oi(l.children,n,l.active||l.hasActiveParent,l)),o&&(l.active||l.activeParent)&&(o.activeParent=!0),l})}function Pi(t,n=1){return t.filter(s=>!s.hideInToc).map(s=>({...s,children:Pi(s.children,n+1)}))}const s5={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function o5(t,n=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let s=t.name.includes("|")?t.name:s5[t.name]||t.name;if(s.includes("|")){const[o,r]=s.split("|").map(l=>l.trim());s=n?r:o}if(s)return{...t,name:s}}function r5(t,n,s){var r,l;let o=t>0?(r=s==null?void 0:s.meta)==null?void 0:r.transition:(l=n==null?void 0:n.meta)==null?void 0:l.transition;return o||(o=Be.transition),o5(o,t<0)}function l5(){const t=Be.titleTemplate.replace("%s",Be.title||"Slidev");Fd({title:t,htmlAttrs:Be.htmlAttrs}),p6(`${t} - shared`),y6(`${t} - drawings`);const n=`${location.origin}_${r6()}`;function s(){U4.value||!gt.value&&!o6.includes(location.host.split(":")[0])||(gt.value?(Ys("page",+We.value),Ys("clicks",It.value)):(Ys("viewerPage",+We.value),Ys("viewerClicks",It.value)),Ys("lastUpdate",{id:n,type:gt.value?"presenter":"viewer",time:new Date().getTime()}))}_t.afterEach(s),ge(It,s),d6(o=>{var l;_t.currentRoute.value.path.match(/^\/(\d+|presenter)\/?/)&&((l=o.lastUpdate)==null?void 0:l.type)==="presenter"&&(+o.page!=+We.value||+It.value!=+o.clicks)&&_t.replace({path:pl(o.page),query:{..._t.currentRoute.value.query,clicks:o.clicks||0}})})}const a5=Ie({__name:"App",setup(t){return I(N),l5(),(n,s)=>{const o=Or("RouterView"),r=Or("StarportCarrier");return D(),re($e,null,[se(o),se(r)],64)}}}),i5=j(a5,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/App.vue"]]);function Fl(t){return t!==null&&typeof t=="object"}function Fa(t,n,s=".",o){if(!Fl(n))return Fa(t,{},s,o);const r=Object.assign({},n);for(const l in t){if(l==="__proto__"||l==="constructor")continue;const a=t[l];a!=null&&(o&&o(r,l,a,s)||(Array.isArray(a)&&Array.isArray(r[l])?r[l]=[...a,...r[l]]:Fl(a)&&Fl(r[l])?r[l]=Fa(a,r[l],(s?`${s}.`:"")+l.toString(),o):r[l]=a))}return r}function c5(t){return(...n)=>n.reduce((s,o)=>Fa(s,o,"",t),{})}const u5=c5(),Gf=1/60*1e3,p5=typeof performance<"u"?()=>performance.now():()=>Date.now(),Jf=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(p5()),Gf);function d5(t){let n=[],s=[],o=0,r=!1,l=!1;const a=new WeakSet,i={schedule:(c,p=!1,d=!1)=>{const f=d&&r,h=f?n:s;return p&&a.add(c),h.indexOf(c)===-1&&(h.push(c),f&&r&&(o=n.length)),c},cancel:c=>{const p=s.indexOf(c);p!==-1&&s.splice(p,1),a.delete(c)},process:c=>{if(r){l=!0;return}if(r=!0,[n,s]=[s,n],s.length=0,o=n.length,o)for(let p=0;p<o;p++){const d=n[p];d(c),a.has(d)&&(i.schedule(d),t())}r=!1,l&&(l=!1,i.process(c))}};return i}const f5=40;let Na=!0,Mo=!1,ja=!1;const Ps={delta:0,timestamp:0},Uo=["read","update","preRender","render","postRender"],dl=Uo.reduce((t,n)=>(t[n]=d5(()=>Mo=!0),t),{}),qa=Uo.reduce((t,n)=>{const s=dl[n];return t[n]=(o,r=!1,l=!1)=>(Mo||m5(),s.schedule(o,r,l)),t},{}),h5=Uo.reduce((t,n)=>(t[n]=dl[n].cancel,t),{});Uo.reduce((t,n)=>(t[n]=()=>dl[n].process(Ps),t),{});const y5=t=>dl[t].process(Ps),Zf=t=>{Mo=!1,Ps.delta=Na?Gf:Math.max(Math.min(t-Ps.timestamp,f5),1),Ps.timestamp=t,ja=!0,Uo.forEach(y5),ja=!1,Mo&&(Na=!1,Jf(Zf))},m5=()=>{Mo=!0,Na=!0,ja||Jf(Zf)},Qf=()=>Ps;function Xf(t,n){var s={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(s[o[r]]=t[o[r]]);return s}var Ii=function(){},Ro=function(){};Ii=function(t,n){!t&&typeof console<"u"&&console.warn(n)},Ro=function(t,n){if(!t)throw new Error(n)};const Ha=(t,n,s)=>Math.min(Math.max(s,t),n),Nl=.001,g5=.01,Fu=10,v5=.05,_5=1;function w5({duration:t=800,bounce:n=.25,velocity:s=0,mass:o=1}){let r,l;Ii(t<=Fu*1e3,"Spring duration must be 10 seconds or less");let a=1-n;a=Ha(v5,_5,a),t=Ha(g5,Fu,t/1e3),a<1?(r=p=>{const d=p*a,f=d*t,h=d-s,y=Va(p,a),m=Math.exp(-f);return Nl-h/y*m},l=p=>{const f=p*a*t,h=f*s+s,y=Math.pow(a,2)*Math.pow(p,2)*t,m=Math.exp(-f),w=Va(Math.pow(p,2),a);return(-r(p)+Nl>0?-1:1)*((h-y)*m)/w}):(r=p=>{const d=Math.exp(-p*t),f=(p-s)*t+1;return-Nl+d*f},l=p=>{const d=Math.exp(-p*t),f=(s-p)*(t*t);return d*f});const i=5/t,c=b5(r,l,i);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(c,2)*o;return{stiffness:p,damping:a*2*Math.sqrt(o*p),duration:t}}}const A5=12;function b5(t,n,s){let o=s;for(let r=1;r<A5;r++)o=o-t(o)/n(o);return o}function Va(t,n){return t*Math.sqrt(1-n*n)}const E5=["duration","bounce"],D5=["stiffness","damping","mass"];function Nu(t,n){return n.some(s=>t[s]!==void 0)}function k5(t){let n=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Nu(t,D5)&&Nu(t,E5)){const s=w5(t);n=Object.assign(Object.assign(Object.assign({},n),s),{velocity:0,mass:1}),n.isResolvedFromDuration=!0}return n}function Mi(t){var{from:n=0,to:s=1,restSpeed:o=2,restDelta:r}=t,l=Xf(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:n};let{stiffness:i,damping:c,mass:p,velocity:d,duration:f,isResolvedFromDuration:h}=k5(l),y=ju,m=ju;function w(){const A=d?-(d/1e3):0,b=s-n,E=c/(2*Math.sqrt(i*p)),_=Math.sqrt(i/p)/1e3;if(r===void 0&&(r=Math.min(Math.abs(s-n)/100,.4)),E<1){const k=Va(_,E);y=C=>{const B=Math.exp(-E*_*C);return s-B*((A+E*_*b)/k*Math.sin(k*C)+b*Math.cos(k*C))},m=C=>{const B=Math.exp(-E*_*C);return E*_*B*(Math.sin(k*C)*(A+E*_*b)/k+b*Math.cos(k*C))-B*(Math.cos(k*C)*(A+E*_*b)-k*b*Math.sin(k*C))}}else if(E===1)y=k=>s-Math.exp(-_*k)*(b+(A+_*b)*k);else{const k=_*Math.sqrt(E*E-1);y=C=>{const B=Math.exp(-E*_*C),F=Math.min(k*C,300);return s-B*((A+E*_*b)*Math.sinh(F)+k*b*Math.cosh(F))/k}}}return w(),{next:A=>{const b=y(A);if(h)a.done=A>=f;else{const E=m(A)*1e3,_=Math.abs(E)<=o,k=Math.abs(s-b)<=r;a.done=_&&k}return a.value=a.done?s:b,a},flipTarget:()=>{d=-d,[n,s]=[s,n],w()}}}Mi.needsInterpolation=(t,n)=>typeof t=="string"||typeof n=="string";const ju=t=>0,eh=(t,n,s)=>{const o=n-t;return o===0?1:(s-t)/o},Ri=(t,n,s)=>-s*t+s*n+t,th=(t,n)=>s=>Math.max(Math.min(s,n),t),go=t=>t%1?Number(t.toFixed(5)):t,Lo=/(-)?([\d]*\.?[\d])+/g,Ua=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,C5=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Wo(t){return typeof t=="string"}const zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vo=Object.assign(Object.assign({},zo),{transform:th(0,1)}),ur=Object.assign(Object.assign({},zo),{default:1}),Li=t=>({test:n=>Wo(n)&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),Kn=Li("deg"),_o=Li("%"),_e=Li("px"),qu=Object.assign(Object.assign({},_o),{parse:t=>_o.parse(t)/100,transform:t=>_o.transform(t*100)}),Fi=(t,n)=>s=>!!(Wo(s)&&C5.test(s)&&s.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(s,n)),nh=(t,n,s)=>o=>{if(!Wo(o))return o;const[r,l,a,i]=o.match(Lo);return{[t]:parseFloat(r),[n]:parseFloat(l),[s]:parseFloat(a),alpha:i!==void 0?parseFloat(i):1}},ls={test:Fi("hsl","hue"),parse:nh("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(t)+", "+_o.transform(go(n))+", "+_o.transform(go(s))+", "+go(vo.transform(o))+")"},x5=th(0,255),jl=Object.assign(Object.assign({},zo),{transform:t=>Math.round(x5(t))}),Cn={test:Fi("rgb","red"),parse:nh("red","green","blue"),transform:({red:t,green:n,blue:s,alpha:o=1})=>"rgba("+jl.transform(t)+", "+jl.transform(n)+", "+jl.transform(s)+", "+go(vo.transform(o))+")"};function B5(t){let n="",s="",o="",r="";return t.length>5?(n=t.substr(1,2),s=t.substr(3,2),o=t.substr(5,2),r=t.substr(7,2)):(n=t.substr(1,1),s=t.substr(2,1),o=t.substr(3,1),r=t.substr(4,1),n+=n,s+=s,o+=o,r+=r),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}}const Wa={test:Fi("#"),parse:B5,transform:Cn.transform},mt={test:t=>Cn.test(t)||Wa.test(t)||ls.test(t),parse:t=>Cn.test(t)?Cn.parse(t):ls.test(t)?ls.parse(t):Wa.parse(t),transform:t=>Wo(t)?t:t.hasOwnProperty("red")?Cn.transform(t):ls.transform(t)},sh="${c}",oh="${n}";function S5(t){var n,s,o,r;return isNaN(t)&&Wo(t)&&((s=(n=t.match(Lo))===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0)+((r=(o=t.match(Ua))===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0)>0}function rh(t){typeof t=="number"&&(t=`${t}`);const n=[];let s=0;const o=t.match(Ua);o&&(s=o.length,t=t.replace(Ua,sh),n.push(...o.map(mt.parse)));const r=t.match(Lo);return r&&(t=t.replace(Lo,oh),n.push(...r.map(zo.parse))),{values:n,numColors:s,tokenised:t}}function lh(t){return rh(t).values}function ah(t){const{values:n,numColors:s,tokenised:o}=rh(t),r=n.length;return l=>{let a=o;for(let i=0;i<r;i++)a=a.replace(i<s?sh:oh,i<s?mt.transform(l[i]):go(l[i]));return a}}const $5=t=>typeof t=="number"?0:t;function T5(t){const n=lh(t);return ah(t)(n.map($5))}const Ko={test:S5,parse:lh,createTransformer:ah,getAnimatableNone:T5},O5=new Set(["brightness","contrast","saturate","opacity"]);function P5(t){let[n,s]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[o]=s.match(Lo)||[];if(!o)return t;const r=s.replace(o,"");let l=O5.has(n)?1:0;return o!==s&&(l*=100),n+"("+l+r+")"}const I5=/([a-z-]*)\(.*?\)/g,za=Object.assign(Object.assign({},Ko),{getAnimatableNone:t=>{const n=t.match(I5);return n?n.map(P5).join(" "):t}});function ql(t,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(n-t)*6*s:s<1/2?n:s<2/3?t+(n-t)*(2/3-s)*6:t}function Hu({hue:t,saturation:n,lightness:s,alpha:o}){t/=360,n/=100,s/=100;let r=0,l=0,a=0;if(!n)r=l=a=s;else{const i=s<.5?s*(1+n):s+n-s*n,c=2*s-i;r=ql(c,i,t+1/3),l=ql(c,i,t),a=ql(c,i,t-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(a*255),alpha:o}}const M5=(t,n,s)=>{const o=t*t,r=n*n;return Math.sqrt(Math.max(0,s*(r-o)+o))},R5=[Wa,Cn,ls],Vu=t=>R5.find(n=>n.test(t)),Uu=t=>`'${t}' is not an animatable color. Use the equivalent color code instead.`,ih=(t,n)=>{let s=Vu(t),o=Vu(n);Ro(!!s,Uu(t)),Ro(!!o,Uu(n));let r=s.parse(t),l=o.parse(n);s===ls&&(r=Hu(r),s=Cn),o===ls&&(l=Hu(l),o=Cn);const a=Object.assign({},r);return i=>{for(const c in a)c!=="alpha"&&(a[c]=M5(r[c],l[c],i));return a.alpha=Ri(r.alpha,l.alpha,i),s.transform(a)}},L5=t=>typeof t=="number",F5=(t,n)=>s=>n(t(s)),ch=(...t)=>t.reduce(F5);function uh(t,n){return L5(t)?s=>Ri(t,n,s):mt.test(t)?ih(t,n):dh(t,n)}const ph=(t,n)=>{const s=[...t],o=s.length,r=t.map((l,a)=>uh(l,n[a]));return l=>{for(let a=0;a<o;a++)s[a]=r[a](l);return s}},N5=(t,n)=>{const s=Object.assign(Object.assign({},t),n),o={};for(const r in s)t[r]!==void 0&&n[r]!==void 0&&(o[r]=uh(t[r],n[r]));return r=>{for(const l in o)s[l]=o[l](r);return s}};function Wu(t){const n=Ko.parse(t),s=n.length;let o=0,r=0,l=0;for(let a=0;a<s;a++)o||typeof n[a]=="number"?o++:n[a].hue!==void 0?l++:r++;return{parsed:n,numNumbers:o,numRGB:r,numHSL:l}}const dh=(t,n)=>{const s=Ko.createTransformer(n),o=Wu(t),r=Wu(n);return o.numHSL===r.numHSL&&o.numRGB===r.numRGB&&o.numNumbers>=r.numNumbers?ch(ph(o.parsed,r.parsed),s):(Ii(!0,`Complex values '${t}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),a=>`${a>0?n:t}`)},j5=(t,n)=>s=>Ri(t,n,s);function q5(t){if(typeof t=="number")return j5;if(typeof t=="string")return mt.test(t)?ih:dh;if(Array.isArray(t))return ph;if(typeof t=="object")return N5}function H5(t,n,s){const o=[],r=s||q5(t[0]),l=t.length-1;for(let a=0;a<l;a++){let i=r(t[a],t[a+1]);if(n){const c=Array.isArray(n)?n[a]:n;i=ch(c,i)}o.push(i)}return o}function V5([t,n],[s]){return o=>s(eh(t,n,o))}function U5(t,n){const s=t.length,o=s-1;return r=>{let l=0,a=!1;if(r<=t[0]?a=!0:r>=t[o]&&(l=o-1,a=!0),!a){let c=1;for(;c<s&&!(t[c]>r||c===o);c++);l=c-1}const i=eh(t[l],t[l+1],r);return n[l](i)}}function fh(t,n,{clamp:s=!0,ease:o,mixer:r}={}){const l=t.length;Ro(l===n.length,"Both input and output ranges must be the same length"),Ro(!o||!Array.isArray(o)||o.length===l-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[l-1]&&(t=[].concat(t),n=[].concat(n),t.reverse(),n.reverse());const a=H5(n,o,r),i=l===2?V5(t,a):U5(t,a);return s?c=>i(Ha(t[0],t[l-1],c)):i}const fl=t=>n=>1-t(1-n),Ni=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,W5=t=>n=>Math.pow(n,t),hh=t=>n=>n*n*((t+1)*n-t),z5=t=>{const n=hh(t);return s=>(s*=2)<1?.5*n(s):.5*(2-Math.pow(2,-10*(s-1)))},yh=1.525,K5=4/11,Y5=8/11,G5=9/10,mh=t=>t,ji=W5(2),J5=fl(ji),gh=Ni(ji),vh=t=>1-Math.sin(Math.acos(t)),_h=fl(vh),Z5=Ni(_h),qi=hh(yh),Q5=fl(qi),X5=Ni(qi),eB=z5(yh),tB=4356/361,nB=35442/1805,sB=16061/1805,Wr=t=>{if(t===1||t===0)return t;const n=t*t;return t<K5?7.5625*n:t<Y5?9.075*n-9.9*t+3.4:t<G5?tB*n-nB*t+sB:10.8*t*t-20.52*t+10.72},oB=fl(Wr),rB=t=>t<.5?.5*(1-Wr(1-t*2)):.5*Wr(t*2-1)+.5;function lB(t,n){return t.map(()=>n||gh).splice(0,t.length-1)}function aB(t){const n=t.length;return t.map((s,o)=>o!==0?o/(n-1):0)}function iB(t,n){return t.map(s=>s*n)}function wr({from:t=0,to:n=1,ease:s,offset:o,duration:r=300}){const l={done:!1,value:t},a=Array.isArray(n)?n:[t,n],i=iB(o&&o.length===a.length?o:aB(a),r);function c(){return fh(i,a,{ease:Array.isArray(s)?s:lB(a,s)})}let p=c();return{next:d=>(l.value=p(d),l.done=d>=r,l),flipTarget:()=>{a.reverse(),p=c()}}}function cB({velocity:t=0,from:n=0,power:s=.8,timeConstant:o=350,restDelta:r=.5,modifyTarget:l}){const a={done:!1,value:n};let i=s*t;const c=n+i,p=l===void 0?c:l(c);return p!==c&&(i=p-n),{next:d=>{const f=-i*Math.exp(-d/o);return a.done=!(f>r||f<-r),a.value=a.done?p:p+f,a},flipTarget:()=>{}}}const zu={keyframes:wr,spring:Mi,decay:cB};function uB(t){if(Array.isArray(t.to))return wr;if(zu[t.type])return zu[t.type];const n=new Set(Object.keys(t));return n.has("ease")||n.has("duration")&&!n.has("dampingRatio")?wr:n.has("dampingRatio")||n.has("stiffness")||n.has("mass")||n.has("damping")||n.has("restSpeed")||n.has("restDelta")?Mi:wr}function wh(t,n,s=0){return t-n-s}function pB(t,n,s=0,o=!0){return o?wh(n+-t,n,s):n-(t-n)+s}function dB(t,n,s,o){return o?t>=n+s:t<=-s}const fB=t=>{const n=({delta:s})=>t(s);return{start:()=>qa.update(n,!0),stop:()=>h5.update(n)}};function Ah(t){var n,s,{from:o,autoplay:r=!0,driver:l=fB,elapsed:a=0,repeat:i=0,repeatType:c="loop",repeatDelay:p=0,onPlay:d,onStop:f,onComplete:h,onRepeat:y,onUpdate:m}=t,w=Xf(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:A}=w,b,E=0,_=w.duration,k,C=!1,B=!0,F;const $=uB(w);!((s=(n=$).needsInterpolation)===null||s===void 0)&&s.call(n,o,A)&&(F=fh([0,100],[o,A],{clamp:!1}),o=0,A=100);const V=$(Object.assign(Object.assign({},w),{from:o,to:A}));function oe(){E++,c==="reverse"?(B=E%2===0,a=pB(a,_,p,B)):(a=wh(a,_,p),c==="mirror"&&V.flipTarget()),C=!1,y&&y()}function pe(){b.stop(),h&&h()}function Y(ve){if(B||(ve=-ve),a+=ve,!C){const we=V.next(Math.max(0,a));k=we.value,F&&(k=F(k)),C=B?we.done:a<=0}m==null||m(k),C&&(E===0&&(_??(_=a)),E<i?dB(a,_,p,B)&&oe():pe())}function me(){d==null||d(),b=l(Y),b.start()}return r&&me(),{stop:()=>{f==null||f(),b.stop()}}}function bh(t,n){return n?t*(1e3/n):0}function hB({from:t=0,velocity:n=0,min:s,max:o,power:r=.8,timeConstant:l=750,bounceStiffness:a=500,bounceDamping:i=10,restDelta:c=1,modifyTarget:p,driver:d,onUpdate:f,onComplete:h,onStop:y}){let m;function w(_){return s!==void 0&&_<s||o!==void 0&&_>o}function A(_){return s===void 0?o:o===void 0||Math.abs(s-_)<Math.abs(o-_)?s:o}function b(_){m==null||m.stop(),m=Ah(Object.assign(Object.assign({},_),{driver:d,onUpdate:k=>{var C;f==null||f(k),(C=_.onUpdate)===null||C===void 0||C.call(_,k)},onComplete:h,onStop:y}))}function E(_){b(Object.assign({type:"spring",stiffness:a,damping:i,restDelta:c},_))}if(w(t))E({from:t,velocity:n,to:A(t)});else{let _=r*n+t;typeof p<"u"&&(_=p(_));const k=A(_),C=k===s?-1:1;let B,F;const $=V=>{B=F,F=V,n=bh(V-B,Qf().delta),(C===1&&V>k||C===-1&&V<k)&&E({from:V,to:k,velocity:n})};b({type:"decay",from:t,velocity:n,timeConstant:l,power:r,restDelta:c,modifyTarget:p,onUpdate:w(_)?$:void 0})}return{stop:()=>m==null?void 0:m.stop()}}const Eh=(t,n)=>1-3*n+3*t,Dh=(t,n)=>3*n-6*t,kh=t=>3*t,zr=(t,n,s)=>((Eh(n,s)*t+Dh(n,s))*t+kh(n))*t,Ch=(t,n,s)=>3*Eh(n,s)*t*t+2*Dh(n,s)*t+kh(n),yB=1e-7,mB=10;function gB(t,n,s,o,r){let l,a,i=0;do a=n+(s-n)/2,l=zr(a,o,r)-t,l>0?s=a:n=a;while(Math.abs(l)>yB&&++i<mB);return a}const vB=8,_B=.001;function wB(t,n,s,o){for(let r=0;r<vB;++r){const l=Ch(n,s,o);if(l===0)return n;const a=zr(n,s,o)-t;n-=a/l}return n}const Ar=11,pr=1/(Ar-1);function AB(t,n,s,o){if(t===n&&s===o)return mh;const r=new Float32Array(Ar);for(let a=0;a<Ar;++a)r[a]=zr(a*pr,t,s);function l(a){let i=0,c=1;const p=Ar-1;for(;c!==p&&r[c]<=a;++c)i+=pr;--c;const d=(a-r[c])/(r[c+1]-r[c]),f=i+d*pr,h=Ch(f,t,s);return h>=_B?wB(a,f,t,s):h===0?f:gB(a,i,i+pr,t,s)}return a=>a===0||a===1?a:zr(l(a),n,o)}const Hl={};class bB{constructor(){this.subscriptions=new Set}add(n){return this.subscriptions.add(n),()=>this.subscriptions.delete(n)}notify(n,s,o){if(this.subscriptions.size)for(const r of this.subscriptions)r(n,s,o)}clear(){this.subscriptions.clear()}}function Ku(t){return!isNaN(parseFloat(t))}class EB{constructor(n){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new bB,this.canTrackVelocity=!1,this.updateAndNotify=s=>{this.prev=this.current,this.current=s;const{delta:o,timestamp:r}=Qf();this.lastUpdated!==r&&(this.timeDelta=o,this.lastUpdated=r),qa.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>qa.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{this.canTrackVelocity||(this.canTrackVelocity=Ku(this.current)),s!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=n,this.canTrackVelocity=Ku(this.current)}onChange(n){return this.updateSubscribers.add(n)}clearListeners(){this.updateSubscribers.clear()}set(n){this.updateAndNotify(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bh(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(n){return this.stop(),new Promise(s=>{const{stop:o}=n(s);this.stopAnimation=o}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function DB(t){return new EB(t)}const{isArray:kB}=Array;function CB(){const t=K({}),n=o=>{const r=l=>{t.value[l]&&(t.value[l].stop(),t.value[l].destroy(),delete t.value[l])};o?kB(o)?o.forEach(r):r(o):Object.keys(t.value).forEach(r)},s=(o,r,l)=>{if(t.value[o])return t.value[o];const a=DB(r);return a.onChange(i=>l[o]=i),t.value[o]=a,a};return L6(n),{motionValues:t,get:s,stop:n}}function xB(t){return Array.isArray(t)}function Yn(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function Vl(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function BB(t){return{type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}}function Ul(){return{type:"keyframes",ease:"linear",duration:300}}function SB(t){return{type:"keyframes",duration:800,values:t}}const Yu={default:BB,x:Yn,y:Yn,z:Yn,rotate:Yn,rotateX:Yn,rotateY:Yn,rotateZ:Yn,scaleX:Vl,scaleY:Vl,scale:Vl,backgroundColor:Ul,color:Ul,opacity:Ul};function xh(t,n){let s;return xB(n)?s=SB:s=Yu[t]||Yu.default,{to:n,...s(n)}}const Gu={...zo,transform:Math.round},Bh={color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,size:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,rotate:Kn,rotateX:Kn,rotateY:Kn,rotateZ:Kn,scale:ur,scaleX:ur,scaleY:ur,scaleZ:ur,skew:Kn,skewX:Kn,skewY:Kn,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:vo,originX:qu,originY:qu,originZ:_e,zIndex:Gu,filter:za,WebkitFilter:za,fillOpacity:vo,strokeOpacity:vo,numOctaves:Gu},Hi=t=>Bh[t];function Sh(t,n){return n&&typeof t=="number"&&n.transform?n.transform(t):t}function $B(t,n){let s=Hi(t);return s!==za&&(s=Ko),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const TB={linear:mh,easeIn:ji,easeInOut:gh,easeOut:J5,circIn:vh,circInOut:Z5,circOut:_h,backIn:qi,backInOut:X5,backOut:Q5,anticipate:eB,bounceIn:oB,bounceInOut:rB,bounceOut:Wr};function Ju(t){if(Array.isArray(t)){const[n,s,o,r]=t;return AB(n,s,o,r)}else if(typeof t=="string")return TB[t];return t}function OB(t){return Array.isArray(t)&&typeof t[0]!="number"}function Zu(t,n){return t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&Ko.test(n)&&!n.startsWith("url("))}function PB(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function IB({ease:t,times:n,delay:s,...o}){const r={...o};return n&&(r.offset=n),t&&(r.ease=OB(t)?t.map(Ju):Ju(t)),s&&(r.elapsed=-s),r}function MB(t,n,s){return Array.isArray(n.to)&&(t.duration||(t.duration=800)),PB(n),RB(t)||(t={...t,...xh(s,n.to)}),{...n,...IB(t)}}function RB({delay:t,repeat:n,repeatType:s,repeatDelay:o,from:r,...l}){return!!Object.keys(l).length}function LB(t,n){return t[n]||t.default||t}function FB(t,n,s,o,r){const l=LB(o,t);let a=l.from===null||l.from===void 0?n.get():l.from;const i=Zu(t,s);a==="none"&&i&&typeof s=="string"&&(a=$B(t,s));const c=Zu(t,a);function p(f){const h={from:a,to:s,velocity:o.velocity?o.velocity:n.getVelocity(),onUpdate:y=>n.set(y)};return l.type==="inertia"||l.type==="decay"?hB({...h,...l}):Ah({...MB(l,h,t),onUpdate:y=>{h.onUpdate(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o.onComplete&&o.onComplete(),r&&r(),f&&f()}})}function d(f){return n.set(s),o.onComplete&&o.onComplete(),r&&r(),f&&f(),{stop:()=>{}}}return!c||!i||l.type===!1?d:p}function NB(){const{motionValues:t,stop:n,get:s}=CB();return{motionValues:t,stop:n,push:(r,l,a,i={},c)=>{const p=a[r],d=s(r,p,a);if(i&&i.immediate){d.set(l);return}const f=FB(r,d,l,i,c);d.start(f)}}}function jB(t,n={},{motionValues:s,push:o,stop:r}=NB()){const l=O(n),a=K(!1);ge(s,f=>{a.value=Object.values(f).filter(h=>h.isAnimating()).length>0},{immediate:!0,deep:!0});const i=f=>{if(!l||!l[f])throw new Error(`The variant ${f} does not exist.`);return l[f]},c=f=>(typeof f=="string"&&(f=i(f)),Promise.all(Object.entries(f).map(([h,y])=>{if(h!=="transition")return new Promise(m=>o(h,y,t,f.transition||xh(h,f[h]),m))}).filter(Boolean)));return{isAnimating:a,apply:c,set:f=>{const h=ma(f)?f:i(f);Object.entries(h).forEach(([y,m])=>{y!=="transition"&&o(y,m,t,{immediate:!0})})},leave:async f=>{let h;if(l&&(l.leave&&(h=l.leave),!l.leave&&l.initial&&(h=l.initial)),!h){f();return}await c(h),f()},stop:r}}const Vi=typeof window<"u",qB=()=>Vi&&window.onpointerdown===null,HB=()=>Vi&&window.ontouchstart===null,VB=()=>Vi&&window.onmousedown===null;function UB({target:t,state:n,variants:s,apply:o}){const r=O(s),l=K(!1),a=K(!1),i=K(!1),c=T(()=>{let d=[];return r&&(r.hovered&&(d=[...d,...Object.keys(r.hovered)]),r.tapped&&(d=[...d,...Object.keys(r.tapped)]),r.focused&&(d=[...d,...Object.keys(r.focused)])),d}),p=T(()=>{const d={};Object.assign(d,n.value),l.value&&r.hovered&&Object.assign(d,r.hovered),a.value&&r.tapped&&Object.assign(d,r.tapped),i.value&&r.focused&&Object.assign(d,r.focused);for(const f in d)c.value.includes(f)||delete d[f];return d});r.hovered&&(Ae(t,"mouseenter",()=>l.value=!0),Ae(t,"mouseleave",()=>{l.value=!1,a.value=!1}),Ae(t,"mouseout",()=>{l.value=!1,a.value=!1})),r.tapped&&(VB()&&(Ae(t,"mousedown",()=>a.value=!0),Ae(t,"mouseup",()=>a.value=!1)),qB()&&(Ae(t,"pointerdown",()=>a.value=!0),Ae(t,"pointerup",()=>a.value=!1)),HB()&&(Ae(t,"touchstart",()=>a.value=!0),Ae(t,"touchend",()=>a.value=!1))),r.focused&&(Ae(t,"focus",()=>i.value=!0),Ae(t,"blur",()=>i.value=!1)),ge(p,o)}function WB({set:t,target:n,variants:s,variant:o}){const r=O(s);ge(()=>n,()=>{r&&(r.initial&&t("initial"),r.enter&&(o.value="enter"))},{immediate:!0,flush:"pre"})}function zB({state:t,apply:n}){ge(t,s=>{s&&n(s)},{immediate:!0})}function KB({target:t,variants:n,variant:s}){const o=O(n);o&&(o.visible||o.visibleOnce)&&$v(t,([{isIntersecting:r}])=>{o.visible?r?s.value="visible":s.value="initial":o.visibleOnce&&(r&&s.value!=="visibleOnce"?s.value="visibleOnce":s.value||(s.value="initial"))})}function YB(t,n={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){n.lifeCycleHooks&&WB(t),n.syncVariants&&zB(t),n.visibilityHooks&&KB(t),n.eventListeners&&UB(t)}function $h(t={}){const n=He({...t}),s=K({});return ge(n,()=>{const o={};for(const[r,l]of Object.entries(n)){const a=Hi(r),i=Sh(l,a);o[r]=i}s.value=o},{immediate:!0,deep:!0}),{state:n,style:s}}function Ui(t,n){ge(()=>ot(t),s=>{s&&n(s)},{immediate:!0})}const GB={x:"translateX",y:"translateY",z:"translateZ"};function Th(t={},n=!0){const s=He({...t}),o=K("");return ge(s,r=>{let l="",a=!1;if(n&&(r.x||r.y||r.z)){const i=[r.x||0,r.y||0,r.z||0].map(_e.transform).join(",");l+=`translate3d(${i}) `,a=!0}for(const[i,c]of Object.entries(r)){if(n&&(i==="x"||i==="y"||i==="z"))continue;const p=Hi(i),d=Sh(c,p);l+=`${GB[i]||i}(${d}) `}n&&!a&&(l+="translateZ(0px) "),o.value=l.trim()},{immediate:!0,deep:!0}),{state:s,transform:o}}const JB=["","X","Y","Z"],ZB=["perspective","translate","scale","rotate","skew"],Oh=["transformPerspective","x","y","z"];ZB.forEach(t=>{JB.forEach(n=>{const s=t+n;Oh.push(s)})});const QB=new Set(Oh);function Wi(t){return QB.has(t)}const XB=new Set(["originX","originY","originZ"]);function Ph(t){return XB.has(t)}function e2(t){const n={},s={};return Object.entries(t).forEach(([o,r])=>{Wi(o)||Ph(o)?n[o]=r:s[o]=r}),{transform:n,style:s}}function Ih(t){const{transform:n,style:s}=e2(t),{transform:o}=Th(n),{style:r}=$h(s);return o.value&&(r.value.transform=o.value),r.value}function t2(t,n){let s,o;const{state:r,style:l}=$h();return Ui(t,a=>{o=a;for(const i of Object.keys(Bh))a.style[i]===null||a.style[i]===""||Wi(i)||Ph(i)||(r[i]=a.style[i]);s&&Object.entries(s).forEach(([i,c])=>a.style[i]=c),n&&n(r)}),ge(l,a=>{if(!o){s=a;return}for(const i in a)o.style[i]=a[i]},{immediate:!0}),{style:r}}function n2(t){const n=t.trim().split(/\) |\)/);if(n.length===1)return{};const s=o=>o.endsWith("px")||o.endsWith("deg")?parseFloat(o):isNaN(Number(o))?Number(o):o;return n.reduce((o,r)=>{if(!r)return o;const[l,a]=r.split("("),c=a.split(",").map(d=>s(d.endsWith(")")?d.replace(")",""):d.trim())),p=c.length===1?c[0]:c;return{...o,[l]:p}},{})}function s2(t,n){Object.entries(n2(n)).forEach(([s,o])=>{const r=["x","y","z"];if(s==="translate3d"){if(o===0){r.forEach(l=>t[l]=0);return}o.forEach((l,a)=>t[r[a]]=l);return}if(o=parseFloat(o),s==="translateX"){t.x=o;return}if(s==="translateY"){t.y=o;return}if(s==="translateZ"){t.z=o;return}t[s]=o})}function o2(t,n){let s,o;const{state:r,transform:l}=Th();return Ui(t,a=>{o=a,a.style.transform&&s2(r,a.style.transform),s&&(a.style.transform=s),n&&n(r)}),ge(l,a=>{if(!o){s=a;return}o.style.transform=a},{immediate:!0}),{transform:r}}function r2(t,n){const s=He({}),o=a=>Object.entries(a).forEach(([i,c])=>s[i]=c),{style:r}=t2(t,o),{transform:l}=o2(t,o);return ge(s,a=>{Object.entries(a).forEach(([i,c])=>{const p=Wi(i)?l:r;p[i]&&p[i]===c||(p[i]=c)})},{immediate:!0,deep:!0}),Ui(t,()=>n&&o(n)),{motionProperties:s,style:r,transform:l}}function l2(t={}){const n=O(t),s=K();return{state:T(()=>{if(s.value)return n[s.value]}),variant:s}}function Mh(t,n={},s){const{motionProperties:o}=r2(t),{variant:r,state:l}=l2(n),a=jB(o,n),i={target:t,variant:r,variants:n,state:l,motionProperties:o,...a};return YB(i,s),i}const a2=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"];function i2(t,n){const s=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};s&&(s.variants&&ma(s.variants)&&(n.value={...n.value,...s.variants}),a2.forEach(o=>{if(o==="delay"){if(s&&s[o]&&typeof s[o]=="number"){const r=s[o];n&&n.value&&(n.value.enter&&(n.value.enter.transition||(n.value.enter.transition={}),n.value.enter.transition={delay:r,...n.value.enter.transition}),n.value.visible&&(n.value.visible.transition||(n.value.visible.transition={}),n.value.visible.transition={delay:r,...n.value.visible.transition}),n.value.visibleOnce&&(n.value.visibleOnce.transition||(n.value.visibleOnce.transition={}),n.value.visibleOnce.transition={delay:r,...n.value.visibleOnce.transition}))}return}o==="visible-once"&&(o="visibleOnce"),s&&s[o]&&ma(s[o])&&(n.value[o]=s[o])}))}function Wl(t){return{created:(s,o,r)=>{const l=o.value&&typeof o.value=="string"?o.value:r.key;l&&Hl[l]&&Hl[l].stop();const a=K(t||{});typeof o.value=="object"&&(a.value=o.value),i2(r,a);const i=Mh(s,a);s.motionInstance=i,l&&(Hl[l]=i)},getSSRProps(s,o){let{initial:r}=s.value||o&&(o==null?void 0:o.props)||{};r=O(r);const l=u5((t==null?void 0:t.initial)||{},r||{});return!l||Object.keys(l).length===0?void 0:{style:Ih(l)}}}}const c2={initial:{opacity:0},enter:{opacity:1}},u2={initial:{opacity:0},visible:{opacity:1}},p2={initial:{opacity:0},visibleOnce:{opacity:1}},d2={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},f2={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},h2={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},y2={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},m2={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},g2={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},v2={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},_2={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},w2={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},A2={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},b2={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},E2={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},D2={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},k2={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},C2={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},x2={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},B2={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},S2={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},$2={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},T2={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},O2={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},P2={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},I2={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},M2={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},R2={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},L2={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},F2={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},Ka={__proto__:null,fade:c2,fadeVisible:u2,fadeVisibleOnce:p2,pop:d2,popVisible:f2,popVisibleOnce:h2,rollBottom:D2,rollLeft:y2,rollRight:v2,rollTop:A2,rollVisibleBottom:k2,rollVisibleLeft:m2,rollVisibleOnceBottom:C2,rollVisibleOnceLeft:g2,rollVisibleOnceRight:w2,rollVisibleOnceTop:E2,rollVisibleRight:_2,rollVisibleTop:b2,slideBottom:R2,slideLeft:x2,slideRight:$2,slideTop:P2,slideVisibleBottom:L2,slideVisibleLeft:B2,slideVisibleOnceBottom:F2,slideVisibleOnceLeft:S2,slideVisibleOnceRight:O2,slideVisibleOnceTop:M2,slideVisibleRight:T2,slideVisibleTop:I2},N2=Ie({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(t){var i;const n=Im(),s=He({});if(!t.is&&!n.default)return()=>kt("div",{});const o=T(()=>{let c;return t.preset&&(c=Ka[t.preset]),c}),r=T(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused})),l=T(()=>{const c={...r.value,...o.value||{},...t.variants||{}};return t.delay&&(c.enter.transition={...c.enter.transition},c.enter.transition.delay=parseInt(t.delay)),c}),a=T(()=>{if(!t.is)return;let c=t.is;return typeof a.value=="string"&&!mp(c)&&(c=Or(c)),c});if(((i=process==null?void 0:process.env)==null?void 0:i.NODE_ENV)==="development"||process!=null&&process.dev){const c=p=>{var d;(d=p.variants)!=null&&d.initial&&p.set("initial"),setTimeout(()=>{var f,h,y;(f=p.variants)!=null&&f.enter&&p.apply("enter"),(h=p.variants)!=null&&h.visible&&p.apply("visible"),(y=p.variants)!=null&&y.visibleOnce&&p.apply("visibleOnce")},10)};rl(()=>Object.entries(s).forEach(([p,d])=>c(d)))}return{slots:n,component:a,motionConfig:l,instances:s}},render({slots:t,motionConfig:n,instances:s,component:o}){var i;const r=Ih(n.initial||{}),l=(c,p)=>(c.props||(c.props={}),c.props.style=r,c.props.onVnodeMounted=({el:d})=>{const f=Mh(d,n);s[p]=f},c);if(o){const c=kt(o,void 0,t);return l(c,0),c}return(((i=t.default)==null?void 0:i.call(t))||[]).map((c,p)=>l(c,p))}});function j2(t){const n="/_,:;",s="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",o=new RegExp(n.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,r=>`-${r}`).toLowerCase().replace(/\s+/g,"-").replace(o,r=>s.charAt(n.indexOf(r))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const q2={install(t,n){if(t.directive("motion",Wl()),t.component("Motion",N2),!n||n&&!n.excludePresets)for(const s in Ka){const o=Ka[s];t.directive(`motion-${j2(s)}`,Wl(o))}if(n&&n.directives)for(const s in n.directives){const o=n.directives[s];o.initial,t.directive(`motion-${s}`,Wl(o))}}};var Qu;const wo=typeof window<"u",H2=Object.prototype.toString,V2=t=>H2.call(t)==="[object Object]";wo&&((Qu=window==null?void 0:window.navigator)!=null&&Qu.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function U2(t){return Xa()?(wp(t),!0):!1}function W2(t){var n;const s=O(t);return(n=s==null?void 0:s.$el)!=null?n:s}const z2=wo?window:void 0,Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ep="__vueuse_ssr_handlers__";Xu[ep]=Xu[ep]||{};function K2(t,n={}){const{immediate:s=!0,window:o=z2}=n,r=K(!1);let l=null;function a(){!r.value||!o||(t(),l=o.requestAnimationFrame(a))}function i(){!r.value&&o&&(r.value=!0,a())}function c(){r.value=!1,l!=null&&o&&(o.cancelAnimationFrame(l),l=null)}return s&&i(),U2(c),{isActive:r,pause:c,resume:i}}var tp;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(tp||(tp={}));const hl="vue-starport-injection",Rh="vue-starport-options",Y2={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},Lh={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}};var G2=Object.defineProperty,Kr=Object.getOwnPropertySymbols,Fh=Object.prototype.hasOwnProperty,Nh=Object.prototype.propertyIsEnumerable,np=(t,n,s)=>n in t?G2(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,J2=(t,n)=>{for(var s in n||(n={}))Fh.call(n,s)&&np(t,s,n[s]);if(Kr)for(var s of Kr(n))Nh.call(n,s)&&np(t,s,n[s]);return t},sp=(t,n)=>{var s={};for(var o in t)Fh.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Kr)for(var o of Kr(t))n.indexOf(o)<0&&Nh.call(t,o)&&(s[o]=t[o]);return s};const Z2=Ie({name:"StarportProxy",props:J2({props:{type:Object,default:()=>({})},component:{type:Object,required:!0}},Lh),setup(t,n){const s=I(hl),o=T(()=>s.getInstance(t.port,t.component)),r=K(),l=o.value.generateId(),a=K(!1);return o.value.isVisible||(o.value.land(),a.value=!0),qn(async()=>{if(o.value.el){console.error(`[Vue Starport] Multiple proxies of "${o.value.componentName}" with port "${t.port}" detected. The later one will be ignored.`);return}if(o.value.el=r.value,await st(),a.value=!0,o.value.rect.update(),o.value.rect.width===0||o.value.rect.height===0){const i=o.value.rect.width===0?"width":"height";console.warn(`[Vue Starport] The proxy of component "${o.value.componentName}" (port "${t.port}") has no ${i} on initial render, have you set the size for it?`),console.warn("element:",o.value.el),console.warn("rect:",o.value.rect)}}),qo(async()=>{o.value.rect.update(),o.value.liftOff(),o.value.el=void 0,a.value=!1,!o.value.options.keepAlive&&(await st(),await st(),!o.value.el&&s.dispose(o.value.port))}),ge(()=>t,async()=>{o.value.props&&await st();const i=t,{props:c}=i,p=sp(i,["props"]);o.value.props=c||{},o.value.setLocalOptions(p)},{deep:!0,immediate:!0}),()=>{const i=t,{initialProps:c,mountedProps:p}=i,d=sp(i,["initialProps","mountedProps"]),f=Ve(d,(a.value?p:c)||{});return kt("div",Ve(f,{id:l,ref:r,"data-starport-proxy":o.value.componentId,"data-starport-landed":o.value.isLanded?"true":void 0,"data-starport-floating":o.value.isLanded?void 0:"true"}),n.slots.default?kt(n.slots.default):void 0)}}});var Q2=Object.defineProperty,X2=Object.defineProperties,eS=Object.getOwnPropertyDescriptors,op=Object.getOwnPropertySymbols,tS=Object.prototype.hasOwnProperty,nS=Object.prototype.propertyIsEnumerable,rp=(t,n,s)=>n in t?Q2(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,sS=(t,n)=>{for(var s in n||(n={}))tS.call(n,s)&&rp(t,s,n[s]);if(op)for(var s of op(n))nS.call(n,s)&&rp(t,s,n[s]);return t},oS=(t,n)=>X2(t,eS(n));const rS=Ie({name:"Starport",inheritAttrs:!0,props:Lh,setup(t,n){const s=K(!1);return qn(()=>{if(s.value=!0,!I(hl))throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.")}),()=>{var a,i;const o=(i=(a=n.slots).default)==null?void 0:i.call(a);if(!o)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(o.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${o.length}`);const r=o[0];let l=r.type;return(!V2(l)||Fn(l))&&(l={render(){return o}}),kt(Z2,oS(sS({},t),{key:t.port,component:Xr(l),props:r.props}))}}});function lS(t){const n=He({height:0,width:0,left:0,top:0,update:o,listen:l,pause:a,margin:"0px",padding:"0px"}),s=wo?document.documentElement||document.body:void 0;function o(){if(!wo)return;const i=W2(t);if(!i)return;const{height:c,width:p,left:d,top:f}=i.getBoundingClientRect(),h=window.getComputedStyle(i),y=h.margin,m=h.padding;Object.assign(n,{height:c,width:p,left:d,top:s.scrollTop+f,margin:y,padding:m})}const r=K2(o,{immediate:!1});function l(){wo&&(o(),r.resume())}function a(){r.pause()}return n}let aS=(t,n=21)=>(s=n)=>{let o="",r=s;for(;r--;)o+=t[Math.random()*t.length|0];return o};const lp=aS("abcdefghijklmnopqrstuvwxyz",5);function ap(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function iS(t){var n;return t.name||((n=t.__file)==null?void 0:n.split(/[\/\\.]/).slice(-2)[0])||""}var cS=Object.defineProperty,ip=Object.getOwnPropertySymbols,uS=Object.prototype.hasOwnProperty,pS=Object.prototype.propertyIsEnumerable,cp=(t,n,s)=>n in t?cS(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,zl=(t,n)=>{for(var s in n||(n={}))uS.call(n,s)&&cp(t,s,n[s]);if(ip)for(var s of ip(n))pS.call(n,s)&&cp(t,s,n[s]);return t};function dS(t,n,s={}){const o=iS(n),r=ap(o)||lp(),l=K(),a=K(null),i=K(!1),c=K(!1),p=sy(!0),d=K({}),f=T(()=>zl(zl(zl({},Y2),s),d.value)),h=K(0);let y;p.run(()=>{y=lS(l),ge(l,async b=>{b&&(c.value=!0),await st(),l.value||(c.value=!1)})});const m=ap(t);function w(){return`starport-${r}-${m}-${lp()}`}const A=w();return He({el:l,id:A,port:t,props:a,rect:y,scope:p,isLanded:i,isVisible:c,options:f,liftOffTime:h,component:n,componentName:o,componentId:r,generateId:w,setLocalOptions(b={}){d.value=JSON.parse(JSON.stringify(b))},elRef(){return l},liftOff(){i.value&&(i.value=!1,h.value=Date.now(),y.listen())},land(){i.value||(i.value=!0,y.pause())}})}function fS(t){const n=He(new Map);function s(r,l){let a=n.get(r);return a||(a=dS(r,l,t),n.set(r,a)),a.component=l,a}function o(r){var l;(l=n.get(r))==null||l.scope.stop(),n.delete(r)}return{portMap:n,dispose:o,getInstance:s}}var hS=Object.defineProperty,yS=Object.defineProperties,mS=Object.getOwnPropertyDescriptors,up=Object.getOwnPropertySymbols,gS=Object.prototype.hasOwnProperty,vS=Object.prototype.propertyIsEnumerable,pp=(t,n,s)=>n in t?hS(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,_S=(t,n)=>{for(var s in n||(n={}))gS.call(n,s)&&pp(t,s,n[s]);if(up)for(var s of up(n))vS.call(n,s)&&pp(t,s,n[s]);return t},wS=(t,n)=>yS(t,mS(n));const AS=Ie({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(t){const n=I(hl);if(!n)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const s=T(()=>n.getInstance(t.port,t.component)),o=T(()=>{var a;return((a=s.value.el)==null?void 0:a.id)||s.value.id}),r=T(()=>{const a=Date.now()-s.value.liftOffTime,i=Math.max(0,s.value.options.duration-a),c=s.value.rect,p={position:"absolute",left:0,top:0,width:`${c.width}px`,height:`${c.height}px`,margin:c.margin,padding:c.padding,transform:`translate3d(${c.left}px,${c.top}px,0px)`};return!s.value.isVisible||!s.value.el?wS(_S({},p),{zIndex:-1,display:"none"}):(s.value.isLanded?p.display="none":Object.assign(p,{transitionProperty:"all",transitionDuration:`${i}ms`,transitionTimingFunction:s.value.options.easing}),p)}),l={onTransitionend(a){s.value.isLanded||console.warn(`[Vue Starport] Transition duration of component "${s.value.componentName}" is too short (${a.elapsedTime}s) that may cause animation glitches. Try to increase the duration of that component, or decrease the duration the Starport (current: ${s.value.options.duration/1e3}s).`)}};return()=>{const a=!!(s.value.isLanded&&s.value.el);return kt("div",{style:r.value,"data-starport-craft":s.value.componentId,"data-starport-landed":s.value.isLanded?"true":void 0,"data-starport-floating":s.value.isLanded?void 0:"true",onTransitionend:s.value.land},kt(i9,{to:a?`#${o.value}`:"body",disabled:!a},kt(s.value.component,Ve(l,s.value.props))))}}}),bS=Ie({name:"StarportCarrier",setup(t,{slots:n}){const s=fS(I(Rh,{}));return Bt().appContext.app.provide(hl,s),()=>{var r;return[(r=n.default)==null?void 0:r.call(n),Array.from(s.portMap.entries()).map(([l,{component:a}])=>kt(AS,{key:l,port:l,component:a}))]}}});function ES(t={}){return{install(n){n.provide(Rh,t),n.component("Starport",rS),n.component("StarportCarrier",bS)}}}function DS(t){function n(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}n(),window.addEventListener("resize",n),t.app.use(q2),t.app.use(ES({keepAlive:!0}))}function wt(t,n,s){var o;return((o=t.instance)==null?void 0:o.$).provides[n]??s}function kS(){return{install(t){t.directive("click",{name:"v-click",mounted(n,s){var d,f,h,y,m,w;if(mo.value||(d=wt(s,po))!=null&&d.value)return;const o=wt(s,es),r=wt(s,uo),l=wt(s,ha),a=s.modifiers.hide!==!1&&s.modifiers.hide!=null,i=s.modifiers.fade!==!1&&s.modifiers.fade!=null,c=((f=o==null?void 0:o.value)==null?void 0:f.length)||0,p=i?s6:Cl;if(o&&!((h=o==null?void 0:o.value)!=null&&h.includes(n))&&o.value.push(n),s.value==null&&(s.value=(y=o==null?void 0:o.value)==null?void 0:y.length),typeof s.value=="string"&&(s.value.startsWith("+")||s.value.startsWith("-"))&&(s.value=(((m=o==null?void 0:o.value)==null?void 0:m.length)||0)+Number(s.value)),!(l!=null&&l.value.has(s.value)))l==null||l.value.set(s.value,[n]);else if(!((w=l==null?void 0:l.value.get(s.value))!=null&&w.includes(n))){const A=(l==null?void 0:l.value.get(s.value))||[];l==null||l.value.set(s.value,[n].concat(A))}n==null||n.classList.toggle(Jn,!0),r&&ge(r,()=>{const A=(r==null?void 0:r.value)??0,b=s.value!=null?A>=s.value:A>c;n.classList.contains(xl)||n.classList.toggle(p,!b),a!==!1&&a!==void 0&&n.classList.toggle(p,b),n.classList.toggle(Ks,!1);const E=l==null?void 0:l.value.get(A);E==null||E.forEach((_,k)=>{_.classList.toggle(or,!1),k===E.length-1?_.classList.toggle(Ks,!0):_.classList.toggle(or,!0)}),n.classList.contains(Ks)||n.classList.toggle(or,b)},{immediate:!0})},unmounted(n,s){n==null||n.classList.toggle(Jn,!1);const o=wt(s,es);o!=null&&o.value&&ya(o.value,n)}}),t.directive("after",{name:"v-after",mounted(n,s){var i,c,p;if(mo.value||(i=wt(s,po))!=null&&i.value)return;const o=wt(s,es),r=wt(s,uo),l=wt(s,ha),a=o==null?void 0:o.value.length;s.value==null&&(s.value=o==null?void 0:o.value.length),typeof s.value=="string"&&(s.value.startsWith("+")||s.value.startsWith("-"))&&(s.value=(((c=o==null?void 0:o.value)==null?void 0:c.length)||0)+Number(s.value)),l!=null&&l.value.has(s.value)?(p=l==null?void 0:l.value.get(s.value))==null||p.push(n):l==null||l.value.set(s.value,[n]),n==null||n.classList.toggle(Jn,!0),r&&ge(r,()=>{const d=(r.value??0)>=(s.value??a??0);n.classList.contains(xl)||n.classList.toggle(Cl,!d),n.classList.toggle(Ks,!1),n.classList.contains(Ks)||n.classList.toggle(or,d)},{immediate:!0})},unmounted(n){n==null||n.classList.toggle(Jn,!0)}}),t.directive("click-hide",{name:"v-click-hide",mounted(n,s){var a,i,c;if(mo.value||(a=wt(s,po))!=null&&a.value)return;const o=wt(s,es),r=wt(s,uo),l=((i=o==null?void 0:o.value)==null?void 0:i.length)||0;o&&!((c=o==null?void 0:o.value)!=null&&c.includes(n))&&o.value.push(n),n==null||n.classList.toggle(Jn,!0),r&&ge(r,()=>{const p=(r==null?void 0:r.value)??0,d=s.value!=null?p>=s.value:p>l;n.classList.toggle(Cl,d),n.classList.toggle(xl,d)},{immediate:!0})},unmounted(n,s){n==null||n.classList.toggle(Jn,!1);const o=wt(s,es);o!=null&&o.value&&ya(o.value,n)}})}}}function CS(t,n){const s=Wf(t),o=zf(n,s.currentRoute,s.currentPage);return{nav:{...s,...o},configs:Be,themeConfigs:T(()=>Be.themeConfig)}}function xS(){return{install(t){const n=CS(Rt,It);t.provide(N,He(n))}}}const qs=lg(i5);qs.use(_t);qs.use(e6());qs.use(kS());qs.use(xS());DS({app:qs,router:_t});qs.mount("#app");export{bb as $,jA as A,K as B,PS as C,pt as D,Ue as E,$e as F,l1 as G,t5 as H,It as I,Ur as J,J4 as K,Ll as L,qn as M,He as N,TS as O,IS as P,ge as Q,L as R,kf as S,Se as T,ut as U,_1 as V,BS as W,SS as X,$o as Y,Pl as Z,j as _,N as a,Ci as a0,xi as a1,We as a2,gb as a3,ww as a4,$S as a5,Ln as a6,eo as a7,rs as a8,Qt as a9,xa as aa,K0 as ab,Y0 as ac,G0 as ad,Z0 as ae,Qp as af,Bd as ag,MS as ah,ht as ai,cr as aj,tA as ak,Nd as al,Q0 as am,qo as an,Fd as b,Be as c,Ie as d,Hy as e,re as f,e as g,O as h,I as i,Ye as j,z4 as k,u as l,se as m,rt as n,D as o,Ee as p,wi as q,Fs as r,Wt as s,yn as t,OS as u,T as v,Bl as w,R as x,gf as y,WA as z};
