import{_ as l}from"./CodeBlockWrapper-uylBieGT.js";import{o as k,c as r,k as e,e as s,l as n,m as d,q as p,s as o,A as h,a0 as i}from"../modules/vue-OFFvG7Pb.js";import{I as g}from"./default-D_S4i00B.js";import{b as y,U as a}from"../index-C-BjuIKJ.js";import{p as c,u,f as B}from"./context-9Pkxhg0T.js";import"../modules/unplugin-icons-C6BlKAHF.js";import"../modules/shiki-fN-xKbfc.js";const D=s("h1",null,"A01 Solution ğŸ’¡",-1),m={class:"dense"},f=s("ul",null,[s("li",null,[i("The issue comes from the usage of a user-supplied "),s("code",null,"query"),i(" parameter to choose which profileâ€™s info to check")]),s("li",null,[i("The server should instead fetch the only the "),s("code",null,"logged-in"),i(" userâ€™s info and reply with "),s("code",null,"403"),i(" in other cases")])],-1),A=s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-js"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"async"),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," req"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," =>"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  if"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"!"),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"req"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"user"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    throw"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," new"),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," errors"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"Unauthorized"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  const"),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," username"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ="),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," req"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"user"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"username"),s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // ğŸ’¡ We get the username from the logged in user, not from the query!")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  if"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"username"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," !=="),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," req"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"query"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"username"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    throw"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," new"),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," errors"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"Forbidden"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // if does not match with the user's one, return a 403 Forbidden error")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  return"),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," user")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1),_={__name:"15",setup(C){return c(a),u(),(q,v)=>{const t=l;return k(),r(g,p(o(h(B)(h(a),14))),{default:e(()=>[D,s("div",m,[f,n(t,d({},{ranges:[]}),{default:e(()=>[A]),_:1},16)])]),_:1},16)}}},N=y(_,[["__file","/@slidev/slides/15.md"]]);export{N as default};
